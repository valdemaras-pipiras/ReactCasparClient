{"version":3,"sources":["SavePannel.jsx","common.js","Video.jsx","useContextMenu.js","ImageFilterController.jsx","CasparcgTools.jsx","Help.jsx","DrawingController.jsx","ContextMenu.jsx","Drawing.jsx","store.js","ColorGradient.jsx","Layers.jsx","VideoController.jsx","App.js","reportWebVitals.js","index.js"],"names":["fileReader","address1","window","location","host","split","endpoint","string","data","axios","post","then","aa","catch","console","log","fontLists","Video","video","layerNumber","useState","videoWidth","setVideoWidth","videoHeight","setVideoHeight","videoX","setVideoX","videoY","setVideoY","operateOnline","setOperateOnline","size","width","height","position","x","y","enableResizing","right","bottom","onDrag","e","d","chNumber","onResize","direction","ref","delta","parseInt","style","className","backgroundColor","id","objectFit","controls","muted","src","type","display","htmlFor","value","onChange","val","onClick","useContextMenu","xPos","setXPos","yPos","setYPos","showMenu","setShowMenu","handleContextMenu","useCallback","clientX","clientY","preventDefault","handleClick","useEffect","document","addEventListener","removeEventListener","currentFile","ss","Date","toLocaleTimeString","year","month","day","hour12","hour","minute","second","SavePannel","canvaslist","setCanvaslist","currentPage","setCurentPage","currentFileName","setCurrentFileName","updatePageName","updatedCanvasList","map","i","target","getAttribute","innerText","pageValue","onDoubleClickPageName","event","sel","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","handleFileRead2","result","splice","bb","forEach","element","cc","JSON","parse","push","handleFileRead","updatePage","canvas","pageName","editor","toJSON","createElement","stringify","file","Blob","href","URL","createObjectURL","retVal","prompt","download","body","appendChild","click","drawingFileSaveAs","drawingFileSave","accept","files","name","FileReader","onloadend","readAsText","getObjects","remove","discardActiveObject","requestRenderAll","length","overflow","border","onDragEnd","destination","index","source","droppableId","provided","snapshot","innerRef","isDraggingOver","droppableProps","draggableId","draggableProps","isDragging","boxShadow","dragHandleProps","minWidth","color","json","loadFromJSON","set","objectCaching","error","alert","renderAll","recallPage","key1","key2","onDoubleClick","suppressContentEditableWarning","contentEditable","onMouseOut","filter","_","deletePage","pointerEvents","placeholder","f","fabric","Image","filters","ImageFilterController","refBrightness","useRef","refBlur","refHue","refPixelate","refSaturation","refContrast","refNoise","refVibrance","refColorRemove","refDistance","applyFilter","filterIndex","filterName","getActiveObjects","checked","applyFilters","applyFilterValue","filterValue","Brightness","current","min","max","step","defaultValue","Blur","HueRotation","Contrast","parseFloat","Saturation","Noise","Pixelate","Vibrance","RemoveColor","BlackWhite","Invert","Convolute","matrix","Sepia","Brownie","Vintage","Kodachrome","Technicolor","Polaroid","tools","CasparcgTools","textAreaContent","setTextAreaContent","currentTool","setCurrenttool","rows","cols","marginLeft","uuidv4","Help","rel","Object","prototype","noScaleCache","screenSizes","Direction","moveSelected","activeObject","getActiveObject","left","top","setCoords","util","addListener","options","key","which","keyCode","currentMode","currentColor","currentFont","currentFontSize","group","stroke","strokeWidth","shadowOptions","blur","offsetX","offsetY","affectStroke","gradient","Gradient","gradientUnits","coords","x1","y1","x2","y2","colorStops","offset","clipPath1","setasClipPath","cliptoPath","img","shadow","Group","absolutePositioned","sendToBack","addClock","sss","Textbox","fill","fontFamily","fontWeight","fontSize","editable","textAlign","add","setActiveObject","setInterval","ss1","animate","_clipboard","createText","text","Text","padding","bind","addRoundedCornerImage","imageName1","loadImage","myImg","rect","Rect","rx","ry","Pattern","repeat","scaleX","scaleY","createRect","opacity","hasRotatingPoint","strokeUniform","createCircle","circle","Circle","radius","cornerSize","createTriangle","isDrawingMode","triangle","Triangle","deleteSelectedItem","deleteAll","bringToFront","undo","redo","lock","selectable","unlockAll","ErasedGroup","createClass","original","ErasedPath","initialize","isAlreadyGrouped","this","callSuper","_calcBounds","onlyWidthHeight","aX","aY","props","jLen","o","j","prop","oCoords","_getBounds","EraserBrush","PencilBrush","_finalizeAndAddPath","contextTop","closePath","decimate","_points","decimatePoints","pathData","convertPointsToSVGPath","join","path","createPath","globalCompositeOperation","evented","objects","obj","intersectsWithObject","mergedGroup","newPath","newData","toDataURL","withoutTransform","fromURL","fabricImage","clearContext","_resetShadow","groupObjects","shouldGroup","toGroup","toActiveSelection","changeText","toString","selectAll","ActiveSelection","copy","clone","cloned","paste","clonedObj","forEachObject","DrawingController","fontList","setFontList","setCurrentFont","currentscreenSize","setCurrentscreenSize","f0","setF0","f1","setF1","f2","setF2","onlineImageUrl","setOnlineImageUrl","verticalSpeed","setVerticalSpeed","horizontalSpeed","setHorizontalSpeed","ltr","setLtr","currentstrokeLineCap","setCurrentstrokeLineCap","solidcaption1","setSolidcaption1","solidcaption2","setSolidcaption2","solidcaption3","setSolidcaption3","logo","setLogo","locationBand","setLocationBand","verticalScroll","setVerticalScroll","horizontalScroll","setHorizontalScroll","clock","setClock","upTimer","setUpTimer","setCurrentMode","onDrawingModeChange","mode","freeDrawingBrush","SprayBrush","strokeLineCap","toggleModeDrawing","handleFileReadJSON","content","object","startGraphics","setViewportTransform","animationMethod","setTimeout","toSVG","replaceAll","updateGraphics","stopGraphics","useDispatch","useSelector","state","canvas1Reducer","localStorage","getItem","item","isEditing","ctrlKey","setItem","hh","getBoundingRect","startVerticalScroll","onVerticalSpeedChange","exportVerticalScrollAsHTML","startHorizontalScroll","onHorizontalSpeedChange","exportHorizontalScrollAsHTML","exportClockAsHTML","startTime","diff","getTime","date_diff","toLocaleString","String","getMilliseconds","padStart","addUpTimer","exportUpTimerAsHTML","Tooltip","title","createTextBox","IText","createIText","Ellipse","createEllipse","Line","createLine","setOpacity1","onFontChange","onSizeChange","onstrokeLineCapChange","changeCurrentColor","changeBackGroundColor","changeStrokeCurrentColor","oldFill","oldStroke","onstrokeSizeChange","changeShadowCurrentColor","onBlurSizeChange","onoffsetXChange","onoffsetYChange","colSpan","skewX","onSkewXSizeChange","skewY","onSkewYSizeChange","onRxSizeChange","onRySizeChange","setZoom","getZoom","putat00","arr","Math","alignAllLeft","alignAllRight","alignAllTop","alignAllButtom","reader","onload","imgObj","image","scale","readAsDataURL","Upload","saveAs","exportHTML1","br","format","exportPng","exportSVG","exportJSON","site_url","loadSVGFromURL","importSVG","forceRenderTabPanel","ContextMenu","underline","linethrough","Drawing","canvasOutput","useFabricJSEditor","onReady","state1","canvasFromJson","state2","replace","RegExp","fromCharCode","ReadToCasparcgfromStore","on","opt","deltaY","zoom","zoomToPoint","stopPropagation","evt","altKey","selection","lastPosX","lastPosY","vpt","viewportTransform","initialState","element1","initialStateOneLiner","onelinerData","initialStateStyle1","style1","initialStateCanvas1","initialStatetextEditor1","rootReducer","combineReducers","reducer1","action","payload","oneLinerReducer","updatedOneLinerData","style1Reducer","textEditor1Reducer","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","ColorGradient","color1","setColor1","color2","setColor2","setDirection","coords1","setCoords1","gradient2","margin","backgroundImage","changeColor1","changeColor2","direction1","r1","r2","Layers","layers","setLayers","moveTo","selectObject","updatedLayers","deleteLayer","VideoController","filename","setfilename","media","setMedia","searchText","setSearchText","searchedMedia","toLowerCase","search","maxHeight","maxWidth","getElementById","getElementsByTagName","match","setAttribute","load","App","mediaPath","setmediaPath","process","imageName","setImageName","refPreviewContainer","setChNumber","currentTab","setCurrentTab","searchText2","setSearchText2","searchedMedia2","setAnimationMethod","connectbutton","refreshMedia","socket","socketIOClient","disconnect","Fragment","port","changeAnimationMethod","changeChannelNumber","flexDirection","flexWrap","alignContent","alignItems","alt","onSelect","prevIndex","onTabChange","justifyContent","marginBottom","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","exact"],"mappings":"qNASIA,E,4FCROC,EAAS,UAAaC,OAAOC,SAASC,KAAMC,MAAM,KAAK,GAAI,QAEzDC,EAAW,SAACC,GACrB,IAAMC,EAAO,CAAED,OAAQA,GACvBE,IAAMC,KAAKT,EAAW,YAAaO,GAAMG,MAAK,SAACC,OAE5CC,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,OAE/BI,EAAU,CACnB,iBACA,cACA,cACA,sBACA,iBACA,gBACA,gBACA,gBACA,oBACA,oBACA,iBACA,gBACA,iBACA,iBACA,kBACA,YACA,mBACA,iBACA,kBACA,gBACA,oBACA,0BACA,kBACA,uBACA,8BACA,kBACA,iBACA,gBACA,kBACA,iBACA,kBACA,kBACA,gBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,wBACA,kBACA,qBACA,iBACA,iBACA,kBACA,iBACA,kBACA,wBACA,gBACA,gBACA,kBACA,mBACA,kBACA,wBACA,mBACA,iBACA,mBACA,oBACA,mBACA,mBACA,kBACA,mBACA,iBACA,oBACA,gBACA,iBACA,iBACA,iBACA,kBACA,iBACA,kBACA,wBACA,gBACA,qBACA,kBACA,iBACA,mBACA,mBACA,kBACA,uBACA,oBACA,iBACA,oBACA,0BACA,0BACA,iBACA,oBACA,uBACA,iBACA,iBACA,mBACA,kBACA,kBACA,mBACA,kBACA,uBACA,iBACA,iBACA,yBACA,oBACA,kBACA,iBACA,kBACA,yBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,oBACA,mBACA,mBACA,oBACA,yBACA,kBACA,kBACA,gBACA,iBACA,kBACA,iBACA,kBACA,iBACA,iBACA,mBACA,mBACA,oBACA,mBACA,mBACA,kBACA,iBACA,iBACA,oBACA,iBACA,iBACA,iBACA,iBACA,oBACA,kBACA,kBACA,oBACA,sBACA,mBACA,qBACA,uBACA,yBACA,sBACA,0BACA,4BACA,qBACA,uBACA,qBACA,uBACA,qBACA,uBACA,oBACA,sBACA,oBACA,sBACA,uBACA,yBACA,uBACA,yBACA,qBACA,uBACA,mBACA,qBACA,oBACA,sBACA,0BACA,4BACA,qBACA,uBACA,qBACA,uBACA,oBACA,sBACA,sBACA,wBACA,oBACA,sBACA,qBACA,uBACA,uBACA,0BACA,4BACA,WACA,YACA,QACA,cACA,eACA,wBACA,mBACA,cACA,wBACA,oBACA,oBACA,8BACA,uBACA,uBACA,iCACA,4BACA,wBACA,wBACA,wBACA,uBACA,aACA,UACA,iBACA,sBACA,uBACA,iBACA,YACA,kBACA,sBACA,8BACA,eACA,oBACA,qBACA,mBACA,iBACA,WACA,kBACA,UACA,gBACA,iBACA,aACA,UACA,eACA,UACA,gBACA,gBACA,2BACA,sBACA,yBACA,0BACA,gBACA,2BACA,sBACA,yBACA,0BACA,YACA,UACA,UACA,iBACA,qBACA,UACA,aACA,gBACA,WACA,aACA,eACA,0BACA,2BACA,SACA,eACA,cACA,WACA,aACA,cACA,SACA,uBACA,WACA,WACA,eACA,gBACA,gBACA,iBACA,kBACA,gBACA,qBACA,QACA,uBACA,uBACA,4BACA,wBACA,yBACA,8BACA,mBACA,mBACA,WACA,SACA,WACA,UACA,OACA,eACA,yBACA,6BACA,uBACA,iCACA,gCACA,kBACA,cACA,mBACA,sBACA,aACA,kBACA,uBACA,SACA,oBACA,iBACA,WACA,WACA,gBACA,WACA,YACA,SACA,cACA,kBACA,gBACA,0BACA,gBACA,qBACA,iBACA,aACA,qBACA,cACA,yBACA,sBACA,UACA,cACA,gBACA,0BACA,SACA,SACA,SACA,UACA,4BACA,qBACA,qBACA,2BACA,wBACA,8BACA,wBACA,oBACA,uBACA,mBACA,kBACA,wBACA,qBACA,2BACA,qBACA,eACA,qBACA,UACA,gBACA,kBACA,mBACA,YACA,YACA,aACA,aACA,0BACA,yBACA,eACA,WACA,UACA,eACA,mBACA,gBACA,aACA,uBACA,UACA,iBACA,sBACA,OACA,mBACA,oBACA,UACA,YACA,WACA,sBACA,WACA,gBACA,eACA,WACA,cACA,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","file":"static/js/main.85754bc2.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { FiFile } from \"react-icons/fi\";\r\nimport { FaSave } from \"react-icons/fa\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { VscTrash, VscMove } from \"react-icons/vsc\";\r\n\r\n\r\n\r\nvar currentFile = 'new';\r\nlet fileReader;\r\n\r\n\r\nvar ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n\r\nconst SavePannel = () => {\r\n    const [canvaslist, setCanvaslist] = useState([{ 'pageName': ss + '_pageName', 'pageValue': '' }])\r\n    const [currentPage, setCurentPage] = useState(0)\r\n    const [currentFileName, setCurrentFileName] = useState('')\r\n\r\n\r\n    const deletePage = e => {\r\n        if (currentPage > e.target.getAttribute('key1')) {\r\n            setCurentPage(currentPage => currentPage - 1)\r\n        }\r\n        else if (currentPage === parseInt(e.target.getAttribute('key1'))) {\r\n            setCurentPage(null)\r\n        }\r\n        const updatedCanvasList = canvaslist.filter((_, i) => {\r\n            return (parseInt(e.target.getAttribute('key1')) !== i)\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const updatePageName = e => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === parseInt(e.target.getAttribute('key1'))) ? { 'pageName': e.target.innerText, 'pageValue': val.pageValue } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const onDoubleClickPageName = (event) => {\r\n        event.preventDefault();\r\n        var sel = window.getSelection();\r\n        var range = document.createRange();\r\n        range.selectNodeContents(event.target);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n    const recallPage = (json, canvas, i) => {\r\n        setCurentPage(i)\r\n        canvas.loadFromJSON(json, function () {\r\n            const aa = canvas.getObjects();\r\n            aa.forEach(element => {\r\n                try {\r\n                    element.set({ objectCaching: false })\r\n                } catch (error) {\r\n                    alert(error);\r\n                    return;\r\n                }\r\n            });\r\n            canvas.renderAll();\r\n        });\r\n\r\n    }\r\n    const deleteAll = canvas => {\r\n        const aa = canvas.getObjects()\r\n        aa.forEach(element => { canvas.remove(element) });\r\n        canvas.discardActiveObject();\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n    const handleFileRead2 = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = [...canvaslist]\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n    const handleFileChosen2 = (file) => {\r\n        if (file) {\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead2;\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n    const handleFileRead = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = []\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n    const drawingFileNew = () => {\r\n        setCanvaslist([]);\r\n    }\r\n    const updatePage = (canvas) => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === currentPage) ? { 'pageName': val.pageName, 'pageValue': window.editor.canvas.toJSON(['id']) } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const drawingFileSaveAs = () => {\r\n        updatePage(window.editor.canvas);\r\n        const element = document.createElement(\"a\");\r\n        var aa = ''\r\n        canvaslist.forEach(val => {\r\n            aa += JSON.stringify({ 'pageName': val.pageName, 'pageValue': val.pageValue }) + '\\r\\n'\r\n        });\r\n        const file = new Blob([aa], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss\r\n        if (currentFile === 'new') {\r\n            ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        } else {\r\n            ss = currentFile;\r\n        }\r\n\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n            setCurrentFileName(retVal)\r\n        }\r\n    }\r\n    const drawingFileSave = () => {\r\n        updatePage(window.editor.canvas);\r\n        const element = document.createElement(\"a\");\r\n        var aa = ''\r\n        canvaslist.forEach(val => {\r\n            aa += JSON.stringify({ 'pageName': val.pageName, 'pageValue': val.pageValue }) + '\\r\\n'\r\n        });\r\n        const file = new Blob([aa], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n\r\n        element.download = currentFileName;\r\n        document.body.appendChild(element); // Required for this to work in FireFox\r\n        element.click();\r\n\r\n    }\r\n    const handleFileChosen = (file) => {\r\n        if (file) {\r\n            currentFile = file.name\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead;\r\n            fileReader.readAsText(file);\r\n        }\r\n    }\r\n    const onDragEnd = (result) => {\r\n        const aa = [...canvaslist]\r\n        if (result.destination != null) {\r\n            aa.splice(result.destination?.index, 0, aa.splice(result.source?.index, 1)[0])\r\n            setCanvaslist(aa)\r\n            if (currentPage === result.source?.index) {\r\n                setCurentPage(result.destination?.index)\r\n            }\r\n            else if ((currentPage >= result.destination?.index) && (currentPage < result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage + 1)\r\n            }\r\n            else if ((currentPage <= result.destination?.index) && (currentPage > result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage - 1)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div >\r\n            <div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Save: </b>\r\n                    <button onClick={() => drawingFileNew(window.editor.canvas)}>File New <FiFile /></button>\r\n                    <button onClick={() => drawingFileSaveAs(window.editor.canvas)}>File Save As<FaSave /></button>\r\n                    <button onClick={() => drawingFileSave(window.editor.canvas)}>File Save<FaSave /></button><br />\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <span>Open File:</span>  <input\r\n                        type='file'\r\n                        id='file'\r\n                        className='input-file'\r\n                        accept='.txt'\r\n                        onChange={e => {\r\n                            handleFileChosen(e.target.files[0]);\r\n                            if (e.target.files[0]) { setCurrentFileName(e.target.files[0].name); };\r\n                        }}\r\n\r\n                    /><br />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <span>Add File:</span>  <input\r\n                        type='file'\r\n                        id='file'\r\n                        className='input-file'\r\n                        accept='.txt'\r\n                        onChange={e => handleFileChosen2(e.target.files[0])}\r\n                    /><br />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n\r\n                    <b> Pages: </b>\r\n                    <button onClick={() => {\r\n                        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                        var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                        if (retVal !== null) {\r\n                            deleteAll(window.editor?.canvas);\r\n                            setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n\r\n                            setCurentPage(canvaslist.length)\r\n                        }\r\n                    }}\r\n                    > Add Blank Page</button>\r\n\r\n                    <button onClick={() => {\r\n                        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                        var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                        if (retVal !== null) {\r\n                            setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n                            setCurentPage(canvaslist.length)\r\n                        }\r\n                    }}\r\n\r\n                    ><FaSave /> in New Page</button>\r\n\r\n                    <button onClick={() => updatePage(window.editor?.canvas)}>Update Page</button>\r\n                </div>\r\n            </div>\r\n            <div style={{ height: 780, width: 380, overflow: 'scroll', border: '1px solid black' }}>\r\n\r\n                <DragDropContext onDragEnd={onDragEnd}>\r\n                    <Droppable droppableId=\"droppable-1\" type=\"PERSON\">\r\n                        {(provided, snapshot) => (\r\n                            <div\r\n                                ref={provided.innerRef}\r\n                                style={{ backgroundColor: snapshot.isDraggingOver ? 'yellow' : 'yellowgreen' }}\r\n                                {...provided.droppableProps}\r\n                            >\r\n                                <table border='1'>\r\n                                    <tbody>\r\n                                        {canvaslist.map((val, i) => {\r\n                                            return (\r\n                                                <Draggable draggableId={\"draggable\" + i} key={val + i} index={i}>\r\n                                                    {(provided, snapshot) => (\r\n                                                        <tr\r\n                                                            ref={provided.innerRef}\r\n                                                            {...provided.draggableProps}\r\n                                                            style={{\r\n                                                                ...provided.draggableProps.style,\r\n                                                                backgroundColor: snapshot.isDragging ? 'red' : 'white',\r\n                                                                boxShadow: snapshot.isDragging ? \"0 0 .4rem #666\" : \"none\",\r\n                                                                // margin: '10px'\r\n                                                            }}\r\n                                                        >\r\n                                                            <td>{i + 1}</td><td {...provided.dragHandleProps}><VscMove /></td><td style={{ minWidth: 270, backgroundColor: currentPage === i ? 'green' : 'white', color: currentPage === i ? 'white' : 'black' }} onClick={(e) => {\r\n                                                                recallPage(val.pageValue, window.editor.canvas, i);\r\n                                                            }} key1={i} key2={'vimlesh'} onDoubleClick={onDoubleClickPageName} suppressContentEditableWarning={true} contentEditable onMouseOut={updatePageName}>{val.pageName}</td><td><button key1={i} onClick={(e) => deletePage(e)}>  <VscTrash style={{ pointerEvents: 'none' }} /></button ></td>\r\n                                                        </tr>\r\n                                                    )\r\n                                                    }\r\n                                                </Draggable>\r\n                                            )\r\n                                        })}\r\n                                        {provided.placeholder}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SavePannel\r\n","import axios from 'axios'\r\nexport var address1='http://' + (window.location.host).split(':')[0] +':8080' ;\r\n\r\nexport const endpoint = (string) => {\r\n    const data = { string: string }\r\n    axios.post(address1 + '/endpoint', data).then((aa) => {\r\n    //    console.log(aa)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n}\r\nexport const fontLists=[\r\n    \"AADevAksharReg\",\r\n    \"AADevApsBil\",\r\n    \"AADevApsReg\",\r\n    \"AADevChitralekhaReg\",\r\n    \"AADevIndicaReg\",\r\n    \"AADevIsfocBil\",\r\n    \"AADevIsfocReg\",\r\n    \"AADevKrutiReg\",\r\n    \"AADevShreeLipiBil\",\r\n    \"AADevShreeLipiReg\",\r\n    \"AADevSulipiReg\",\r\n    \"AADevSushaReg\",\r\n    \"AADevWinKeyBil\",\r\n    \"AADevWinKeyReg\",\r\n    \"AclAksharELight\",\r\n    \"Agency FB\",\r\n    \"AkrutiDevAbhijit\",\r\n    \"AkrutiDevAditi\",\r\n    \"AkrutiDevAditya\",\r\n    \"AkrutiDevAjit\",\r\n    \"AkrutiDevAkanksha\",\r\n    \"AkrutiDevAkankshaMedium\",\r\n    \"AkrutiDevAkhila\",\r\n    \"AkrutiDevAkshardhara\",\r\n    \"AkrutiDevAkshardharaExtBold\",\r\n    \"AkrutiDevAkshay\",\r\n    \"AkrutiDevAnand\",\r\n    \"AkrutiDevAnil\",\r\n    \"AkrutiDevAnjali\",\r\n    \"AkrutiDevArjun\",\r\n    \"AkrutiDevAshvin\",\r\n    \"AkrutiDevAsmita\",\r\n    \"AkrutiDevBela\",\r\n    \"AkrutiDevBhagya\",\r\n    \"AkrutiDevBharani\",\r\n    \"AkrutiDevBharati\",\r\n    \"AkrutiDevBhaskar\",\r\n    \"AkrutiDevBrahma\",\r\n    \"AkrutiDevCactus\",\r\n    \"AkrutiDevChakra\",\r\n    \"AkrutiDevChakraNormal\",\r\n    \"AkrutiDevChampa\",\r\n    \"AkrutiDevChandrika\",\r\n    \"AkrutiDevCharu\",\r\n    \"AkrutiDevDeepa\",\r\n    \"AkrutiDevGanesh\",\r\n    \"AkrutiDevHansa\",\r\n    \"AkrutiDevHarsha\",\r\n    \"AkrutiDevHarshaMedium\",\r\n    \"AkrutiDevHema\",\r\n    \"AkrutiDevIndu\",\r\n    \"AkrutiDevIshwar\",\r\n    \"AkrutiDevJanhavi\",\r\n    \"AkrutiDevKailas\",\r\n    \"AkrutiDevKailasMedium\",\r\n    \"AkrutiDevKalidas\",\r\n    \"AkrutiDevKusum\",\r\n    \"AkrutiDevMadhura\",\r\n    \"AkrutiDevMalavika\",\r\n    \"AkrutiDevMallika\",\r\n    \"AkrutiDevMandara\",\r\n    \"AkrutiDevMangal\",\r\n    \"AkrutiDevManisha\",\r\n    \"AkrutiDevManoj\",\r\n    \"AkrutiDevManorama\",\r\n    \"AkrutiDevMaya\",\r\n    \"AkrutiDevMayur\",\r\n    \"AkrutiDevMeera\",\r\n    \"AkrutiDevMegha\",\r\n    \"AkrutiDevMenaka\",\r\n    \"AkrutiDevMitra\",\r\n    \"AkrutiDevMogara\",\r\n    \"AkrutiDevMogaraMedium\",\r\n    \"AkrutiDevMouj\",\r\n    \"AkrutiDevMoujLight\",\r\n    \"AkrutiDevMukund\",\r\n    \"AkrutiDevNandi\",\r\n    \"AkrutiDevNarmada\",\r\n    \"AkrutiDevNartaki\",\r\n    \"AkrutiDevNatraj\",\r\n    \"AkrutiDevNatrajLight\",\r\n    \"AkrutiDevNavaneet\",\r\n    \"AkrutiDevNavin\",\r\n    \"AkrutiDevNewPriya\",\r\n    \"AkrutiDevNewPriyaExpand\",\r\n    \"AkrutiDevNewPriyaNormal\",\r\n    \"AkrutiDevOmkar\",\r\n    \"AkrutiDevParimala\",\r\n    \"AkrutiDevPataliputra\",\r\n    \"AkrutiDevPayal\",\r\n    \"AkrutiDevPooja\",\r\n    \"AkrutiDevPrakash\",\r\n    \"AkrutiDevPratap\",\r\n    \"AkrutiDevPratik\",\r\n    \"AkrutiDevPraveen\",\r\n    \"AkrutiDevPreeti\",\r\n    \"AkrutiDevPreetiLight\",\r\n    \"AkrutiDevPrema\",\r\n    \"AkrutiDevPriya\",\r\n    \"AkrutiDevPriyaExpanded\",\r\n    \"AkrutiDevPriyanka\",\r\n    \"AkrutiDevPushpa\",\r\n    \"AkrutiDevRahul\",\r\n    \"AkrutiDevRaksha\",\r\n    \"AkrutiDevRakshaExtBold\",\r\n    \"AkrutiDevRekha\",\r\n    \"AkrutiDevRishi\",\r\n    \"AkrutiDevRohini\",\r\n    \"AkrutiDevRoshan\",\r\n    \"AkrutiDevSavita\",\r\n    \"AkrutiDevSeetha\",\r\n    \"AkrutiDevShantala\",\r\n    \"AkrutiDevShivaji\",\r\n    \"AkrutiDevShradda\",\r\n    \"AkrutiDevShridhar\",\r\n    \"AkrutiDevShridharLight\",\r\n    \"AkrutiDevShruti\",\r\n    \"AkrutiDevSindhu\",\r\n    \"AkrutiDevSita\",\r\n    \"AkrutiDevSneha\",\r\n    \"AkrutiDevSulekh\",\r\n    \"AkrutiDevSunil\",\r\n    \"AkrutiDevSushma\",\r\n    \"AkrutiDevSwati\",\r\n    \"AkrutiDevTilak\",\r\n    \"AkrutiDevTriveni\",\r\n    \"AkrutiDevUpendra\",\r\n    \"AkrutiDevVaishali\",\r\n    \"AkrutiDevValmiki\",\r\n    \"AkrutiDevVandana\",\r\n    \"AkrutiDevVarsha\",\r\n    \"AkrutiDevVarun\",\r\n    \"AkrutiDevVedik\",\r\n    \"AkrutiDevVichitra\",\r\n    \"AkrutiDevVidya\",\r\n    \"AkrutiDevVijay\",\r\n    \"AkrutiDevVinod\",\r\n    \"AkrutiDevVivek\",\r\n    \"AkrutiDevXPYogini\",\r\n    \"AkrutiDevYamuna\",\r\n    \"AkrutiDevYogini\",\r\n    \"AkrutiOfficeAditi\",\r\n    \"AkrutiOfficeAditi01\",\r\n    \"AkrutiOfficeAjit\",\r\n    \"AkrutiOfficeAjit01\",\r\n    \"AkrutiOfficeAkanksha\",\r\n    \"AkrutiOfficeAkanksha01\",\r\n    \"AkrutiOfficeAkansha\",\r\n    \"AkrutiOfficeAkshardhara\",\r\n    \"AkrutiOfficeAkshardhara01\",\r\n    \"AkrutiOfficeAkshay\",\r\n    \"AkrutiOfficeAkshay01\",\r\n    \"AkrutiOfficeChakra\",\r\n    \"AkrutiOfficeChakra01\",\r\n    \"AkrutiOfficeChampa\",\r\n    \"AkrutiOfficeChampa01\",\r\n    \"AkrutiOfficeDeepa\",\r\n    \"AkrutiOfficeDeepa01\",\r\n    \"AkrutiOfficeHansa\",\r\n    \"AkrutiOfficeHansa01\",\r\n    \"AkrutiOfficeHinPriya\",\r\n    \"AkrutiOfficeHinPriya01\",\r\n    \"AkrutiOfficeManorama\",\r\n    \"AkrutiOfficeManorama01\",\r\n    \"AkrutiOfficeMogara\",\r\n    \"AkrutiOfficeMogara01\",\r\n    \"AkrutiOfficeMouj\",\r\n    \"AkrutiOfficeMouj01\",\r\n    \"AkrutiOfficePriya\",\r\n    \"AkrutiOfficePriya01\",\r\n    \"AkrutiOfficePriyaExpand\",\r\n    \"AkrutiOfficePriyaExpand01\",\r\n    \"AkrutiOfficeShruti\",\r\n    \"AkrutiOfficeShruti01\",\r\n    \"AkrutiOfficeSulekh\",\r\n    \"AkrutiOfficeSulekh01\",\r\n    \"AkrutiOfficeSwati\",\r\n    \"AkrutiOfficeSwati01\",\r\n    \"AkrutiOfficeTriveni\",\r\n    \"AkrutiOfficeTriveni01\",\r\n    \"AkrutiOfficeVijay\",\r\n    \"AkrutiOfficeVijay01\",\r\n    \"AkrutiOfficeYogini\",\r\n    \"AkrutiOfficeYogini-S\",\r\n    \"AkrutiOfficeYogini01\",\r\n    \"AkrutiOfficeYoginiLight\",\r\n    \"AkrutiOfficeYoginiLight01\",\r\n    \"Algerian\",\r\n    \"Aparajita\",\r\n    \"Arial\",\r\n    \"Arial Black\",\r\n    \"Arial Narrow\",\r\n    \"Arial Rounded MT Bold\",\r\n    \"Arial Unicode MS\",\r\n    \"Bahnschrift\",\r\n    \"Bahnschrift Condensed\",\r\n    \"Bahnschrift Light\",\r\n    \"Bahnschrift Light\",\r\n    \"Bahnschrift Light Condensed\",\r\n    \"Bahnschrift SemiBold\",\r\n    \"Bahnschrift SemiBold\",\r\n    \"Bahnschrift SemiBold Condensed\",\r\n    \"Bahnschrift SemiCondensed\",\r\n    \"Bahnschrift SemiLight\",\r\n    \"Bahnschrift SemiLight\",\r\n    \"Bahnschrift SemiLight\",\r\n    \"Baskerville Old Face\",\r\n    \"Bauhaus 93\",\r\n    \"Bell MT\",\r\n    \"Berlin Sans FB\",\r\n    \"Berlin Sans FB Demi\",\r\n    \"Bernard MT Condensed\",\r\n    \"Blackadder ITC\",\r\n    \"Bodoni MT\",\r\n    \"Bodoni MT Black\",\r\n    \"Bodoni MT Condensed\",\r\n    \"Bodoni MT Poster Compressed\",\r\n    \"Book Antiqua\",\r\n    \"Bookman Old Style\",\r\n    \"Bookshelf Symbol 7\",\r\n    \"Bradley Hand ITC\",\r\n    \"Britannic Bold\",\r\n    \"Broadway\",\r\n    \"Brush Script MT\",\r\n    \"Calibri\",\r\n    \"Calibri Light\",\r\n    \"Californian FB\",\r\n    \"Calisto MT\",\r\n    \"Cambria\",\r\n    \"Cambria Math\",\r\n    \"Candara\",\r\n    \"Candara Light\",\r\n    \"Cascadia Code\",\r\n    \"Cascadia Code ExtraLight\",\r\n    \"Cascadia Code Light\",\r\n    \"Cascadia Code SemiBold\",\r\n    \"Cascadia Code SemiLight\",\r\n    \"Cascadia Mono\",\r\n    \"Cascadia Mono ExtraLight\",\r\n    \"Cascadia Mono Light\",\r\n    \"Cascadia Mono SemiBold\",\r\n    \"Cascadia Mono SemiLight\",\r\n    \"Castellar\",\r\n    \"Centaur\",\r\n    \"Century\",\r\n    \"Century Gothic\",\r\n    \"Century Schoolbook\",\r\n    \"Chiller\",\r\n    \"Colonna MT\",\r\n    \"Comic Sans MS\",\r\n    \"Consolas\",\r\n    \"Constantia\",\r\n    \"Cooper Black\",\r\n    \"Copperplate Gothic Bold\",\r\n    \"Copperplate Gothic Light\",\r\n    \"Corbel\",\r\n    \"Corbel Light\",\r\n    \"Courier New\",\r\n    \"Curlz MT\",\r\n    \"DVOT-Bhima\",\r\n    \"DVOT-Surekh\",\r\n    \"Ebrima\",\r\n    \"Edwardian Script ITC\",\r\n    \"Ek Mukta\",\r\n    \"Elephant\",\r\n    \"Engravers MT\",\r\n    \"Eras Bold ITC\",\r\n    \"Eras Demi ITC\",\r\n    \"Eras Light ITC\",\r\n    \"Eras Medium ITC\",\r\n    \"Felix Titling\",\r\n    \"Footlight MT Light\",\r\n    \"Forte\",\r\n    \"Franklin Gothic Book\",\r\n    \"Franklin Gothic Demi\",\r\n    \"Franklin Gothic Demi Cond\",\r\n    \"Franklin Gothic Heavy\",\r\n    \"Franklin Gothic Medium\",\r\n    \"Franklin Gothic Medium Cond\",\r\n    \"Freestyle Script\",\r\n    \"French Script MT\",\r\n    \"Gabriola\",\r\n    \"Gadugi\",\r\n    \"Garamond\",\r\n    \"Georgia\",\r\n    \"Gigi\",\r\n    \"Gill Sans MT\",\r\n    \"Gill Sans MT Condensed\",\r\n    \"Gill Sans MT Ext Condensed\",\r\n    \"Gill Sans Ultra Bold\",\r\n    \"Gill Sans Ultra Bold Condensed\",\r\n    \"Gloucester MT Extra Condensed\",\r\n    \"Goudy Old Style\",\r\n    \"Goudy Stout\",\r\n    \"Haettenschweiler\",\r\n    \"Harlow Solid Italic\",\r\n    \"Harrington\",\r\n    \"High Tower Text\",\r\n    \"HoloLens MDL2 Assets\",\r\n    \"Impact\",\r\n    \"Imprint MT Shadow\",\r\n    \"Informal Roman\",\r\n    \"Ink Free\",\r\n    \"ISCIIDev\",\r\n    \"Javanese Text\",\r\n    \"Jokerman\",\r\n    \"Juice ITC\",\r\n    \"Kokila\",\r\n    \"Kristen ITC\",\r\n    \"Kunstler Script\",\r\n    \"Leelawadee UI\",\r\n    \"Leelawadee UI Semilight\",\r\n    \"Lucida Bright\",\r\n    \"Lucida Calligraphy\",\r\n    \"Lucida Console\",\r\n    \"Lucida Fax\",\r\n    \"Lucida Handwriting\",\r\n    \"Lucida Sans\",\r\n    \"Lucida Sans Typewriter\",\r\n    \"Lucida Sans Unicode\",\r\n    \"Magneto\",\r\n    \"Maiandra GD\",\r\n    \"Malgun Gothic\",\r\n    \"Malgun Gothic Semilight\",\r\n    \"Mangal\",\r\n    \"Marat1\",\r\n    \"Marat2\",\r\n    \"Marlett\",\r\n    \"Matura MT Script Capitals\",\r\n    \"Microsoft Himalaya\",\r\n    \"Microsoft JhengHei\",\r\n    \"Microsoft JhengHei Light\",\r\n    \"Microsoft JhengHei UI\",\r\n    \"Microsoft JhengHei UI Light\",\r\n    \"Microsoft New Tai Lue\",\r\n    \"Microsoft PhagsPa\",\r\n    \"Microsoft Sans Serif\",\r\n    \"Microsoft Tai Le\",\r\n    \"Microsoft YaHei\",\r\n    \"Microsoft YaHei Light\",\r\n    \"Microsoft YaHei UI\",\r\n    \"Microsoft YaHei UI Light\",\r\n    \"Microsoft Yi Baiti\",\r\n    \"MingLiU-ExtB\",\r\n    \"MingLiU_HKSCS-ExtB\",\r\n    \"Mistral\",\r\n    \"Modern No. 20\",\r\n    \"Mongolian Baiti\",\r\n    \"Monotype Corsiva\",\r\n    \"MS Gothic\",\r\n    \"MS Mincho\",\r\n    \"MS Outlook\",\r\n    \"MS PGothic\",\r\n    \"MS Reference Sans Serif\",\r\n    \"MS Reference Specialty\",\r\n    \"MS UI Gothic\",\r\n    \"MT Extra\",\r\n    \"MV Boli\",\r\n    \"Myanmar Text\",\r\n    \"Niagara Engraved\",\r\n    \"Niagara Solid\",\r\n    \"Nirmala UI\",\r\n    \"Nirmala UI Semilight\",\r\n    \"NSimSun\",\r\n    \"OCR A Extended\",\r\n    \"Old English Text MT\",\r\n    \"Onyx\",\r\n    \"Palace Script MT\",\r\n    \"Palatino Linotype\",\r\n    \"Papyrus\",\r\n    \"Parchment\",\r\n    \"Perpetua\",\r\n    \"Perpetua Titling MT\",\r\n    \"Playbill\",\r\n    \"PMingLiU-ExtB\",\r\n    \"Poor Richard\",\r\n    \"Pristina\",\r\n    \"Rage Italic\",\r\n    \"Ravie\",\r\n    \"Rockwell\",\r\n    \"Rockwell Condensed\",\r\n    \"Rockwell Extra Bold\",\r\n    \"Sakal Marathi\",\r\n    \"SakalBharati\",\r\n    \"Sanskrit Text\",\r\n    \"Script MT Bold\",\r\n    \"Segoe Fluent Icons\",\r\n    \"Segoe MDL2 Assets\",\r\n    \"Segoe Print\",\r\n    \"Segoe Script\",\r\n    \"Segoe UI\",\r\n    \"Segoe UI Black\",\r\n    \"Segoe UI Emoji\",\r\n    \"Segoe UI Historic\",\r\n    \"Segoe UI Light\",\r\n    \"Segoe UI Semibold\",\r\n    \"Segoe UI Semilight\",\r\n    \"Segoe UI Symbol\",\r\n    \"Segoe UI Variable Display\",\r\n    \"Segoe UI Variable Display\",\r\n    \"Segoe UI Variable Display\",\r\n    \"Segoe UI Variable Display\",\r\n    \"Segoe UI Variable Small\",\r\n    \"Segoe UI Variable Small\",\r\n    \"Segoe UI Variable Small\",\r\n    \"Segoe UI Variable Small Light\",\r\n    \"Segoe UI Variable Text\",\r\n    \"Segoe UI Variable Text\",\r\n    \"Segoe UI Variable Text\",\r\n    \"Segoe UI Variable Text Light\",\r\n    \"Showcard Gothic\",\r\n    \"SimSun\",\r\n    \"SimSun-ExtB\",\r\n    \"Sitka Banner\",\r\n    \"Sitka Banner Semibold\",\r\n    \"Sitka Display\",\r\n    \"Sitka Display Semibold\",\r\n    \"Sitka Heading\",\r\n    \"Sitka Heading Semibold\",\r\n    \"Sitka Small\",\r\n    \"Sitka Small Semibold\",\r\n    \"Sitka Subheading\",\r\n    \"Sitka Subheading Semibold\",\r\n    \"Sitka Text\",\r\n    \"Sitka Text Semibold\",\r\n    \"Snap ITC\",\r\n    \"Stencil\",\r\n    \"Sylfaen\",\r\n    \"Symbol\",\r\n    \"Tahoma\",\r\n    \"Tempus Sans ITC\",\r\n    \"Times New Roman\",\r\n    \"Trebuchet MS\",\r\n    \"Tw Cen MT\",\r\n    \"Tw Cen MT Condensed\",\r\n    \"Tw Cen MT Condensed Extra Bold\",\r\n    \"Utsaah\",\r\n    \"Verdana\",\r\n    \"Viner Hand ITC\",\r\n    \"Vivaldi\",\r\n    \"Vladimir Script\",\r\n    \"Webdings\",\r\n    \"Wide Latin\",\r\n    \"Wingdings\",\r\n    \"Wingdings 2\",\r\n    \"Wingdings 3\",\r\n    \"Yu Gothic\",\r\n    \"Yu Gothic Light\",\r\n    \"Yu Gothic Medium\",\r\n    \"Yu Gothic UI\",\r\n    \"Yu Gothic UI Light\",\r\n    \"Yu Gothic UI Semibold\",\r\n    \"Yu Gothic UI Semilight\"\r\n]","import React, { useState } from 'react';\r\nimport { endpoint } from './common';\r\nimport { Rnd } from 'react-rnd';\r\n\r\nconst Video = ({ video, layerNumber }) => {\r\n    const [videoWidth, setVideoWidth] = useState(1024 / 2);\r\n    const [videoHeight, setVideoHeight] = useState(576 / 2);\r\n    const [videoX, setVideoX] = useState(0);\r\n    const [videoY, setVideoY] = useState(0);\r\n    const [operateOnline, setOperateOnline] = useState(false);\r\n\r\n    return (<>\r\n        <Rnd\r\n            size={{ width: videoWidth, height: videoHeight }}\r\n            position={{ x: videoX, y: videoY }}\r\n            enableResizing={{ right: true, bottom: true }}\r\n            onDrag={(e, d) => {\r\n                setVideoX(d.x);\r\n                setVideoY(d.y);\r\n                if (operateOnline) { endpoint(`mixer ${window.chNumber}-${layerNumber} fill ${d.x / 1024} ${d.y / 576} ${videoWidth / 1024} ${videoHeight / 576}`) };\r\n            }}\r\n            onResize={(e, direction, ref, delta, position) => {\r\n                setVideoWidth(parseInt(ref.style.width));\r\n                setVideoHeight(parseInt(ref.style.height));\r\n                if (operateOnline) { endpoint(`mixer ${window.chNumber}-${layerNumber} fill ${videoX / 1024} ${videoY / 576} ${parseInt(ref.style.width) / 1024} ${parseInt(ref.style.height) / 576}`) };\r\n\r\n            }}\r\n        >\r\n            <div>\r\n                <div className=\"box\" style={{ width: videoWidth, height: videoHeight, backgroundColor: 'white' }} >\r\n                    <video id={`video${layerNumber}`} width={videoWidth} height={videoHeight} style={{ objectFit: 'fill' }} controls muted>\r\n                        <source src={video} type=\"video/mp4\" />\r\n                    </video>\r\n                    <div style={{ backgroundColor: 'white' }}>\r\n                        <b style={{ display: 'inline' }}>{layerNumber}</b>\r\n                        <label htmlFor={`vehicle${layerNumber}`}> Operate Online</label>\r\n                        <input id={`vehicle${layerNumber}`} type=\"checkbox\" value={operateOnline} onChange={e => setOperateOnline(val => !val)} />\r\n                        <button onClick={() => {\r\n                            setVideoWidth(1024);\r\n                            setVideoHeight(576);\r\n                            setVideoX(0);\r\n                            setVideoY(0);\r\n                            if (operateOnline) {\r\n                                endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1`);\r\n                            };\r\n\r\n                        }}>Make Full Screen</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Rnd>\r\n    </>)\r\n}\r\n\r\nexport default Video\r\n","import { useEffect, useState, useCallback } from \"react\";\r\n\r\nconst useContextMenu = () => {\r\n  const [xPos, setXPos] = useState(\"0px\");\r\n  const [yPos, setYPos] = useState(\"0px\");\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const handleContextMenu = useCallback(\r\n    (e) => {\r\n      if (e.clientX > 1024) return\r\n      if (e.clientY > 610) return\r\n\r\n      e.preventDefault();\r\n\r\n      setXPos(`${e.clientX - 60}px`);\r\n\r\n      if (e.clientY > 145) {\r\n\r\n        setYPos(`${30}px`);\r\n      }\r\n      else {\r\n        setYPos(`${e.clientY - 50}px`);\r\n      }\r\n      setShowMenu(true)\r\n\r\n    },\r\n    [setXPos, setYPos]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    showMenu && setShowMenu(false);\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    document.addEventListener(\"contextmenu\", handleContextMenu);\r\n    return () => {\r\n      document.addEventListener(\"click\", handleClick);\r\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\r\n    };\r\n  });\r\n\r\n  return { xPos, yPos, showMenu };\r\n};\r\n\r\nexport default useContextMenu","import React, { useRef } from 'react';\r\nimport { fabric } from \"fabric\";\r\n// var filters = ['grayscale', 'invert', 'remove-color', 'sepia', 'brownie',\r\n//     'brightness', 'contrast', 'saturation', 'vibrance', 'noise', 'vintage',\r\n//     'pixelate', 'blur', 'sharpen', 'emboss', 'technicolor',\r\n//     'polaroid', 'blend-color', 'gamma', 'kodachrome',\r\n//     'blackwhite', 'blend-image', 'hue', 'resize'];\r\n\r\nvar f = fabric.Image.filters;\r\nconst ImageFilterController = ({ canvas }) => {\r\n    const refBrightness = useRef();\r\n    const refBlur = useRef();\r\n    const refHue = useRef();\r\n    const refPixelate = useRef();\r\n    const refSaturation = useRef();\r\n    const refContrast = useRef();\r\n    const refNoise = useRef();\r\n    const refVibrance = useRef();\r\n    const refColorRemove = useRef();\r\n    const refDistance = useRef();\r\n\r\n\r\n\r\n    const removeFilter = () => {\r\n        canvas.getActiveObjects().forEach(element => {\r\n            if (element.type === 'image') {\r\n                element.filters = []\r\n                element.applyFilters();\r\n                canvas.requestRenderAll();\r\n            }\r\n        });\r\n    }\r\n    const applyFilter = (e, filterIndex, filterName) => {\r\n        canvas.getActiveObjects().forEach(element => {\r\n            if (element.type === 'image') {\r\n                element.filters[filterIndex] = e.target.checked ? filterName : '';\r\n                element.applyFilters();\r\n                canvas.requestRenderAll();\r\n            }\r\n        });\r\n    }\r\n    const applyFilterValue = (filterIndex, filterName, filterValue) => {\r\n        canvas.getActiveObjects().forEach(element => {\r\n            if (element.type === 'image') {\r\n                if (element.filters[filterIndex]) {\r\n                    element.filters[filterIndex][filterName] = filterValue;\r\n                }\r\n                element.applyFilters();\r\n                canvas.requestRenderAll();\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h5>Image from local pc method only will get filters. </h5>\r\n            <table border='1'>\r\n                <tbody>\r\n                    <tr><td>Prperty</td><td><button onClick={removeFilter} id=\"AllFlter\" >All Remove</button></td><td>Value</td></tr>\r\n                    <tr><td><b>Brightness:</b></td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 5, new f.Brightness({ 'brightness': refBrightness.current.value }))} type=\"checkbox\" id=\"brightness\" /></label></td><td><input ref={refBrightness} className='inputRange' onChange={() => applyFilterValue(5, 'brightness', refBrightness.current.value)} type=\"range\" min='-1' max='1' step='0.1' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Blur:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 11, new f.Blur({ 'blur': refBlur.current.value }))} type=\"checkbox\" id=\"blur\" /></label></td><td><input ref={refBlur} className='inputRange' onChange={() => applyFilterValue(11, 'blur', refBlur.current.value)} type=\"range\" min='0' max='1' step='0.1' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Hue:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 21, new f.HueRotation({ 'rotation': refHue.current.value }))} type=\"checkbox\" id=\"hue\" /></label></td><td><input ref={refHue} className='inputRange' onChange={() => applyFilterValue(21, 'rotation', refHue.current.value)} type=\"range\" min='-2' max='2' step='0.002' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Contrast:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 6, new f.Contrast({ 'contrast': parseFloat(refContrast.current.value, 10) }))} type=\"checkbox\" id=\"Contrast\" /></label></td><td><input ref={refContrast} className='inputRange' onChange={e => applyFilterValue(6, 'contrast', parseFloat(refContrast.current.value, 10))} type=\"range\" min='-1' max='1' step='0.003921' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Saturation:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 7, new f.Saturation({ 'saturation': parseFloat(refSaturation.current.value, 10) }))} type=\"checkbox\" id=\"Saturation\" /></label></td><td><input ref={refSaturation} className='inputRange' onChange={e => applyFilterValue(7, 'saturation', parseFloat(refSaturation.current.value, 10))} type=\"range\" min='-1' max='1' step='0.003921' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Noise:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 9, new f.Noise({ 'noise': parseInt(refNoise.current.value, 10) }))} type=\"checkbox\" id=\"Noise\" /></label></td><td><input ref={refNoise} className='inputRange' onChange={e => applyFilterValue(9, 'noise', parseInt(refNoise.current.value, 10))} type=\"range\" min='0' max='1000' step='1' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Pixelate:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 10, new f.Pixelate({ 'blocksize': parseInt(refPixelate.current.value, 10) }))} type=\"checkbox\" id=\"Pixelate\" /></label></td><td><input ref={refPixelate} className='inputRange' onChange={() => applyFilterValue(10, 'blocksize', parseInt(refPixelate.current.value, 10))} type=\"range\" min='1' max='500' step='1' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>Vibrance:</b> </td><td><label style={{ display: 'block' }}><input onChange={e => applyFilter(e, 8, new f.Vibrance({ 'vibrance': refVibrance.current.value }))} type=\"checkbox\" id=\"Vibrance\" /></label></td><td><input ref={refVibrance} className='inputRange' onChange={e => applyFilterValue(8, 'vibrance', refVibrance.current.value)} type=\"range\" min='-1' max='1' step='0.003921' defaultValue='0' /></td></tr>\r\n                    <tr><td><b>RemoveColor:</b> </td><td><label style={{ display: 'inline' }}><input onChange={e => applyFilter(e, 2, new f.RemoveColor({ 'color': refColorRemove.current.value, 'distance': refDistance.current.value }))} type=\"checkbox\" id=\"RemoveColor\" /></label><input onChange={e => applyFilterValue(2, 'color', refColorRemove.current.value)} ref={refColorRemove} type='color' /></td><td><input ref={refDistance} className='inputRange' onChange={e => applyFilterValue(2, 'distance', refDistance.current.value)} type=\"range\" min='0' max='1' step='0.01' defaultValue='0' /></td></tr>\r\n\r\n\r\n                    <tr><td><b>Black/White:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 19, new f.BlackWhite())} type=\"checkbox\" id=\"blackwhite\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Invert:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 1, new f.Invert())} type=\"checkbox\" id=\"Invert\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Sharpen:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 12, new f.Convolute({\r\n                        matrix: [0, -1, 0,\r\n                            -1, 5, -1,\r\n                            0, -1, 0]\r\n                    }))} type=\"checkbox\" id=\"Sharpen\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Emboss:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 13, new f.Convolute({\r\n                        matrix: [1, 1, 1,\r\n                            1, 0.7, -1,\r\n                            -1, -1, -1]\r\n                    }))} type=\"checkbox\" id=\"Emboss\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Sepia:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 3, new f.Sepia())} type=\"checkbox\" id=\"Sepia\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Brownie:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 4, new f.Brownie())} type=\"checkbox\" id=\"Brownie\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Vintage:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 9, new f.Vintage())} type=\"checkbox\" id=\"Vintage\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Kodachrome:</b></td><td>  <label style={{ display: 'block' }}><input onChange={(e) => applyFilter(e, 18, new f.Kodachrome())} type=\"checkbox\" id=\"Kodachrome\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Technicolor:</b></td><td>  <label style={{ display: 'block' }}><input onChange={(e) => applyFilter(e, 14, new f.Technicolor())} type=\"checkbox\" id=\"Technicolor\" /></label></td><td></td></tr>\r\n                    <tr><td><b>Polaroid:</b></td><td> <label style={{ display: 'block' }}> <input onChange={(e) => applyFilter(e, 15, new f.Polaroid())} type=\"checkbox\" id=\"Polaroid\" /></label> </td><td></td></tr>\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageFilterController\r\n","import React, { useState } from 'react'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { endpoint } from './common'\r\n\r\n\r\nexport const tools = [\"ADD 1 AUDIO\", \"ADD 1 BLUEFISH 1\", \"ADD 1 DECKLINK 1\", \"add 1 decklink 1 keyer_internal\", \"ADD 1 EMBEDDED_AUDIO\", \"ADD 1 FILE FILENAME.MP4 SEPARATE_KEY\", \"add 1 file xyz.mxf mono_streams\", \"ADD 1 IMAGE FILENAME\", \"ADD 1 NDI\", \"add 1 ndi name ch1\", \"add 1 ndi name ch1 allow_fields\", \"ADD 1 newtek_ivga\", \"ADD 1 SCREEN 0\", \"ADD 1 SCREEN 0 FULLSCREEN\", \"ADD 1 SCREEN 0 INTERACTIVE\", \"ADD 1 SCREEN 0 NON_INTERACTIVE\", \"ADD 1 SCREEN 0 WINDOWED\", \"ADD 1 SCREEN 1 name Preview\", \"ADD 1 SCREEN 1 NO_AUTO_DEINTERLACE\", \"Add 1 screen 2 key_only\", \"add 2 ndi name ch2\", \"ADD 2 SCREEN 0\", \"add 3 ndi name ch3\", \"add 4 ndi name ch4\", \"BYE\", \"call 1-1 framerate speed 0.3\", \"CALL 1-1 LOOP 0\", \"CALL 1-1 LOOP 1\", \"call 1-1 seek -30 rel\", \"call 1-1 seek 30 end\", \"call 1-1 seek 30 rel\", \"CHANNEL_GRID\", \"CLS\", \"DATA LIST\", \"DATA REMOVE my_data\", \"DATA RETRIEVE my_data\", 'DATA STORE my_data \"Some useful data\"', \"DIAG\", \"FLS\", \"GL GC\", \"GL INFO\", \"HELP\", \"HELP PLAY\", \"INFO\", \"INFO 1\", \"INFO 1-1\", \"INFO 1-1 B\", \"INFO 1-1 F\", \"INFO 1 DELAY\", \"INFO CONFIG\", \"INFO PATHS\", \"INFO QUEUES\", \"INFO SERVER\", \"INFO SYSTEM\", \"INFO THREADS\", \"KILL\", \"LOCK 1 ACQUIRE secret\", \"LOCK 1 CLEAR\", \"LOCK 1 RELEASE\", \"LOG LEVEL debug\", \"LOG LEVEL error\", \"LOG LEVEL fatal\", \"LOG LEVEL info\", \"LOG LEVEL trace\", \"LOG LEVEL warning\", \"MIXER 1-0 KEYER 1\", \"MIXER 1-1 CLEAR\", \"MIXER 1 CLEAR\", \"MIXER 1 STRAIGHT_ALPHA_OUTPUT 0\", \"MIXER 1 STRAIGHT_ALPHA_OUTPUT 1\", \"MIXER 5 GRID 2\", \"NDI LIST\", 'PLAY 1-1 \"ndi://DEVICE-NAME/Source+Name\"', 'PLAY 1-1 [NDI] \"DEVICE-NAME (Source Name)\"', \"PLAY 1-1 AMB STING wipe_mask 0 wipe_overlay\", \"PLAY 2-10 route://1-10 BACKGROUND\", \"PLAY 2-10 route://1-10 NEXT\", \"PRINT 1\", \"REMOVE 1 AUDIO\", \"REMOVE 1 BLUEFISH 1\", \"REMOVE 1 DECKLINK 1\", \"REMOVE 1 EMBEDDED_AUDIO\", \"REMOVE 1 FILE\", \"remove 1 ndi\", \"REMOVE 1 NDI\", \"REMOVE 1 newtek_ivga\", \"REMOVE 1 REPLAY\", \"REMOVE 1 SCREEN\", \"REMOVE 1 STREAM udp://localhost:5004\", \"remove 2 ndi\", \"REMOVE 2 SCREEN\", \"remove 3 ndi\", \"remove 4 ndi\", \"RESTART\", \"RESUME 1-1\", \"SET 1 CHANNEL_LAYOUT 8ch\", \"SET 1 MODE 1080i5000\", \"SET 1 MODE 1080i5994\", \"SET 1 MODE 1080i6000\", \"SET 1 MODE 1080p2398\", \"SET 1 MODE 1080p2400\", \"SET 1 MODE 1080p2500\", \"SET 1 MODE 1080p2997\", \"SET 1 MODE 1080p3000\", \"SET 1 MODE 1080p5000\", \"SET 1 MODE 1080p5994\", \"SET 1 MODE 1080p6000\", \"SET 1 MODE 1556p2398\", \"SET 1 MODE 1556p2400\", \"SET 1 MODE 1556p2500\", \"SET 1 MODE 2160p2398\", \"SET 1 MODE 2160p2400\", \"SET 1 MODE 2160p2500\", \"SET 1 MODE 2160p2997\", \"SET 1 MODE 2160p3000\", \"SET 1 MODE 576p2500\", \"SET 1 MODE 720p2398\", \"SET 1 MODE 720p2400\", \"SET 1 MODE 720p2500\", \"SET 1 MODE 720p2997\", \"SET 1 MODE 720p3000\", \"SET 1 MODE 720p5000\", \"SET 1 MODE 720p5994\", \"SET 1 MODE 720p6000\", \"SET 1 MODE dci1080p2398\", \"SET 1 MODE dci1080p2400\", \"SET 1 MODE dci1080p2500\", \"SET 1 MODE dci2160p2398\", \"SET 1 MODE dci2160p2400\", \"SET 1 MODE dci2160p2500\", \"SET 1 MODE NTSC\", \"SET 1 MODE PAL\", \"Swap 1-1 1-2\", \"THUMBNAIL GENERATE_ALL\", \"THUMBNAIL LIST\", \"TLS\", \"VERSION FLASH\", \"VERSION SERVER\", \"VERSION TEMPLATEH\"]\r\n\r\nconst CasparcgTools = () => {\r\n    const [textAreaContent, setTextAreaContent] = useState('play 1-1 amb loop')\r\n    const [currentTool, setCurrenttool] = useState('')\r\n\r\n    const sendAMCPCommand = () => {\r\n        let textArray = textAreaContent.split(/^/gm);\r\n        textArray.forEach(element => {\r\n            endpoint(`${element}`)\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>AMCP Commands:</p>\r\n            <div style={{ display: 'flex' }}>\r\n                <div>\r\n                    <textarea rows=\"4\" cols=\"30\" onChange={e => setTextAreaContent(e.target.value)} defaultValue='play 1-1 amb loop' />\r\n                </div>\r\n                <div>\r\n                    <button style={{ height: 65, marginLeft: 10 }} onClick={sendAMCPCommand}>Send Command</button>\r\n                </div>\r\n            </div>\r\n            <select className=\"editableBox\" onChange={e => setCurrenttool(e.target.value)} value={currentTool}>\r\n                {tools.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n            </select>\r\n            <input className=\"timeTextBox\" onChange={e => setCurrenttool(e.target.value)} value={currentTool} />\r\n            <button style={{ marginLeft: '40px' }} onClick={() => endpoint(`${currentTool}`)}>Send Command</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CasparcgTools\r\n","import React from 'react'\r\n\r\nconst Help = () => {\r\n    return (\r\n        <div>\r\n            <h2>Help</h2>\r\n<ol>\r\n  <li>It works with all version of Server</li>\r\n  <li> Put as below in casparcg.config file and drag screen consumer below Designer window\r\n    &lt;screen&gt;\r\n    &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n    &lt;x&gt;0&lt;/x&gt;\r\n    &lt;y&gt;680&lt;/y&gt;\r\n    &lt;width&gt;690&lt;/width&gt;\r\n    &lt;height&gt;325&lt;/height&gt;\r\n\r\n    &lt;/screen&gt;\r\n  </li>\r\n\r\n  <li>Select Casparcg Screen Sizes from drop down</li>\r\n  <li>Add some text or rectangle by clicking on buttons and then click Show to Casparcg</li>\r\n\r\n  <li>There is right click menu also for drawing mode. </li>\r\n\r\n\r\n  <li><a href='https://github.com/vimlesh1975/ReactCasparClient' target='_blank' rel=\"noreferrer\">Github Page</a> </li>\r\n  <li><a href='https://vimlesh1975.github.io/ReactCasparClient/' target='_blank' rel=\"noreferrer\">Github Online Client</a> </li>\r\n\r\n  <li><a href='https://casparcgforum.org/t/react-caspar-client' target='_blank' rel=\"noreferrer\">Casparcg Forum Topic</a> </li>\r\n  <li><a href='https://bit.ly/3jRrhDL' target='_blank' rel=\"noreferrer\">Latest Build</a> </li>\r\n  <li>test</li>\r\n\r\n</ol>\r\n<h2>Not work</h2>\r\n<ol>\r\n  <li>Erase will not work on Images </li>\r\n  <li>Erase will work on Images from local pc </li>\r\n  <li>Images from local pc will be slow </li>\r\n  <li>Emoji is not supported in server2.07 and 2.1 </li>\r\n  <li>Image from local pc method only will get filters. </li>\r\n\r\n</ol>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Help\r\n\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport axios from 'axios';\r\nimport { fabric } from \"fabric\";\r\nimport { endpoint, fontLists } from './common'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport \"fabric-history\";\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscLock, VscUnlock, VscTrash } from \"react-icons/vsc\";\r\nimport { FaAlignLeft, FaAlignRight, FaPlay, FaPause, FaStop } from \"react-icons/fa\";\r\nimport { GrResume } from 'react-icons/gr';\r\nimport { AiOutlineVerticalAlignTop, AiOutlineVerticalAlignBottom, AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { saveAs } from 'file-saver';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport SavePannel from './SavePannel';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport ImageFilterController from './ImageFilterController';\r\nimport CasparcgTools from './CasparcgTools';\r\nimport Help from './Help'\r\n\r\n\r\n\r\nfabric.Object.prototype.noScaleCache = false;\r\nconst screenSizes = [1024, 1280, 1920, 2048, 3840, 4096]\r\nconst STEP = 5;\r\nvar Direction = {\r\n    LEFT: 0,\r\n    UP: 1,\r\n    RIGHT: 2,\r\n    DOWN: 3\r\n};\r\n\r\nfabric.util.addListener(document.body, 'keydown', function (options) {\r\n    // if (options.repeat) {\r\n    //     return;\r\n    // }\r\n    var key = options.which || options.keyCode; // key detection\r\n    if (key === 37) { // handle Left key\r\n        moveSelected(Direction.LEFT);\r\n    } else if (key === 38) { // handle Up key\r\n        moveSelected(Direction.UP);\r\n    } else if (key === 39) { // handle Right key\r\n        moveSelected(Direction.RIGHT);\r\n    } else if (key === 40) { // handle Down key\r\n        moveSelected(Direction.DOWN);\r\n    }\r\n});\r\nfunction moveSelected(direction) {\r\n    var activeObject = window.editor.canvas.getActiveObject();\r\n    if (activeObject) {\r\n        switch (direction) {\r\n            case Direction.LEFT:\r\n                activeObject.set({ left: activeObject.left - STEP });\r\n                break;\r\n            case Direction.UP:\r\n                activeObject.set({ top: activeObject.top - STEP });\r\n                break;\r\n            case Direction.RIGHT:\r\n                activeObject.set({ left: activeObject.left + STEP });\r\n                break;\r\n            case Direction.DOWN:\r\n                activeObject.set({ top: activeObject.top + STEP });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n        activeObject.setCoords();\r\n        window.editor.canvas.renderAll();\r\n\r\n    }\r\n}\r\n\r\nconst options = {\r\n    currentMode: \"\",\r\n    currentColor: \"#ffffff\",\r\n    currentFont: 'Arial',\r\n    currentFontSize: 25,\r\n    backgroundColor: \"#50037c\",\r\n    // currentWidth: 5,\r\n    group: {},\r\n    stroke: '#ffffff',\r\n    strokeWidth: 3,\r\n};\r\n\r\nexport const shadowOptions = {\r\n    color: 'black',\r\n    blur: 30,\r\n    offsetX: 0,\r\n    offsetY: 0,\r\n    affectStroke: false\r\n};\r\n\r\nexport var gradient = new fabric.Gradient({\r\n    type: 'linear',\r\n    // gradientUnits: 'pixels', // or 'percentage'\r\n    gradientUnits: 'percentage', // or 'percentage'\r\n    coords: { x1: 0, y1: 0, x2: 1, y2: 0 },\r\n    colorStops: [\r\n        { offset: 0, color: 'red' },\r\n        { offset: 0.2, color: 'orange' },\r\n        { offset: 0.4, color: 'yellow' },\r\n        { offset: 0.6, color: 'green' },\r\n        { offset: 0.8, color: 'blue' },\r\n        { offset: 1, color: 'purple' }\r\n    ]\r\n});\r\n\r\nvar clipPath1 = null;\r\nexport const setasClipPath = canvas => {\r\n    clipPath1 = canvas.getActiveObjects();\r\n}\r\nexport const cliptoPath = canvas => {\r\n    var img = canvas.getActiveObjects();\r\n    if (clipPath1.length > 0 && img.length > 0) {\r\n        clipPath1.forEach(element => {\r\n            element.set({ shadow: { ...shadowOptions, blur: 0 } });\r\n        });\r\n        var group = new fabric.Group([...clipPath1]);\r\n        group.set({ absolutePositioned: true });\r\n        canvas.sendToBack(group);\r\n        img[0].set('clipPath', group)\r\n        clipPath1.forEach(element => {\r\n            canvas.remove(element);\r\n        });\r\n        canvas.requestRenderAll();\r\n    }\r\n}\r\n\r\nexport const addClock = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'clock1',\r\n\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    setInterval(() => {\r\n        animate(canvas, sss)\r\n    }, 1000);\r\n}\r\n\r\nexport const addUpTimer = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'uptimer1',\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    var startTime = new Date();\r\n    setInterval(() => {\r\n        var diff = (new Date()).getTime() - startTime.getTime();\r\n        var date_diff = new Date(diff - 30 * 60 * 1000);\r\n        var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n        sss.set({\r\n            'text': ss1,\r\n        })\r\n        canvas.requestRenderAll();\r\n    }, 40);\r\n}\r\n\r\nfunction animate(canvas, sss) {\r\n    var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n    sss.set({\r\n        'text': ss1,\r\n    })\r\n    canvas.requestRenderAll();\r\n}\r\nexport const createText = (canvas) => {\r\n\r\n    const text = new fabric.Text(\"दूरदर्शन से विमलेश कुमार Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 243, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createIText = (canvas) => {\r\n\r\n    const text = new fabric.IText(\"दूरदर्शन से विमलेश कुमार Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 343, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\n\r\nexport const createTextBox = (canvas) => {\r\n\r\n    const text = new fabric.Textbox(\"दूरदर्शन से विमलेश कुमार Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 443, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const addRoundedCornerImage = (canvas, imageName1) => {\r\n\r\n    fabric.util.loadImage(imageName1, myImg => {\r\n        // fabric.Image.fromURL(imageName1,  myImg => {\r\n        if (myImg == null) {\r\n            alert(\"Error!\");\r\n        } else {\r\n            var rect = new fabric.Rect({\r\n                left: 10,\r\n                top: 10,\r\n                stroke: 'red',\r\n                strokeWidth: 3,\r\n                id: 'rectwithimg',\r\n                rx: 30,\r\n                objectCaching: false,\r\n                shadow: shadowOptions,\r\n                ry: 30\r\n            });\r\n            canvas.add(rect).setActiveObject(rect);\r\n\r\n            rect.set({\r\n                width: myImg.width, height: myImg.height, fill: new fabric.Pattern({ source: myImg, repeat: 'no-repeat' })\r\n            });\r\n            rect.set({ scaleX: 0.5, scaleY: 0.5 })\r\n            canvas.renderAll();\r\n        }\r\n    });\r\n}\r\n\r\nconst Upload = e => {\r\n    if (e.target.files[0]) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (event) {\r\n            var imgObj = new Image();\r\n            imgObj.src = event.target.result;\r\n            imgObj.onload = function () {\r\n                var image = new fabric.Image(imgObj);\r\n                image\r\n                    .set({\r\n                        left: 10,\r\n                        top: 10,\r\n                        shadow: shadowOptions,\r\n                        stroke: 'white',\r\n                        strokeWidth: 3,\r\n                        strokeUniform: true,\r\n                        objectCaching: false,\r\n                    })\r\n                    .scale(0.5);\r\n                window.editor.canvas.add(image).setActiveObject(image);\r\n            };\r\n        };\r\n        reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n}\r\n\r\nexport const setGradientColor = canvas => {\r\n    canvas.getActiveObjects().forEach(element => element.fill = gradient);\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const createRect = (canvas) => {\r\n    const rect = new fabric.Rect({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 90,\r\n        width: 500,\r\n        height: 80,\r\n        opacity: 0.9,\r\n        fill: 'rgb(80, 3, 124)',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n        rx: 10,\r\n        ry: 10\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 430, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createEllipse = (canvas) => {\r\n    const rect = new fabric.Ellipse({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 180,\r\n        rx: 50,\r\n        ry: 80,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 330, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createLine = (canvas) => {\r\n    const rect = new fabric.Line([500, 450, 800, 450.00001], {\r\n        shadow: { ...shadowOptions, Blur: 10 },\r\n        top: -100,\r\n        left: 90,\r\n        height: 1,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: 'yellow',\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 230, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const createCircle = (canvas) => {\r\n    const circle = new fabric.Circle({\r\n        shadow: shadowOptions,\r\n        top: 0,\r\n        left: 0,\r\n        radius: 50,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(circle).setActiveObject(circle);;\r\n    canvas.requestRenderAll();\r\n    // circle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const createTriangle = (canvas) => {\r\n    canvas.isDrawingMode = false;\r\n    const triangle = new fabric.Triangle({\r\n        shadow: shadowOptions,\r\n        top: 50,\r\n        left: -100,\r\n        width: 100,\r\n        height: 100,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(triangle).setActiveObject(triangle);;\r\n    canvas.requestRenderAll();\r\n    triangle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\nexport const alignLeft = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'left') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const alignRight = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'right') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const alignCenter = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'center') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textUnderline = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('underline', !element.underline) });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textLineThrough = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('linethrough', !element.linethrough) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const textItalic = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontStyle', 'italic') });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const txtBold = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontWeight', 'bold') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textNormal = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontWeight', 'normal') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const removeBg = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('backgroundColor', '') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\n\r\nexport const removeFill = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fill', '') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const removeStroke = canvas => {\r\n\r\n    canvas.getActiveObjects().forEach(element => { element.set('strokeWidth', 0) });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const removeShadow = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('shadow', { ...shadowOptions, blur: 0 }) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const gradientFill = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fill', gradient) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const gradientStroke = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('stroke', gradient) });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const deleteSelectedItem = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const swapFaceandStrokeColors = canvas => {\r\n    canvas.getActiveObjects().forEach(element => {\r\n        var oldFill = element.fill;\r\n        var oldStroke = element.stroke;\r\n        element.fill = oldStroke;\r\n        element.stroke = oldFill;\r\n    });\r\n    canvas.requestRenderAll();\r\n}\r\nexport const deleteAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n\r\n}\r\n\r\nexport const bringToFront = canvas => {\r\n    canvas.getActiveObjects().forEach(element => canvas.bringToFront(element));\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const sendToBack = canvas => {\r\n    canvas.getActiveObjects().forEach(element => canvas.sendToBack(element));\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\n\r\nexport const undo = canvas => canvas.undo()\r\nexport const redo = canvas => canvas.redo()\r\n\r\nexport const setOpacity = (canvas, val = 0.5) => {\r\n    canvas.getActiveObjects().forEach(element => element.set({ 'opacity': val }));\r\n    canvas.requestRenderAll();\r\n}\r\nexport const setOpacity1 = (canvas, e) => {\r\n    canvas.getActiveObjects().forEach(element => element.set({ 'opacity': e.target.value }));\r\n    canvas.requestRenderAll();\r\n}\r\nexport const lock = canvas => {\r\n    canvas.getActiveObjects().forEach(element => element.selectable = false);\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n\r\n}\r\n\r\n\r\nexport const unlockAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => element.selectable = true);\r\n}\r\n\r\nconst ErasedGroup = fabric.util.createClass(fabric.Group, {\r\n    original: null,\r\n    ErasedPath: null,\r\n    initialize: function (original, ErasedPath, options, isAlreadyGrouped) {\r\n        this.original = original;\r\n        this.ErasedPath = ErasedPath;\r\n        this.callSuper('initialize', [this.original, this.ErasedPath], options, isAlreadyGrouped);\r\n    },\r\n\r\n    _calcBounds: function (onlyWidthHeight) {\r\n        const aX = [],\r\n            aY = [],\r\n            props = ['tr', 'br', 'bl', 'tl'],\r\n            jLen = props.length,\r\n            ignoreZoom = true;\r\n\r\n        let o = this.original;\r\n        o.setCoords(ignoreZoom);\r\n        for (let j = 0; j < jLen; j++) {\r\n            var prop = props[j];\r\n            aX.push(o.oCoords[prop].x);\r\n            aY.push(o.oCoords[prop].y);\r\n        }\r\n\r\n        this._getBounds(aX, aY, onlyWidthHeight);\r\n    },\r\n});\r\nconst EraserBrush = fabric.util.createClass(fabric.PencilBrush, {\r\n\r\n    /**\r\n     * On mouseup after drawing the path on contextTop canvas\r\n     * we use the points captured to create an new fabric path object\r\n     * and add it to the fabric canvas.\r\n     */\r\n    _finalizeAndAddPath: function () {\r\n        var ctx = this.canvas.contextTop;\r\n        ctx.closePath();\r\n        if (this.decimate) {\r\n            this._points = this.decimatePoints(this._points, this.decimate);\r\n        }\r\n        var pathData = this.convertPointsToSVGPath(this._points).join('');\r\n        if (pathData === 'M 0 0 Q 0 0 0 0 L 0 0') {\r\n            // do not create 0 width/height paths, as they are\r\n            // rendered inconsistently across browsers\r\n            // Firefox 4, for example, renders a dot,\r\n            // whereas Chrome 10 renders nothing\r\n            this.canvas.requestRenderAll();\r\n            return;\r\n        }\r\n\r\n        // use globalCompositeOperation to 'fake' Eraser\r\n        var path = this.createPath(pathData);\r\n        path.globalCompositeOperation = 'destination-out';\r\n        path.selectable = false;\r\n        path.evented = false;\r\n        path.absolutePositioned = true;\r\n\r\n        // grab all the objects that intersects with the path\r\n        const objects = this.canvas.getObjects().filter((obj) => {\r\n            // if (obj instanceof fabric.Textbox) return false;\r\n            // if (obj instanceof fabric.IText) return false;\r\n            if ((obj instanceof fabric.Rect) && (obj.id === 'rectwithimg')) { return false }\r\n            if (!obj.intersectsWithObject(path)) return false;\r\n            return true;\r\n        });\r\n\r\n        if (objects.length > 0) {\r\n            // merge those objects into a group\r\n            const mergedGroup = new fabric.Group(objects);\r\n            const newPath = new ErasedGroup(mergedGroup, path);\r\n            const left = newPath.left;\r\n            const top = newPath.top;\r\n            // convert it into a dataURL, then back to a fabric image\r\n            const newData = newPath.toDataURL({\r\n                withoutTransform: true\r\n            });\r\n            fabric.Image.fromURL(newData, (fabricImage) => {\r\n                fabricImage.set({\r\n                    left: left,\r\n                    top: top,\r\n                    shadow: { ...shadowOptions, blur: 0 },\r\n                });\r\n                // remove the old objects then add the new image\r\n                this.canvas.remove(...objects);\r\n                this.canvas.add(fabricImage);\r\n            });\r\n        }\r\n\r\n        this.canvas.clearContext(this.canvas.contextTop);\r\n        this.canvas.renderAll();\r\n        this._resetShadow();\r\n    },\r\n});\r\n\r\nconst changeCurrentColor = (e) => {\r\n    options.currentColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fill = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n};\r\n\r\nconst changeBackGroundColor = (e) => {\r\n    options.backgroundColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.backgroundColor = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeStrokeCurrentColor = e => {\r\n    options.stroke = e.target.value;\r\n    window.editor.canvas.freeDrawingBrush.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.stroke = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeShadowCurrentColor = e => {\r\n    shadowOptions.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.color = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onBlurSizeChange = e => {\r\n    shadowOptions.blur = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.blur = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onoffsetXChange = e => {\r\n    shadowOptions.offsetX = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.offsetX = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst onoffsetYChange = e => {\r\n    shadowOptions.offsetY = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.offsetY = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst affectStroke = e => {\r\n    shadowOptions.affectStroke = e.target.checked;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.affectStroke = e.target.checked } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onstrokeSizeChange = e => {\r\n    options.strokeWidth = parseInt(e.target.value);\r\n    window.editor.canvas.freeDrawingBrush.width = parseInt(e.target.value);\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.strokeWidth = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewXSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewX = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewYSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewY = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRxSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.rx = parseInt(e.target.value)\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRySizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.ry = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst putat00 = (canvas) => {\r\n    // canvas.setZoom(1)\r\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n    selectAll(canvas);\r\n    canvas.getActiveObject()?.set({ left: 0, top: 0 });\r\n}\r\nconst alignAllLeft = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllTop = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllRight = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left + (item.width * item.scaleX))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = max - (item.width * item.scaleX);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst alignAllButtom = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top + (item.height * item.scaleY))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = max - (item.height * item.scaleY);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSizeChange = (e) => {\r\n    options.currentFontSize = e.target.value\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fontSize = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nexport const groupObjects = (canvas, shouldGroup) => {\r\n    if (shouldGroup) {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'activeSelection') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toGroup().set({ shadow: shadowOptions });\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n    else {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'group') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toActiveSelection();\r\n        const aa = canvas.getObjects();\r\n        aa.forEach(element => element.set({ objectCaching: false, shadow: shadowOptions }));\r\n        canvas.requestRenderAll();\r\n    }\r\n};\r\n\r\nexport const savetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n\r\n    endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    }, 100);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 1000);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 1100);\r\n}\r\n\r\nexport const savetoCasparcgStoreClock = () => {\r\n    var dd = window.editor.canvas.toJSON()\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-120 store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-120 ReadToCasparcgfromStore()`)\r\n    }, 680);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 700);\r\n}\r\n\r\n\r\nexport const updatetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 200);\r\n\r\n}\r\n// const removeFromCaspar = (layerNumber) => {\r\n//     endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n// }\r\n\r\nconst changeText = (key, val) => {\r\n    window.editor.canvas.getObjects().forEach((element) => {\r\n        if (element.id === key) {\r\n            element.set({ text: val.toString() })\r\n            window.editor.canvas.requestRenderAll();\r\n        }\r\n    })\r\n    endpoint(`call ${window.chNumber}-109 \"window.editor.canvas.getObjects().forEach((element)=>{if(element.id==='${key}'){element.set({text:'${val}'});window.editor.canvas.requestRenderAll();}})\"`)\r\n\r\n}\r\nexport const selectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    var sel = new fabric.ActiveSelection(canvas.getObjects(), {\r\n        canvas: canvas,\r\n    });\r\n    canvas.setActiveObject(sel);\r\n    canvas.requestRenderAll();\r\n}\r\nexport const deSelectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nvar _clipboard;\r\nexport const copy = () => {\r\n    window.editor.canvas.getActiveObject()?.clone(cloned => {\r\n        _clipboard = cloned;\r\n    }, ['id']);\r\n}\r\n\r\nexport const paste = () => {\r\n    try {\r\n\r\n\r\n        _clipboard?.clone(clonedObj => {\r\n            window.editor.canvas.discardActiveObject();\r\n            clonedObj.set({\r\n                left: clonedObj.left + 10,\r\n                top: clonedObj.top + 10,\r\n                evented: true,\r\n                objectCaching: false,\r\n            });\r\n            if (clonedObj.type === 'activeSelection') {\r\n                // active selection needs a reference to the canvas.\r\n                clonedObj.canvas = window.editor.canvas;\r\n                clonedObj.forEachObject(obj => {\r\n                    window.editor.canvas.add(obj);\r\n                });\r\n                // this should solve the unselectability\r\n                clonedObj.setCoords();\r\n            } else {\r\n                window.editor.canvas.add(clonedObj);\r\n            }\r\n            _clipboard.top += 10;\r\n            _clipboard.left += 10;\r\n            window.editor.canvas.setActiveObject(clonedObj);\r\n            window.editor.canvas.requestRenderAll();\r\n        }, ['id']);\r\n    } catch (error) {\r\n        alert(error)\r\n    }\r\n}\r\n\r\nconst DrawingController = ({ chNumber }) => {\r\n    const [fontList, setFontList] = useState(fontLists);\r\n    const [currentFont, setCurrentFont] = useState('Arial')\r\n    var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n\r\n    // const [canvaslist, setCanvaslist] = useState([{ 'pageName': ss + '_pageName', 'pageValue': '' }])\r\n    const canvaslist = [{ 'pageName': ss + '_pageName', 'pageValue': '' }];\r\n\r\n    // const [currentPage, setCurentPage] = useState(0)\r\n    const currentPage = 0;\r\n\r\n    const [currentscreenSize, setCurrentscreenSize] = useState(1024)\r\n    const [f0, setF0] = useState('Ganesh Tiwari');\r\n    const [f1, setF1] = useState('Suresh Malhotra');\r\n    const [f2, setF2] = useState('Mahesh prasad');\r\n    const [onlineImageUrl, setOnlineImageUrl] = useState('https://fixthephoto.com/images/content/shirt-fabric-texture-471614080378.jpg')\r\n    const [verticalSpeed, setVerticalSpeed] = useState(0.3)\r\n    const [horizontalSpeed, setHorizontalSpeed] = useState(0.3)\r\n    const [ltr, setLtr] = useState(false);\r\n\r\n    const strokeLineCaps = [\"butt\", \"round\", \"square\"];\r\n    const [currentstrokeLineCap, setCurrentstrokeLineCap] = useState('round');\r\n\r\n    const [solidcaption1, setSolidcaption1] = useState('');\r\n    const [solidcaption2, setSolidcaption2] = useState('');\r\n    const [solidcaption3, setSolidcaption3] = useState('');\r\n    const [logo, setLogo] = useState('');\r\n    const [locationBand, setLocationBand] = useState('');\r\n\r\n    const [verticalScroll, setVerticalScroll] = useState('');\r\n    const [horizontalScroll, setHorizontalScroll] = useState('');\r\n    const [clock, setClock] = useState('');\r\n    const [upTimer, setUpTimer] = useState('');\r\n    const modes = ['Pencil', 'Spray', 'Erase', 'none'];\r\n\r\n    const [currentMode, setCurrentMode] = useState('none');\r\n    // window.currentMode = currentMode;\r\n\r\n    const onDrawingModeChange = (mode, canvas) => {\r\n        setCurrentMode(mode);\r\n        if (mode === 'none') {\r\n            canvas.isDrawingMode = false;\r\n            return;\r\n        } else {\r\n            canvas.isDrawingMode = true;\r\n        }\r\n\r\n\r\n        if (mode === 'Pencil') {\r\n            canvas.freeDrawingBrush = new fabric.PencilBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.stroke;\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n        else if (mode === 'Spray') {\r\n            canvas.freeDrawingBrush = new fabric.SprayBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.stroke;\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n\r\n        else if (mode === 'Erase') {\r\n            canvas.freeDrawingBrush = new EraserBrush(canvas);\r\n            canvas.freeDrawingBrush.color = 'white';\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n        canvas.freeDrawingBrush.strokeLineCap = currentstrokeLineCap;\r\n\r\n    }\r\n    window.onDrawingModeChange = onDrawingModeChange;\r\n    const toggleModeDrawing = (canvas) => {\r\n        canvas.isDrawingMode = false;\r\n        setCurrentMode('none');\r\n    }\r\n    window.toggleModeDrawing = toggleModeDrawing;\r\n\r\n    const id = 'f0';\r\n\r\n    const onFontChange = (e) => {\r\n        options.currentFont = e.target.value;\r\n        setCurrentFont(e.target.value);\r\n        window.editor.canvas.getActiveObjects().forEach(item => item.fontFamily = e.target.value)\r\n        window.editor.canvas.requestRenderAll();\r\n    }\r\n    const onstrokeLineCapChange = e => {\r\n        window.editor.canvas.freeDrawingBrush.strokeLineCap = e.target.value;\r\n        setCurrentstrokeLineCap(e.target.value);\r\n    }\r\n\r\n    let fileReader;\r\n\r\n\r\n    const importJSON = (file, canvas) => {\r\n        if (file) {\r\n            // setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = () => handleFileReadJSON(canvas);\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n\r\n    const handleFileReadJSON = canvas => {\r\n        const content = fileReader.result;\r\n        canvas.loadFromJSON(content, canvas.renderAll.bind(canvas), function (o, object) {\r\n        })\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    const onVerticalSpeedChange = (e) => {\r\n        setVerticalSpeed(e.target.value)\r\n        localStorage.setItem('RCC_verticalSpeed', e.target.value)\r\n\r\n        endpoint(`call ${window.chNumber}-110 \"speed=${e.target.value}\"`);\r\n    }\r\n    const onHorizontalSpeedChange = (e) => {\r\n        setHorizontalSpeed(e.target.value)\r\n        localStorage.setItem('RCC_horizontalSpeed', e.target.value)\r\n        endpoint(`call ${window.chNumber}-111 \"speed=${e.target.value}\"`);\r\n    }\r\n    const exportSVG = canvas => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = canvas.toSVG()\r\n        const file = new Blob([aa], { type: 'text/xml' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportJSON = canvas => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = JSON.stringify(canvas.toJSON());\r\n        const file = new Blob([aa], { type: 'text/json' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.json';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const importSVG = file => {\r\n        if (file) {\r\n            var site_url = URL.createObjectURL(file);\r\n            fabric.loadSVGFromURL(site_url, function (objects) {\r\n                objects?.forEach(element => {\r\n                    window.editor.canvas.add(element);\r\n                    element.objectCaching = false;\r\n                    element.shadow = shadowOptions;\r\n                });\r\n            });\r\n            window.editor.canvas.renderAll();\r\n        }\r\n    }\r\n\r\n    const exportHTML1 = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            var aa = `<!DOCTYPE html>\r\n                <html lang=\"en\">\r\n                <head>\r\n                    <meta charset=\"UTF-8\">\r\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                    <title>Document</title>\r\n                </head>\r\n                <body>\r\n                <div> ${canvas.toSVG()}  </div>\r\n                 </body>\r\n                 <script>\r\n                document.body.style.margin='0';\r\n                document.body.style.padding='0';\r\n                document.body.style.overflow='hidden';\r\n                var aa = document.getElementsByTagName('div')[0];\r\n                aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n                </script>\r\n                </html>`\r\n            const file = new Blob([aa], { type: 'text/html' });\r\n            saveAs(file, retVal + '.html')\r\n        }\r\n    }\r\n    const exportPng = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var br = (canvas.getActiveObject())?.getBoundingRect();\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            try {\r\n                saveAs(canvas.toDataURL({\r\n                    format: 'png',\r\n                    left: br.left,\r\n                    top: br.top,\r\n                    width: br.width,\r\n                    height: br.height\r\n                }), retVal + '.png')\r\n\r\n            } catch (error) {\r\n                alert(error)\r\n            }\r\n        }\r\n    }\r\n\r\n    const exportVerticalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n          setInterval(function(){\r\n              aa.style.top =(aa.getBoundingClientRect().top-speed)+'px';\r\n             }, 1);\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportHorizontalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${horizontalSpeed};\r\n        if (${!ltr}){\r\n          aa.style.left='100%';\r\n          setInterval(function(){\r\n              aa.style.left =(aa.getBoundingClientRect().left-speed)+'px';\r\n              if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n           }, 1);\r\n        }\r\n        else{\r\n            aa.style.left=-${hh};\r\n            setInterval(function(){\r\n                aa.style.left =(aa.getBoundingClientRect().left+speed)+'px';\r\n                if (aa.getBoundingClientRect().left >${hh}){aa.style.left=-${hh}};\r\n             }, 1);\r\n        }\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportClockAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            setInterval(function() {\r\n                var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n             cc.textContent  =ss1;\r\n              }, 1000);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportUpTimerAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n\r\n\r\n    const startVerticalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        endpoint(`play ${window.chNumber}-110 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-110 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n       setInterval(function() {\r\n         aa.style.top =aa.getBoundingClientRect().top-speed;\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startHorizontalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width;\r\n        endpoint(`play ${window.chNumber}-111 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-111 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var speed=${horizontalSpeed};\r\n        if (${!ltr}){\r\n                    aa.style.left='100%';\r\n                    setInterval(function() {\r\n                    aa.style.left =aa.getBoundingClientRect().left-speed;\r\n                    if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n                    }, 1);\r\n                    }\r\n        else{\r\n            aa.style.left=-${hh};\r\n            setInterval(function() {\r\n            aa.style.left =aa.getBoundingClientRect().left+speed;\r\n            if (aa.getBoundingClientRect().left > ${currentscreenSize}){aa.style.left=-${hh}};\r\n            }, 1);\r\n        }\r\n        \"`)\r\n    }\r\n\r\n    const startClock = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n\r\n        endpoint(`play ${window.chNumber}-112 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-112 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        setInterval(function() {\r\n            var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n         cc.textContent  =ss1;\r\n          }, 1000);\r\n        \"`)\r\n    }\r\n    const startUpTimer = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        endpoint(`play ${window.chNumber}-115 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-115 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n        \"`)\r\n    }\r\n\r\n    const startGraphics = (canvas, layerNumber) => {\r\n\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        // selectAll(canvas);\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 6 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`play ${window.chNumber}-${layerNumber} [HTML] xyz.html`);\r\n        }, 250);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            var aa = document.createElement('div');\r\n            aa.style.position='absolute';\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            document.body.appendChild(aa);\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            document.body.style.overflow='hidden';\r\n            \"`)\r\n        }, 300);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 10 ${window.animationMethod}`)\r\n        }, 800);\r\n\r\n    }\r\n    const updateGraphics = (canvas, layerNumber) => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            \"`)\r\n    }\r\n    const stopGraphics = layerNumber => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`stop ${window.chNumber}-${layerNumber}`)\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    // eslint-disable-next-line\r\n    const canvasToJson = (canvas) => {\r\n        dispatch({ type: 'CHANGE_CANVAS1', payload: (JSON.stringify(canvas.toJSON(['id']))) })\r\n    };\r\n\r\n    const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n    // eslint-disable-next-line\r\n    const canvasFromJson = (canvas) => {\r\n        var state2 = state1.replace(new RegExp('asdfgh', \"g\"), ' ')\r\n        const data = JSON.parse(state2);\r\n        canvas.loadFromJSON(data);\r\n        canvas.requestRenderAll();\r\n    };\r\n\r\n    useEffect(() => {\r\n        setCurrentscreenSize(localStorage.getItem('RCC_currentscreenSize'));\r\n        setSolidcaption1(localStorage.getItem('RCC_solidCaption1'));\r\n        setSolidcaption2(localStorage.getItem('RCC_solidCaption2'));\r\n        setSolidcaption3(localStorage.getItem('RCC_solidCaption3'));\r\n        setLogo(localStorage.getItem('RCC_logo'));\r\n        setLocationBand(localStorage.getItem('RCC_locationBand'));\r\n        setClock(localStorage.getItem('RCC_clock'));\r\n        setVerticalScroll(localStorage.getItem('RCC_verticalScroll'));\r\n        setHorizontalScroll(localStorage.getItem('RCC_horizontalScroll'));\r\n\r\n        setHorizontalSpeed(localStorage.getItem('RCC_horizontalSpeed'));\r\n        setVerticalSpeed(localStorage.getItem('RCC_verticalSpeed'));\r\n\r\n\r\n\r\n        axios.post('http://localhost:8080/getfonts').then((aa) => {\r\n            setFontList(aa.data)\r\n\r\n        }).catch((aa) => { console.log('Error', aa) });\r\n        return () => {\r\n        }\r\n    }, [])\r\n\r\n\r\n    // useEffect(() => {\r\n    //     const autoPageUpdate = setInterval((\r\n    //     ) => {\r\n    //         updatePage(window.editor?.canvas)\r\n    //     }, 1000);\r\n    //     return () => {\r\n    //         clearInterval(autoPageUpdate)\r\n    //     }\r\n    // }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', e => {\r\n            // console.log(e.key);\r\n            if (e.repeat) {\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'Delete') {\r\n                window.editor.canvas.getActiveObjects().forEach(item => {\r\n                    //  alert(item.type);\r\n                    if (!((item.type === 'textbox') && item.isEditing)) { window.editor.canvas.remove(item); }\r\n                });\r\n            }\r\n            if (e.ctrlKey && e.key === 'c') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { copy() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'v') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { paste() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'z') {\r\n                window.editor.canvas.undo();\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            window.removeEventListener('keydown', null)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ display: 'flex' }}>\r\n            <div style={{ width: 495, height: 900, backgroundColor: '#f4f0e7', overflow: 'scroll' }}>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Screen Setup: </b>\r\n                    Casparcg Screen Sizes  <select value={currentscreenSize} onChange={e => {\r\n                        setCurrentscreenSize(e.target.value);\r\n                        localStorage.setItem('RCC_currentscreenSize', e.target.value)\r\n                    }\r\n                    }>  {screenSizes.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })} </select>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Solid Caption 1: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 108);\r\n                        setSolidcaption1(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_solidcaption1', canvaslist[currentPage]?.pageName);\r\n                    }\r\n                    }><FaPlay /></button>  <button onClick={() => updateGraphics(window.editor.canvas, 108)}>Update</button>\r\n\r\n                    <button onClick={() => {\r\n                        stopGraphics(108);\r\n                        setSolidcaption1('');\r\n                        localStorage.setItem('RCC_solidcaption1', '');\r\n\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {solidcaption1} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Solid Caption 2: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 109);\r\n                        setSolidcaption2(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_solidcaption2', canvaslist[currentPage]?.pageName);\r\n\r\n                    }\r\n                    }><FaPlay />  </button>  <button onClick={() => updateGraphics(window.editor.canvas, 109)}>Update</button>\r\n                    <button onClick={() => {\r\n                        stopGraphics(109);\r\n                        setSolidcaption2('');\r\n                        localStorage.setItem('RCC_solidcaption2', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {solidcaption2} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Solid Caption 3: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 110);\r\n                        setSolidcaption3(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_solidcaption3', canvaslist[currentPage]?.pageName);\r\n\r\n                    }\r\n                    }><FaPlay />  </button>  <button onClick={() => updateGraphics(window.editor.canvas, 110)}>Update</button>\r\n                    <button onClick={() => {\r\n                        stopGraphics(110);\r\n                        setSolidcaption3('');\r\n                        localStorage.setItem('RCC_solidcaption3', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {solidcaption3} </span>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Logo: </b>\r\n\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 215);\r\n                        setLogo(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_logo', canvaslist[currentPage]?.pageName);\r\n\r\n                    }\r\n                    }><FaPlay />  </button>\r\n                    <button onClick={() => updateGraphics(window.editor.canvas, 215)}>Update</button>\r\n                    <button onClick={() => {\r\n                        stopGraphics(215);\r\n                        setLogo('');\r\n                        localStorage.setItem('RCC_logo', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {logo} </span>\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Location Band: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 210);\r\n                        setLocationBand(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_locationBand', canvaslist[currentPage]?.pageName);\r\n\r\n                    }\r\n                    }><FaPlay />  </button>\r\n                    <button onClick={() => updateGraphics(window.editor.canvas, 210)}>Update</button>\r\n                    <button onClick={() => {\r\n                        stopGraphics(210);\r\n                        setLocationBand('');\r\n                        localStorage.setItem('RCC_locationBand', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {locationBand} </span>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> V Scroll: </b>  <button onClick={() => {\r\n                        startVerticalScroll(window.editor?.canvas);\r\n                        setVerticalScroll(canvaslist[currentPage]?.pageName)\r\n                        localStorage.setItem('RCC_verticalScroll', canvaslist[currentPage]?.pageName);\r\n\r\n                    }}><FaPlay /> </button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=0\"`)}><FaPause /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=${verticalSpeed}\"`)}> <GrResume /></button>\r\n                    <button onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-110`);\r\n                        setVerticalScroll('')\r\n                        localStorage.setItem('RCC_verticalScroll', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    Speed:<input style={{ width: '40px' }} onChange={e => onVerticalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' value={verticalSpeed} />\r\n\r\n                    <button onClick={() => exportVerticalScrollAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {verticalScroll} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> H Scroll: </b>\r\n                    <button onClick={() => {\r\n                        startHorizontalScroll(window.editor?.canvas);\r\n                        setHorizontalScroll(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_horizontalScroll', canvaslist[currentPage]?.pageName);\r\n\r\n                    }}><FaPlay /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=0\"`)}> <FaPause /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=${horizontalSpeed}\"`)}> <GrResume /></button>\r\n                    <button onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-111`);\r\n                        setHorizontalScroll('');\r\n                        localStorage.setItem('RCC_horizontalScroll', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    Speed:<input style={{ width: '40px' }} onChange={e => onHorizontalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' value={horizontalSpeed} />\r\n                    <button onClick={() => exportHorizontalScrollAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> LTR:</span>  <input type=\"checkbox\" value={ltr} onChange={e => setLtr(val => !val)} />\r\n                    <span> {horizontalScroll} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Clock: </b>\r\n                    <button onClick={() => addClock(window.editor.canvas)}>Add to Preview</button>\r\n                    <button onClick={() => {\r\n                        startClock(window.editor.canvas);\r\n                        setClock(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_clock', canvaslist[currentPage]?.pageName);\r\n\r\n                    }}><FaPlay /></button>\r\n                    <button onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-112`);\r\n                        setClock('');\r\n                        localStorage.setItem('RCC_clock', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <button onClick={() => exportClockAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {clock} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Count Up Timer: </b>\r\n                    <button onClick={() => addUpTimer(window.editor.canvas)}>Add to Preview</button>\r\n                    <button onClick={() => {\r\n                        startUpTimer(window.editor.canvas);\r\n                        setUpTimer(canvaslist[currentPage]?.pageName);\r\n                        localStorage.setItem('RCC_upTimer', canvaslist[currentPage]?.pageName);\r\n\r\n                    }}><FaPlay /></button>\r\n                    <button onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-115`);\r\n                        setUpTimer('');\r\n                        localStorage.setItem('RCC_upTimer', '');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <button onClick={() => exportUpTimerAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {upTimer} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Drawing Elements: </b>\r\n                    <button onClick={() => createRect(window.editor.canvas)}> <VscPrimitiveSquare /></button>\r\n                    <Tooltip title=\"MutliLine Text Box\"><button onClick={() => createTextBox(window.editor.canvas)}>TB</button></Tooltip>\r\n                    <Tooltip title=\"Single Line Text Box\"><button onClick={() => createIText(window.editor.canvas)}>IT</button></Tooltip>\r\n                    <Tooltip title=\"Single Line Text Box Not Editable\"><button onClick={() => createText(window.editor.canvas)}>T</button></Tooltip>\r\n                    <button onClick={() => createCircle(window.editor?.canvas)}>  <VscCircleFilled /></button>\r\n                    <button onClick={() => createTriangle(window.editor.canvas)}><VscTriangleUp /></button>\r\n                    <button onClick={() => createEllipse(window.editor.canvas)}>Ellipse</button>\r\n                    <button onClick={() => createLine(window.editor.canvas)}>Line</button>\r\n\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Opacity: </b><input className='inputRange' onChange={e => setOpacity1(window.editor.canvas, e)} type=\"range\" min='0' max='1' step='0.1' defaultValue='1' />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Font: </b> <select onChange={e => onFontChange(e)} value={currentFont}>\r\n                        {fontList.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n                    Size<input className='inputRange' onChange={e => onSizeChange(e)} type=\"range\" min='0' max='100' step='1' defaultValue='25' />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Free Drawing: </b>\r\n                    Type:  <select onChange={e => onDrawingModeChange(e.target.value, window.editor.canvas)} value={currentMode}>\r\n                        {modes.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n\r\n                    End:  <select onChange={e => onstrokeLineCapChange(e)} value={currentstrokeLineCap}>\r\n                        {strokeLineCaps.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Colors: </b>\r\n                    Fill <input type=\"color\" defaultValue='#ffffff' onChange={e => changeCurrentColor(e)} />\r\n                    BG <input type=\"color\" defaultValue='#40037c' onChange={e => changeBackGroundColor(e)} />\r\n                    Stroke<input type=\"color\" defaultValue='#ffffff' onChange={e => changeStrokeCurrentColor(e)} />\r\n                    <button onClick={() => swapFaceandStrokeColors(window.editor.canvas)}>Swap Face/Stroke Color</button>\r\n                    Stroke/Brush width:\r\n                    <input className='inputRange' onChange={e => onstrokeSizeChange(e)} type=\"range\" id='strokeSizeOSD' min='0' max='100' step='1' defaultValue='3' />\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <div  >\r\n                        <table border='1'>\r\n                            <tbody>\r\n                                <tr><td> <b> Shadow: </b></td><td>color <input type=\"color\" defaultValue='#000000' onChange={e => changeShadowCurrentColor(e)} />   </td></tr>\r\n                                <tr><td>affectStroke</td><td><input type=\"checkbox\" onChange={(e) => affectStroke(e)} /></td></tr>\r\n                                <tr><td>Blur</td><td> <input className='inputRange' onChange={e => onBlurSizeChange(e)} type=\"range\" min='0' max='100' step='1' defaultValue='30' /> </td></tr>\r\n                                <tr><td>offsetX</td><td> <input className='inputRange' onChange={e => onoffsetXChange(e)} type=\"range\" min='-400' max='400' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td> offsetY</td><td><input className='inputRange' onChange={e => onoffsetYChange(e)} type=\"range\" min='-200' max='200' step='1' defaultValue='0' /></td></tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div  >\r\n\r\n                        <table border='1'>\r\n                            <tbody>\r\n                                <tr><td colSpan='2'> <b> Skew: </b></td></tr>\r\n                                <tr><td>SkewX:</td><td> <input className='inputRange' onChange={e => onSkewXSizeChange(e)} type=\"range\" id='skewX' min='-60' max='60' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td>SkewY:</td><td> <input className='inputRange' onChange={e => onSkewYSizeChange(e)} type=\"range\" id='skewY' min='-60' max='60' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td>RX:</td><td>  <input className='inputRange' onChange={e => onRxSizeChange(e)} type=\"range\" id='RX' min='-360' max='360' step='1' defaultValue='30' />   </td></tr>\r\n                                <tr><td> RY:</td><td><input className='inputRange' onChange={e => onRySizeChange(e)} type=\"range\" id='RY' min='-360' max='360' step='1' defaultValue='30' /></td></tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b>Zoom and Pan: </b>\r\n                    <button onClick={() => window.editor.canvas.setZoom(1)}>Reset Zoom</button>\r\n                    <button onClick={() => window.editor.canvas.setViewportTransform([window.editor.canvas.getZoom(), 0, 0, window.editor.canvas.getZoom(), 0, 0])}>Reset Pan</button>\r\n                    <button onClick={() => putat00(window.editor.canvas)}>Select All and Put at 0 0</button>\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Tools: </b>\r\n                    <button onClick={() => alignAllLeft()}><FaAlignLeft /></button>\r\n                    <button onClick={() => alignAllRight()}><FaAlignRight /></button>\r\n                    <button onClick={() => alignAllTop()}><AiOutlineVerticalAlignTop /> <AiOutlineVerticalAlignTop /> </button>\r\n                    <button onClick={() => alignAllButtom()}><AiOutlineVerticalAlignBottom /><AiOutlineVerticalAlignBottom /></button>\r\n                    <button onClick={() => deleteSelectedItem(window.editor.canvas)}><VscTrash /> Selected</button>\r\n                    <button onClick={() => deleteAll(window.editor.canvas)}><VscTrash /> All</button>\r\n                    <button onClick={() => lock(window.editor.canvas)}><VscLock /></button>\r\n                    <button onClick={() => unlockAll(window.editor.canvas)}><VscUnlock /> All</button>\r\n                    <button onClick={() => undo(window.editor.canvas)}><AiOutlineUndo /> Undo</button>\r\n                    <button onClick={() => redo(window.editor.canvas)}><AiOutlineRedo /> Redo</button>\r\n                    <button onClick={() => copy(window.editor.canvas)}> Copy</button>\r\n                    <button onClick={() => paste(window.editor.canvas)}> Paste</button>\r\n                    <button onClick={() => selectAll(window.editor.canvas)}> Select All</button>\r\n                    <button onClick={() => deSelectAll(window.editor.canvas)}> Deselect All</button>\r\n\r\n                    <button onClick={() => sendToBack(window.editor.canvas)}> Send To Back</button>\r\n                    <button onClick={() => bringToFront(window.editor.canvas)}> Bring To Front</button>\r\n\r\n                </div>\r\n\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from URL: </b>\r\n                    <input onChange={(e) => setOnlineImageUrl(e.target.value)} size=\"55\" type='text' defaultValue={onlineImageUrl}></input>\r\n                    <button onClick={() => addRoundedCornerImage(window.editor.canvas, onlineImageUrl)}>Add</button>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from Local PC: </b>\r\n                    <input type=\"file\" accept=\"image/*\" onChange={e => Upload(e)} />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Export Import: </b>\r\n                    <button onClick={() => exportHTML1(window.editor.canvas)}>To HTML</button>\r\n                    <button onClick={() => exportPng(window.editor.canvas)}>To PNG</button>\r\n                    <button onClick={() => exportSVG(window.editor.canvas)}>To SVG</button>\r\n                    <button onClick={() => exportJSON(window.editor.canvas)}>To JSON</button>\r\n\r\n                    <br /> <span>Import SVG</span> <input type='file' className='input-file' accept='.xml,.svg' onChange={e => importSVG(e.target.files[0])} />\r\n                    <br /> <span>Import JSON</span> <input type='file' className='input-file' accept='.json' onChange={e => importJSON(e.target.files[0], window.editor.canvas)} />\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <button onClick={() => setasClipPath(window.editor.canvas)}>Set as CipPath</button>\r\n                    <button onClick={() => cliptoPath(window.editor.canvas)}>Clip to Path</button>\r\n                </div>\r\n                <div style={{ display: 'none' }}>\r\n                    <input type='text' size=\"10\" onChange={(e) => setF0(e.target.value)} value={f0}></input>   <button onClick={() => changeText(id, f0)}>Update {id} value</button> <br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF1(e.target.value)} value={f1}></input>   <button onClick={() => changeText(id, f1)}>Update {id} value</button><br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF2(e.target.value)} value={f2}></input>   <button onClick={() => changeText(id, f2)}>Update {id} value</button><br />\r\n                </div>\r\n            </div>\r\n            <div style={{ width: 380, backgroundColor: '#ddf0db' }}>\r\n                <Tabs forceRenderTabPanel={true}>\r\n                    <TabList>\r\n                        <Tab>Save</Tab>\r\n                        <Tab>IMG Filter</Tab>\r\n                        <Tab>Casparcg Tools</Tab>\r\n                        <Tab>Help</Tab>\r\n                    </TabList>\r\n                    <TabPanel>\r\n                        <SavePannel />\r\n                    </TabPanel>\r\n                    <TabPanel>\r\n                        <ImageFilterController canvas={window.editor?.canvas} />\r\n                    </TabPanel>\r\n                    <TabPanel>\r\n                        <CasparcgTools />\r\n                    </TabPanel>\r\n                    <TabPanel>\r\n                        <Help />\r\n                    </TabPanel>\r\n                </Tabs>\r\n\r\n\r\n\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default DrawingController\r\n","import useContextMenu from './useContextMenu'\r\nimport { setasClipPath, cliptoPath, gradientStroke, gradientFill, removeShadow, removeFill, removeStroke, createText, createRect, createCircle, createTriangle, deleteSelectedItem, deleteAll, bringToFront, sendToBack, undo, redo, lock, unlockAll, groupObjects, copy, paste, alignLeft, alignRight, alignCenter, textUnderline, textLineThrough, textItalic, txtBold, textNormal, removeBg } from './DrawingController'\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscTrash, VscLock, VscUnlock } from \"react-icons/vsc\";\r\nimport { AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\n\r\nconst ContextMenu = ({ editor }) => {\r\n  const { xPos, yPos, showMenu } = useContextMenu();\r\n  window.showMenu = showMenu;\r\n  return (<div>\r\n    {showMenu ? (<div className='rightClickMenu' style={{ position: 'absolute', left: xPos, top: yPos, color: 'white' }}>\r\n      <ul  >\r\n        <li onClick={() => deleteSelectedItem(editor.canvas)}>Delete Selected <VscTrash />\r\n          <ul>\r\n            <li onClick={() => deleteAll(editor.canvas)}>Delete All</li>\r\n          </ul>\r\n        </li>\r\n        <li onClick={() => bringToFront(editor.canvas)}>Bring To Front</li>\r\n        <li onClick={() => sendToBack(editor.canvas)}>Send To Back</li>\r\n\r\n        <li onClick={() => setasClipPath(editor.canvas)}>Set as ClipPath</li>\r\n        <li onClick={() => cliptoPath(editor.canvas)}>Clip to Path</li>\r\n\r\n        <li onClick={() => lock(editor.canvas)}>Lock <VscLock /></li>\r\n        <li onClick={() => unlockAll(editor.canvas)}>Unlock All <VscUnlock /></li>\r\n        <li onClick={() => groupObjects(editor.canvas, true)}>Group Selected</li>\r\n        <li onClick={() => groupObjects(editor.canvas, false)}>UnGroup Selected</li>\r\n        <li>Add<ul >\r\n          <li onClick={() => createText(editor.canvas)}>Text T</li>\r\n          <li onClick={() => createRect(editor.canvas)}>Rectangle <VscPrimitiveSquare /></li>\r\n          <li onClick={() => createCircle(editor.canvas)}>Circle <VscCircleFilled /></li>\r\n          <li onClick={() => createTriangle(editor.canvas)}>Triangle <VscTriangleUp /></li>\r\n\r\n        </ul></li>\r\n        <li>Text Align<ul >\r\n          <li onClick={() => alignLeft(editor.canvas)}>Left</li>\r\n          <li onClick={() => alignRight(editor.canvas)}>Right</li>\r\n          <li onClick={() => alignCenter(editor.canvas)}>Center</li>\r\n        </ul></li>\r\n        <li>Text Decoration<ul >\r\n          <li onClick={() => textUnderline(editor.canvas)}>Underline Toggle</li>\r\n          <li onClick={() => textLineThrough(editor.canvas)}>LineThrough Toggle</li>\r\n          <li onClick={() => textItalic(editor.canvas)}>Itallic</li>\r\n          <li onClick={() => txtBold(editor.canvas)}>Bold</li>\r\n          <li onClick={() => textNormal(editor.canvas)}>Normal</li>\r\n        </ul></li>\r\n        <li>Remove<ul >\r\n          <li onClick={() => removeFill(editor.canvas)}> Fill</li>\r\n          <li onClick={() => removeBg(editor.canvas)}> BG</li>\r\n          <li onClick={() => removeStroke(editor.canvas)}> Stroke</li>\r\n          <li onClick={() => removeShadow(editor.canvas)}> shadow</li>\r\n        </ul></li>\r\n\r\n        <li>Set Gradient<ul >\r\n          <li onClick={() => gradientFill(editor.canvas)}> Fill</li>\r\n          <li onClick={() => gradientStroke(editor.canvas)}> Stroke</li>\r\n        </ul></li>\r\n\r\n        <li onClick={() => redo(editor.canvas)}>Redo <AiOutlineRedo /></li>\r\n        <li onClick={() => undo(editor.canvas)}>Undo <AiOutlineUndo /></li>\r\n        <li onClick={() => copy()}>Copy</li>\r\n        <li onClick={() => paste()}>Paste</li>\r\n        <li>Drawing Mode<ul >\r\n          <li onClick={() => window.toggleModeDrawing(editor.canvas)}>Off<VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Pencil', editor.canvas)\r\n          }}>Pencil <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Spray', editor.canvas)\r\n          }}>Spray <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Erase', editor.canvas)\r\n          }}>Erase <VscEdit /></li>\r\n        </ul></li>\r\n      </ul>\r\n    </div>) : ''}\r\n  </div>);\r\n};\r\n\r\nexport default ContextMenu","import { useSelector } from 'react-redux'\r\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\r\nimport ContextMenu from './ContextMenu'\r\nimport { useEffect } from 'react';\r\nconst Drawing = ({ canvasOutput }) => {\r\n    const { editor, onReady } = useFabricJSEditor();\r\n    const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n    const canvasFromJson = (canvas) => {\r\n        var state2 = state1.replace(new RegExp(String.fromCharCode(2), \"g\"), '\"').replace(new RegExp(String.fromCharCode(3), \"g\"), ' ').replace(new RegExp(String.fromCharCode(4), \"g\"), '/').replace(new RegExp(String.fromCharCode(5), \"g\"), '%')\r\n        const data = (JSON.parse(state2));\r\n        canvas.loadFromJSON(data);\r\n        canvas.requestRenderAll();\r\n    };\r\n    window.ReadToCasparcgfromStore = () => canvasFromJson(editor.canvas)\r\n    window.canvasFromJson = canvasFromJson\r\n    window.editor = editor;\r\n    function cancesetZoomAndPan(canvas) {\r\n        canvas.on('mouse:wheel', null);\r\n        canvas.on('mouse:down', null);\r\n        canvas.on('mouse:move', null);\r\n        canvas.on('mouse:up', null);\r\n    }\r\n\r\n    function setZoomAndPan(canvas) {\r\n        canvas.on('mouse:wheel', function (opt) {\r\n            var delta = opt.e.deltaY;\r\n            var zoom = canvas.getZoom();\r\n            zoom *= 0.999 ** delta;\r\n            if (zoom > 20) zoom = 20;\r\n            if (zoom < 0.01) zoom = 0.01;\r\n            // canvas.setZoom(zoom);\r\n            canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\r\n            opt.e.preventDefault();\r\n            opt.e.stopPropagation();\r\n        })\r\n\r\n        canvas.on('mouse:down', function (opt) {\r\n            var evt = opt.e;\r\n            if (evt.altKey === true) {\r\n                this.isDragging = true;\r\n                this.selection = false;\r\n                this.lastPosX = evt.clientX;\r\n                this.lastPosY = evt.clientY;\r\n            }\r\n        });\r\n        canvas.on('mouse:move', function (opt) {\r\n            if (this.isDragging) {\r\n                var e = opt.e;\r\n                var vpt = this.viewportTransform;\r\n                vpt[4] += e.clientX - this.lastPosX;\r\n                vpt[5] += e.clientY - this.lastPosY;\r\n                this.requestRenderAll();\r\n                this.lastPosX = e.clientX;\r\n                this.lastPosY = e.clientY;\r\n            }\r\n        });\r\n        canvas.on('mouse:up', function (opt) {\r\n            // on mouse up we want to recalculate new interaction\r\n            // for all objects, so we call setViewportTransform\r\n            this.setViewportTransform(this.viewportTransform);\r\n            this.isDragging = false;\r\n            this.selection = true;\r\n        });\r\n    }\r\n   \r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setZoomAndPan(window.editor.canvas);\r\n        }, 2000);\r\n        return () => {\r\n            cancesetZoomAndPan(window.editor.canvas)\r\n        }\r\n    }, [])\r\n\r\n    return (<div>\r\n        <FabricJSCanvas className={canvasOutput ? 'canvasOutput' : 'canvas'} onReady={onReady} />\r\n        <ContextMenu editor={editor} />\r\n    </div>);\r\n};\r\nexport default Drawing;\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nconst initialState = {\r\n    element1: []\r\n}\r\nconst reducer1 = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_ELEMENT': return {\r\n            ...state,\r\n            element1: [...state.element1, action.payload]\r\n        }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateOneLiner = {\r\n    onelinerData: [{ id: 1, name: 'Vimlesh Kumar Tanti 1' }, { id: 2, name: 'Vimlesh Kumar Tanti 2' }, { id: 3, name: 'Vimlesh Kumar Tanti 3' }]\r\n}\r\nconst oneLinerReducer = (state = initialStateOneLiner, action) => {\r\n    switch (action.type) {\r\n        case 'UPDATE_ONELINER':\r\n            const updatedOneLinerData = state.onelinerData.map((val) => {\r\n                return val.id === parseInt(action.payload.id) ? { ...val, name: action.payload.name } : val;\r\n            });\r\n            return {\r\n                ...state,\r\n\r\n                onelinerData: [...updatedOneLinerData]\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStateStyle1 = {\r\n    style1: {\r\n        color: 'rgb(255, 255, 255)',\r\n        backgroundColor: 'rgb(80, 3, 124)'\r\n    }\r\n}\r\nconst style1Reducer = (state = initialStateStyle1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_STYLE1':\r\n            return {\r\n                ...state,\r\n\r\n                style1: { ...state.style1, ...action.payload }\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateCanvas1 = { aa:''}\r\n\r\n\r\nconst canvas1Reducer = (state = initialStateCanvas1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_CANVAS1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStatetextEditor1 = { aa: 'Vimlesh Kumar' }\r\n\r\nconst textEditor1Reducer = (state = initialStatetextEditor1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_TEXT1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    reducer1,\r\n    oneLinerReducer,\r\n    style1Reducer,\r\n    canvas1Reducer,\r\n    textEditor1Reducer\r\n\r\n})\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, thunk)))\r\nexport default store","import React, { useState } from 'react'\r\nimport { fabric } from \"fabric\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nconst ColorGradient = () => {\r\n    const [color1, setColor1] = useState('red')\r\n    const [color2, setColor2] = useState('green')\r\n    const [direction, setDirection] = useState('to right')\r\n    const directions = ['to right', 'to bottom', 'to bottom right'];\r\n    const [coords1, setCoords1] = useState({ x1: 0, y1: 0, x2: 1, y2: 0 })\r\n\r\n    function setCoords(direction1) {\r\n        switch (direction1) {\r\n            case 'to right':\r\n                setCoords1({ x1: 0, y1: 0, x2: 1, y2: 0 });\r\n                break;\r\n            case 'to bottom':\r\n                setCoords1({ x1: 0, y1: 0, x2: 0, y2: 1 });\r\n                break;\r\n            case 'to bottom right':\r\n                setCoords1({ x1: 0, y1: 0, x2: 1, y2: 1 });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n    }\r\n    const gradient2 = new fabric.Gradient({\r\n        type: 'linear',\r\n        gradientUnits: 'percentage',\r\n        coords: coords1,\r\n        colorStops: [\r\n            { offset: 0, color: color1 },\r\n            { offset: 1, color: color2 }\r\n        ]\r\n    });\r\n\r\n    const changeColor1 = e => {\r\n        setColor1(e.target.value)\r\n    }\r\n    const changeColor2 = e => {\r\n        setColor2(e.target.value)\r\n    }\r\n    const setGradient2Fill = canvas => {\r\n        canvas.getActiveObjects().forEach(element => { element.set('fill', gradient2) });\r\n        canvas.requestRenderAll();\r\n    }\r\n    const setGradient3Fill = canvas => {\r\n        canvas.getActiveObjects().forEach(element => {\r\n            element.set('fill', new fabric.Gradient({\r\n                type: 'radial',\r\n                gradientUnits: 'pixel',\r\n                coords: {\r\n                    x1: element.width / 2,\r\n                    y1: element.height / 2,\r\n                    r1: element.width / 8,\r\n                    x2: element.width / 2,\r\n                    y2: element.height / 2,\r\n                    r2: element.width / 2,\r\n\r\n                },\r\n                colorStops: [\r\n                    { offset: 0, color: color1 },\r\n                    { offset: 1, color: color2 }\r\n                ]\r\n            }))\r\n        });\r\n        canvas.requestRenderAll();\r\n    }\r\n\r\n    const setGradient2Stroke = canvas => {\r\n        canvas.getActiveObjects().forEach(element => { element.set('stroke', gradient2) });\r\n        canvas.requestRenderAll();\r\n    }\r\n    return (<>\r\n        <div style={{ margin: 5, border: '2px solid blue', width: 295, height: 100, backgroundImage: `linear-gradient(${direction}, ${color1}, ${color2})` }} />\r\n        <div>\r\n            Color 1 <input type=\"color\" defaultValue='#ff0000' onChange={e => changeColor1(e)} />\r\n            Color 2 <input type=\"color\" defaultValue='#00ff00' onChange={e => changeColor2(e)} />\r\n        </div>\r\n        {directions.map((val, i) => {\r\n            return (\r\n                <div key={uuidv4()} style={{ margin: 5 }}>\r\n                    <input checked={(direction === val)}\r\n                        onChange={\r\n                            e => {\r\n                                setDirection(e.target.value);\r\n                                setCoords(e.target.value)\r\n                            }\r\n                        } type=\"radio\" value={val} id={val} />\r\n                    <label htmlFor={val}>{val}</label>\r\n                </div>\r\n            )\r\n        })}\r\n        <div style={{ margin: 5 }} >\r\n            <button onClick={() => setGradient2Fill(window.editor.canvas)}>Set Gradient Fill</button>\r\n            <button onClick={() => setGradient2Stroke(window.editor.canvas)}>Set Gradient Stroke</button>\r\n            <button onClick={() => setGradient3Fill(window.editor.canvas)}>Set Radial Gradient Fill</button>\r\n        </div>\r\n    </>)\r\n}\r\nexport default ColorGradient\r\n","import React, { useState } from 'react'\r\n// import { v4 as uuidv4 } from 'uuid';\r\nimport { VscTrash, VscMove } from \"react-icons/vsc\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nconst Layers = () => {\r\n    const [layers, setLayers] = useState(window.editor?.canvas.getObjects())\r\n    const onDragEnd = (result) => {\r\n        const aa = [...layers]\r\n        if (result.destination != null) {\r\n            aa.splice(result.destination?.index, 0, aa.splice(result.source?.index, 1)[0])\r\n            setLayers(aa)\r\n        }\r\n        window.editor?.canvas.moveTo(window.editor?.canvas.getObjects()[result.source?.index], result.destination?.index);\r\n        window.editor?.canvas.requestRenderAll();\r\n    }\r\n    const deleteLayer = (e, canvas) => {\r\n        canvas.remove(canvas.getObjects()[e.target.getAttribute('key1')]);\r\n        canvas.requestRenderAll();\r\n        const updatedLayers = layers.filter((_, i) => {\r\n            return (parseInt(e.target.getAttribute('key1')) !== i)\r\n        });\r\n        setLayers([...updatedLayers])\r\n    }\r\n    const selectObject = (e, canvas) => {\r\n        canvas.setActiveObject(canvas.item(e.target.getAttribute('key1')));\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n\r\n\r\n    return (<div>\r\n        <button onClick={() => setLayers(window.editor?.canvas.getObjects())}>Refresh</button>{layers?.length}\r\n\r\n        <div style={{ height: 280, width: 330, overflow: 'scroll', border: '1px solid black' }}>\r\n\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n                <Droppable droppableId=\"droppable-1\" type=\"PERSON\">\r\n                    {(provided, snapshot) => (\r\n                        <div\r\n                            ref={provided.innerRef}\r\n                            style={{ backgroundColor: snapshot.isDraggingOver ? 'yellow' : 'yellowgreen' }}\r\n                            {...provided.droppableProps}\r\n                        >\r\n\r\n                            <table border='1'>\r\n                                <tbody>\r\n                                    {layers?.map((val, i) => {\r\n                                        return (\r\n                                            <Draggable draggableId={\"draggable\" + i} key={val + i} index={i}>\r\n\r\n                                                {(provided, snapshot) => (\r\n                                                    <tr\r\n                                                        ref={provided.innerRef}\r\n                                                        {...provided.draggableProps}\r\n                                                        style={{\r\n                                                            ...provided.draggableProps.style,\r\n                                                            backgroundColor: snapshot.isDragging ? 'red' : 'white',\r\n                                                            boxShadow: snapshot.isDragging ? \"0 0 .4rem #666\" : \"none\",\r\n                                                            // margin: '10px'\r\n                                                        }}\r\n                                                    ><td>{i + 1}</td><td {...provided.dragHandleProps}><VscMove /></td><td key1={i} onClick={(e) => selectObject(e, window.editor.canvas)} style={{ minWidth: 225 }}>{val.type}</td><td><button key1={i} onClick={(e) => deleteLayer(e, window.editor?.canvas)}><VscTrash style={{ pointerEvents: 'none' }} /></button></td>\r\n                                                    </tr>\r\n                                                )\r\n                                                }\r\n                                            </Draggable>\r\n                                        )\r\n                                    })}\r\n                                    {provided.placeholder}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default Layers\r\n","import React, { useState } from 'react'\r\nimport { endpoint, address1 } from './common'\r\nimport axios from 'axios'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst VideoController = ({ layerNumber }) => {\r\n    const [filename, setfilename] = useState('amb');\r\n    const [media, setMedia] = useState([]);\r\n    const [searchText, setSearchText] = useState('');\r\n\r\n    const refreshMedia = () => {\r\n        axios.post(address1 + '/getmedia').then((aa) => {\r\n            setMedia(aa.data)\r\n        }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n    const searchedMedia =\r\n        media.filter((value) => {\r\n            return (value.toLowerCase().search(searchText.toLowerCase()) > -1)\r\n        })\r\n\r\n    return (\r\n        <div style={{ border: '1px solid black' }}>\r\n            <b>Layer: {layerNumber}</b><br />\r\n            <div style={{ width: 400 }}>\r\n                File: <input style={{ width: 320 }} onChange={(e) => setfilename(e.target.value)} value={filename}></input>\r\n                <br /> <button className='palyButton' onClick={() => endpoint(`load ${window.chNumber}-${layerNumber} \"${filename}\"`)}>Cue</button>\r\n                <button className='palyButton' onClick={() => endpoint(`play ${window.chNumber}-${layerNumber} \"${filename}\"`)}> Play</button>\r\n                <button className='stopButton' onClick={() => endpoint(`pause ${window.chNumber}-${layerNumber}`)}>Pause</button>\r\n                <button className='stopButton' onClick={() => endpoint(`resume ${window.chNumber}-${layerNumber}`)}>Resume</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-${layerNumber}`)}>Stop</button>\r\n                <button className='palyButton' onClick={() => endpoint(`play ${window.chNumber}-${layerNumber} \"${filename}\" loop`)}>Loop Play</button>\r\n\r\n            </div>\r\n            <button onClick={refreshMedia}>Refresh Media</button>{searchedMedia.length} files<br />\r\n            <span>search:</span><input style={{ width: 320 }} type='text' onChange={e => setSearchText(e.target.value)} />\r\n            <div style={{ maxHeight: '300px', maxWidth: '400px', overflow: 'scroll' }}>\r\n                <table border='1' >\r\n                    <tbody>\r\n                        {searchedMedia.map((val, i) => {\r\n                            return <tr key={uuidv4()}><td onClick={(e) => {\r\n                                setfilename(((e.target.innerText).replaceAll('\\\\', '/')).split('.')[0]);\r\n                                var video = document.getElementById(`video${layerNumber}`);\r\n                                var source = document.getElementsByTagName('source')[layerNumber - 1];\r\n\r\n                                if ((`${address1}/media/${e.target.innerText}`).match(/\\.(jpeg|jpg|bmp|gif|png)$/) != null) {\r\n                                    video.setAttribute(\"poster\", `${address1}/media/${e.target.innerText}`);\r\n                                }\r\n                                else {\r\n                                    video.setAttribute(\"poster\", ``);\r\n                                    source.setAttribute(\"src\", `${address1}/media/${e.target.innerText}`);\r\n                                    video.load();\r\n                                }\r\n                            }\r\n                            }>{val}</td></tr>\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VideoController\r\n","\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport Video from './Video';\r\nimport Drawing from './Drawing';\r\nimport { endpoint, address1 } from './common'\r\nimport axios from 'axios'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport DrawingController, { addRoundedCornerImage } from './DrawingController';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ColorGradient from './ColorGradient';\r\nimport Layers from './Layers';\r\nimport VideoController from './VideoController';\r\n\r\nconst buildDate = '161021'\r\n\r\nconst App = (props) => {\r\n  const [mediaPath, setmediaPath] = useState();\r\n  const [imageName, setImageName] = useState(`http://${window.location.host}${process.env.PUBLIC_URL}/img/pine-wood-500x500.jpg`)\r\n  const refPreviewContainer = useRef();\r\n  const [media, setMedia] = useState([]);\r\n  const chNumbers = [1, 2, 3, 4, 5, 6];\r\n  const [chNumber, setChNumber] = useState(1);\r\n  const [currentTab, setCurrentTab] = useState('Drawing');\r\n  const [searchText2, setSearchText2] = useState('');\r\n\r\n  const searchedMedia2 =\r\n    media.filter((value) => {\r\n      return (value.toLowerCase().search(searchText2.toLowerCase()) > -1)\r\n    })\r\n\r\n  const animationMethods = [\r\n    'linear',\r\n    'easenone',\r\n    'easeinquad',\r\n    'easeoutquad',\r\n    'easeinoutquad',\r\n    'easeoutinquad',\r\n    'easeincubic',\r\n    'easeoutcubic',\r\n    'easeinoutcubic',\r\n    'easeoutincubic',\r\n    'easeinquart',\r\n    'easeoutquart',\r\n    'easeinoutquart',\r\n    'easeoutinquart',\r\n    'easeinquint',\r\n    'easeoutquint',\r\n    'easeinoutquint',\r\n    'easeoutinquint',\r\n    'easeinsine',\r\n    'easeoutsine',\r\n    'easeinoutsine',\r\n    'easeoutinsine',\r\n    'easeinexpo',\r\n    'easeoutexpo',\r\n    'easeinoutexpo',\r\n    'easeoutinexpo',\r\n    'easeincirc',\r\n    'easeoutcirc',\r\n    'easeinoutcirc',\r\n    'easeoutincirc',\r\n    \"easeinelastic\",\r\n    \"easeoutelastic\",\r\n    \"easeinoutelastic\",\r\n    \"easeoutinelastic\",\r\n    \"easeinback\",\r\n    \"easeoutback\",\r\n    \"easeinoutback\",\r\n    \"easeoutintback\",\r\n    \"easeoutbounce\",\r\n    \"easeinbounce\",\r\n    \"easeinoutbounce\",\r\n    \"easeoutinbounce\",\r\n  ]\r\n\r\n  const [animationMethod, setAnimationMethod] = useState('easeinsine');\r\n\r\n  useEffect(() => {\r\n    window.imageName = imageName;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [imageName])\r\n\r\n  useEffect(() => {\r\n    window.animationMethod = animationMethod;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [animationMethod])\r\n\r\n  useEffect(() => {\r\n    window.chNumber = chNumber;\r\n    document.title = `CH #${chNumber} RCC_${buildDate}`;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [chNumber])\r\n\r\n  const connectHandler = () => {\r\n    if (connectbutton.current.style.backgroundColor === \"green\") {\r\n      axios.post(address1 + '/disconnect').then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n    else {\r\n      const data = { host: 'localhost', port: 5250 }\r\n      axios.post(address1 + '/connect', data).then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n\r\n  }\r\n\r\n  const connectbutton = useRef();\r\n\r\n  const refreshMedia = () => {\r\n    axios.post(address1 + '/getmedia').then((aa) => {\r\n      setMedia(aa.data)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(':8080');\r\n    // socket.on(\"FromAPI\", data => {\r\n    //   setRemainingTime(data);\r\n    // });\r\n    socket.on(\"Fromccgsocket\", data => {\r\n      setmediaPath(data);\r\n    });\r\n    socket.on(\"connectionStatus\", data => {\r\n      if (data === 'true') {\r\n        connectbutton.current.style.backgroundColor = \"green\";\r\n      }\r\n      else {\r\n        connectbutton.current.style.backgroundColor = \"red\";\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refreshMedia()\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [mediaPath])\r\n\r\n  const onTabChange = (index, prevIndex) => {\r\n    switch (index) {\r\n      case 0:\r\n        setCurrentTab('Drawing')\r\n        break;\r\n      case 1:\r\n        setCurrentTab('Video')\r\n        break;\r\n      default:\r\n      //nothing\r\n    }\r\n  }\r\n\r\n  const changeAnimationMethod = e => {\r\n    setAnimationMethod(e.target.value);\r\n  }\r\n  const changeChannelNumber = e => {\r\n    setChNumber(e.target.value);\r\n  }\r\n\r\n  return (<React.Fragment>\r\n\r\n    <div className='menu_bar'>\r\n      <button className='connectbutton' style={{}} ref={connectbutton} onClick={connectHandler}>Connect</button> <button className='StopChannelButton' style={{}} onClick={() => {\r\n        endpoint(`clear ${chNumber}`);\r\n        endpoint(`mixer ${chNumber} clear`);\r\n\r\n      }}>Stop Channel</button>\r\n      <b> Animation Method: </b><select onChange={e => changeAnimationMethod(e)} value={animationMethod}>\r\n        {animationMethods.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <b>Channel Number:</b>\r\n      <select onChange={e => changeChannelNumber(e)} value={chNumber}>\r\n        {chNumbers.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <button onClick={() => endpoint(`swap 1 2`)}>Swap Channels</button>\r\n\r\n      <span style={{ position: 'absolute', right: '10px' }}><b >All version of casparcg server</b></span>\r\n    </div>\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      border: '1px dashed blue',\r\n      height: '100vh',\r\n      flexWrap: 'nowrap'\r\n    }}>\r\n      <div style={{ width: '1035px' }} >\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          border: '1px dashed blue',\r\n          height: '100vh',\r\n          flexWrap: 'nowrap'\r\n        }}>\r\n          <div>\r\n            <div ref={refPreviewContainer} id='preview-container' className='preview-container'>\r\n              <div style={{ display: (currentTab === 'Drawing') ? 'none' : 'block' }}>\r\n                <Video video={address1 + '/media/amb.mp4'} layerNumber={1} />\r\n                <Video video={address1 + '/media/CG1080i50.mp4'} layerNumber={2} />\r\n                <Video video={address1 + '/media/go1080p25.mp4'} layerNumber={3} />\r\n                <Video video={address1 + '/media/CG1080i50_A.mp4'} layerNumber={4} />\r\n\r\n              </div>\r\n              <div style={{ display: (currentTab === 'Drawing') ? 'block' : 'none' }}>\r\n                <Provider store={store}>\r\n                  <Drawing />\r\n                </Provider>\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex' }}>\r\n              <div style={{ backgroundColor: 'grey', border: '1px solid yellow', maxWidth: 690, minWidth: 690, height: 400 }}>\r\n                <h4>Put as below in casparcg.config file and drag screen consumer here</h4>\r\n                <h5>\r\n                  &lt;screen&gt;\r\n                  &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                  &lt;x&gt;0&lt;/x&gt;\r\n                  &lt;y&gt;680&lt;/y&gt;\r\n                  &lt;width&gt;680&lt;/width&gt;\r\n                  &lt;height&gt;325&lt;/height&gt;\r\n\r\n                  &lt;/screen&gt;\r\n                </h5>\r\n              </div>\r\n              <div >\r\n                <Tabs forceRenderTabPanel={true}>\r\n                  <TabList >\r\n                    <Tab>Image</Tab>\r\n                    <Tab >ColorGradient</Tab>\r\n                    <Tab >Layers</Tab>\r\n\r\n                  </TabList>\r\n\r\n                  <TabPanel>\r\n                    <div>\r\n                      <button onClick={refreshMedia}>Refresh Media</button>{searchedMedia2.length} files<br />\r\n                      <span>search:</span><input type='text' onChange={e => setSearchText2(e.target.value)} />\r\n                      <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                        <div style={{ maxHeight: '160px', maxWidth: '330px', overflow: 'scroll', border: '1px solid red' }}>\r\n                          <table border='1' >\r\n                            <tbody>\r\n                              {searchedMedia2.map((val, i) => {\r\n                                return <tr key={i}><td onClick={(e) => {\r\n                                  setImageName((address1 + `/media/` + e.target.innerText));\r\n                                }}>{val}</td></tr>\r\n                              })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                        <div style={{ border: '1px solid red', display: 'flex', alignContent: 'center', alignItems: 'center' }}>\r\n                          <div>\r\n                            <img src={imageName} alt='' width=\"90\" height=\"60\" style={{ border: '1px solid #555' }}></img>\r\n                          </div>\r\n                          <div>\r\n                            Selected Image<br />\r\n                            <button onClick={() => addRoundedCornerImage(window.editor.canvas, window.imageName)}>Add Image</button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  </TabPanel>\r\n                  <TabPanel >\r\n                    <ColorGradient />\r\n                  </TabPanel>\r\n                  <TabPanel >\r\n                    <Layers />\r\n                  </TabPanel>\r\n                </Tabs>\r\n\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div style={{ width: '38vw', minWidth: '400px' }}>\r\n        <Tabs forceRenderTabPanel={true} onSelect={(index, prevIndex) => onTabChange(index, prevIndex)} >\r\n          <TabList>\r\n            <Tab>Graphics</Tab>\r\n            <Tab>Video</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <div style={{ border: '1px dashed blue', width: 900 }}>\r\n              <DrawingController />\r\n            </div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <div style={{ display: 'flex', justifyContent: 'space-around', width: 900, marginBottom: 50 }}>\r\n              <VideoController layerNumber={1} />\r\n              <VideoController layerNumber={2} />\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-around', width: 900 }}>\r\n              <VideoController layerNumber={3} />\r\n              <VideoController layerNumber={4} />\r\n            </div>\r\n          </TabPanel>\r\n        \r\n        </Tabs >\r\n      </div >\r\n\r\n    </div>\r\n\r\n  </React.Fragment >);\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport Drawing from './Drawing';\r\n\r\n\r\nwindow.store = store;\r\n\r\nReactDOM.render(\r\n\r\n  <Provider store={store}>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      {/* <Router > */}\r\n\r\n      <Switch>\r\n        <Route exact path='/' render={() => (<App />)} />\r\n\r\n        <Route exact path='/drawing' render={() => <Drawing canvasOutput={true} />} />\r\n      </Switch>\r\n    </Router>\r\n  </Provider>,\r\n\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}