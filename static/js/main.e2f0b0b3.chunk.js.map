{"version":3,"sources":["Video.jsx","useContextMenu.js","common.js","casparlogo.png","DrawingController.jsx","ContextMenu.jsx","Drawing.jsx","store.js","App.js","reportWebVitals.js","index.js"],"names":["Video","props","id","width","height","controls","src","video","type","useContextMenu","useState","xPos","setXPos","yPos","setYPos","showMenu","setShowMenu","handleContextMenu","useCallback","e","clientX","clientY","preventDefault","handleClick","useEffect","document","addEventListener","removeEventListener","address1","window","location","host","split","endpoint","string","data","axios","post","then","aa","catch","console","log","fabric","Object","prototype","noScaleCache","screenSizes","Direction","moveSelected","direction","activeObject","editor","canvas","getActiveObject","set","left","top","setCoords","renderAll","util","addListener","body","options","key","which","keyCode","currentMode","currentColor","currentFont","currentFontSize","backgroundColor","group","stroke","strokeWidth","shadowOptions","color","blur","offsetX","offsetY","affectStroke","gradient","Gradient","gradientUnits","coords","x1","y1","x2","y2","colorStops","offset","addClock","sss","Textbox","shadow","fill","fontFamily","fontWeight","fontSize","editable","objectCaching","textAlign","add","setActiveObject","requestRenderAll","setInterval","ss1","Date","toLocaleTimeString","hour12","hour","minute","second","animate","_clipboard","createText","text","padding","onChange","bind","addRoundedCornerImage","imageName1","rect","Rect","rx","ry","loadImage","myImg","Pattern","source","repeat","scaleX","scaleY","createRect","opacity","hasRotatingPoint","strokeUniform","createCircle","circle","Circle","radius","cornerSize","createTriangle","isDrawingMode","triangle","Triangle","deleteSelectedItem","getActiveObjects","forEach","element","remove","discardActiveObject","deleteAll","getObjects","undo","redo","setOpacity","val","lock","selectable","unlockAll","ErasedGroup","createClass","Group","original","ErasedPath","initialize","isAlreadyGrouped","this","callSuper","_calcBounds","onlyWidthHeight","aX","aY","jLen","length","o","j","prop","push","oCoords","x","y","_getBounds","EraserBrush","PencilBrush","_finalizeAndAddPath","contextTop","closePath","decimate","_points","decimatePoints","pathData","convertPointsToSVGPath","join","path","createPath","globalCompositeOperation","evented","absolutePositioned","objects","filter","obj","intersectsWithObject","mergedGroup","newPath","newData","toDataURL","withoutTransform","Image","fromURL","fabricImage","clearContext","_resetShadow","groupObjects","shouldGroup","toGroup","toActiveSelection","changeText","toString","chNumber","copy","clone","cloned","selectAll","sel","ActiveSelection","paste","clonedObj","forEachObject","DrawingController","fontList","setFontList","setCurrentFont","canvaslist","setCanvaslist","currentPage","setCurentPage","currentscreenSize","setCurrentscreenSize","f0","setF0","f1","setF1","f2","setF2","onlineImageUrl","setOnlineImageUrl","verticalSpeed","setVerticalSpeed","horizontalSpeed","setHorizontalSpeed","solidcaption1","setSolidcaption1","solidcaption2","setSolidcaption2","logo","setLogo","locationBand","setLocationBand","verticalScroll","setVerticalScroll","horizontalScroll","setHorizontalScroll","clock","setClock","upTimer","setUpTimer","setCurrentMode","onDrawingModeChange","mode","freeDrawingBrush","SprayBrush","toggleModeDrawing","fileReader","handleFileRead","result","splice","bb","cc","JSON","parse","startGraphics","layerNumber","setViewportTransform","animationMethod","setTimeout","toSVG","replaceAll","updateGraphics","stopGraphics","updatePageName","useDispatch","useSelector","state","canvas1Reducer","updatedCanvasList","map","i","parseInt","target","getAttribute","innerText","pageValue","onDoubleClickPageName","event","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","item","isEditing","ctrlKey","style","display","className","value","onClick","pageName","Casparlogo","alt","hh","getBoundingRect","startVerticalScroll","onVerticalSpeedChange","min","max","step","defaultValue","createElement","file","Blob","href","URL","createObjectURL","ss","year","month","day","retVal","prompt","download","appendChild","click","exportVerticalScrollAsHTML","startHorizontalScroll","onHorizontalSpeedChange","exportHorizontalScrollAsHTML","exportClockAsHTML","startTime","diff","getTime","date_diff","toLocaleString","String","getMilliseconds","padStart","addUpTimer","exportUpTimerAsHTML","Ellipse","inverted","createEllipse","Line","Blur","createLine","heart","Path","originX","originY","angle","createHeart","element1","createArrow","checked","name","uuidv4","htmlFor","changeCurrentColor","changeBackGroundColor","changeStrokeCurrentColor","onstrokeSizeChange","oldFill","oldStroke","changeShadowCurrentColor","onBlurSizeChange","onoffsetXChange","onoffsetYChange","skewX","onSkewXSizeChange","skewY","onSkewYSizeChange","onRxSizeChange","onRySizeChange","setZoom","getZoom","putat00","arr","Math","alignAllLeft","alignAllRight","alignAllTop","alignAllButtom","onFontChange","onSizeChange","size","accept","reader","FileReader","onload","imgObj","image","scale","readAsDataURL","files","Upload","exportSVG","site_url","loadSVGFromURL","importSVG","saveAs","exportHTML1","stringify","drawingFileSave","onloadend","readAsText","toJSON","updatePage","overflow","border","onDragEnd","destination","index","droppableId","provided","snapshot","ref","innerRef","isDraggingOver","droppableProps","draggableId","draggableProps","isDragging","boxShadow","dragHandleProps","minWidth","json","loadFromJSON","recallPage","key1","key2","onDoubleClick","suppressContentEditableWarning","contentEditable","onMouseOut","_","deletePage","pointerEvents","placeholder","ContextMenu","position","bringToFront","sendToBack","underline","linethrough","fontStyle","Drawing","canvasOutput","useFabricJSEditor","onReady","state1","canvasFromJson","state2","replace","RegExp","fromCharCode","ReadToCasparcgfromStore","on","opt","delta","deltaY","zoom","zoomToPoint","stopPropagation","evt","altKey","selection","lastPosX","lastPosY","vpt","viewportTransform","initialState","initialStateOneLiner","onelinerData","initialStateStyle1","style1","initialStateCanvas1","initialStatetextEditor1","rootReducer","combineReducers","reducer1","action","payload","oneLinerReducer","updatedOneLinerData","style1Reducer","textEditor1Reducer","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","App","mediaPath","setmediaPath","setRemainingTime","filename","setfilename","process","imageName","setImageName","refPreviewContainer","useRef","media","setMedia","setChNumber","currentTab","setCurrentTab","channelMode","setChannelMode","setAnimationMethod","title","connectbutton","refreshMedia","socket","socketIOClient","current","disconnect","Fragment","port","changeAnimationMethod","changeChannelNumber","right","flexDirection","flexWrap","maxHeight","maxWidth","alignContent","alignItems","forceRenderTabPanel","onSelect","prevIndex","onTabChange","getElementById","getElementsByTagName","match","setAttribute","load","changeChannelMode","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","exact"],"mappings":"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","file":"static/js/main.e2f0b0b3.chunk.js","sourcesContent":["const Video = (props) => {\r\n    return (<>\r\n        <div>\r\n            <video id='video' width=\"1024\" height=\"576\" controls>\r\n                <source src={props.video} type=\"video/mp4\" />\r\n            </video>\r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default Video\r\n","import { useEffect, useState, useCallback } from \"react\";\r\n\r\nconst useContextMenu = () => {\r\n  const [xPos, setXPos] = useState(\"0px\");\r\n  const [yPos, setYPos] = useState(\"0px\");\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const handleContextMenu = useCallback(\r\n    (e) => {\r\n      if (e.clientX > 1024) return\r\n      if (e.clientY > 610) return\r\n\r\n      e.preventDefault();\r\n\r\n      setXPos(`${e.clientX - 60}px`);\r\n      if (e.clientY > 145) {\r\n        setYPos(`${60}px`);\r\n      }\r\n      else {\r\n        setYPos(`${e.clientY - 50}px`);\r\n      }\r\n\r\n      setShowMenu(true);\r\n\r\n\r\n    },\r\n    [setXPos, setYPos]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    showMenu && setShowMenu(false);\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    document.addEventListener(\"contextmenu\", handleContextMenu);\r\n    return () => {\r\n      document.addEventListener(\"click\", handleClick);\r\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\r\n    };\r\n  });\r\n\r\n  return { xPos, yPos, showMenu };\r\n};\r\n\r\nexport default useContextMenu","import axios from 'axios'\r\nexport var address1='http://' + (window.location.host).split(':')[0] +':8080' ;\r\n\r\nexport const endpoint = (string) => {\r\n    const data = { string: string }\r\n    axios.post(address1 + '/endpoint', data).then((aa) => {\r\n    //    console.log(aa)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n}\r\n","export default __webpack_public_path__ + \"static/media/casparlogo.19af8063.png\";","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { fabric } from \"fabric\";\r\nimport { endpoint } from './common'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport \"fabric-history\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscLock, VscUnlock, VscTrash, VscMove } from \"react-icons/vsc\";\r\n\r\nimport { FaAlignLeft, FaAlignRight, FaSave } from \"react-icons/fa\";\r\nimport { AiOutlineVerticalAlignTop, AiOutlineVerticalAlignBottom, AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\nimport { FiFile } from \"react-icons/fi\";\r\nimport Casparlogo from './casparlogo.png'\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { saveAs } from 'file-saver';\r\n\r\n\r\nfabric.Object.prototype.noScaleCache = false;\r\n\r\nconst screenSizes = [1024, 1280, 1920, 2048, 3840, 4096]\r\n\r\nconst STEP = 5;\r\n\r\nvar Direction = {\r\n    LEFT: 0,\r\n    UP: 1,\r\n    RIGHT: 2,\r\n    DOWN: 3\r\n};\r\n\r\n\r\nfabric.util.addListener(document.body, 'keydown', function (options) {\r\n    // if (options.repeat) {\r\n    //     return;\r\n    // }\r\n    var key = options.which || options.keyCode; // key detection\r\n    if (key === 37) { // handle Left key\r\n        moveSelected(Direction.LEFT);\r\n    } else if (key === 38) { // handle Up key\r\n        moveSelected(Direction.UP);\r\n    } else if (key === 39) { // handle Right key\r\n        moveSelected(Direction.RIGHT);\r\n    } else if (key === 40) { // handle Down key\r\n        moveSelected(Direction.DOWN);\r\n    }\r\n});\r\nfunction moveSelected(direction) {\r\n    var activeObject = window.editor.canvas.getActiveObject();\r\n    if (activeObject) {\r\n        switch (direction) {\r\n            case Direction.LEFT:\r\n                activeObject.set({ left: activeObject.left - STEP });\r\n                break;\r\n            case Direction.UP:\r\n                activeObject.set({ top: activeObject.top - STEP });\r\n                break;\r\n            case Direction.RIGHT:\r\n                activeObject.set({ left: activeObject.left + STEP });\r\n                break;\r\n            case Direction.DOWN:\r\n                activeObject.set({ top: activeObject.top + STEP });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n        activeObject.setCoords();\r\n        window.editor.canvas.renderAll();\r\n\r\n    }\r\n}\r\n\r\nconst options = {\r\n    currentMode: \"\",\r\n    currentColor: \"#ffffff\",\r\n    currentFont: 'Arial',\r\n    currentFontSize: 25,\r\n    backgroundColor: \"#50037c\",\r\n    // currentWidth: 5,\r\n    group: {},\r\n    stroke: '#ffffff',\r\n    strokeWidth: 3,\r\n};\r\n\r\nexport const shadowOptions = {\r\n    color: 'black',\r\n    blur: 30,\r\n    offsetX: 0,\r\n    offsetY: 0,\r\n    affectStroke: false\r\n};\r\n\r\nexport var gradient = new fabric.Gradient({\r\n    type: 'linear',\r\n    // gradientUnits: 'pixels', // or 'percentage'\r\n    gradientUnits: 'percentage', // or 'percentage'\r\n    coords: { x1: 0, y1: 0, x2: 1, y2: 0 },\r\n    colorStops: [\r\n        { offset: 0, color: 'red' },\r\n        { offset: 0.2, color: 'orange' },\r\n        { offset: 0.4, color: 'yellow' },\r\n        { offset: 0.6, color: 'green' },\r\n        { offset: 0.8, color: 'blue' },\r\n        { offset: 1, color: 'purple' }\r\n    ]\r\n});\r\n\r\nexport const addClock = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'clock1',\r\n\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    setInterval(() => {\r\n        animate(canvas, sss)\r\n    }, 1000);\r\n}\r\n\r\nexport const addUpTimer = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'uptimer1',\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    var startTime = new Date();\r\n    setInterval(() => {\r\n        var diff = (new Date()).getTime() - startTime.getTime();\r\n        var date_diff = new Date(diff - 30 * 60 * 1000);\r\n        var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n        sss.set({\r\n            'text': ss1,\r\n        })\r\n        canvas.requestRenderAll();\r\n    }, 40);\r\n}\r\n\r\nfunction animate(canvas, sss) {\r\n    var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n    sss.set({\r\n        'text': ss1,\r\n    })\r\n    canvas.requestRenderAll();\r\n}\r\nexport const createText = (canvas) => {\r\n\r\n    const text = new fabric.Textbox(\"     Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 500,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 443, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\n\r\n\r\nexport const addRoundedCornerImage = (canvas, imageName1) => {\r\n    var rect = new fabric.Rect({\r\n        left: 10,\r\n        top: 10,\r\n        stroke: 'red',\r\n        strokeWidth: 3,\r\n        id: 'rectwithimg',\r\n        rx: 30,\r\n        objectCaching: false,\r\n        shadow: shadowOptions,\r\n        ry: 30\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    fabric.util.loadImage(imageName1, myImg => {\r\n        // fabric.Image.fromURL(imageName1,  myImg => {\r\n        rect.set({\r\n            width: myImg.width, height: myImg.height, fill: new fabric.Pattern({ source: myImg, repeat: 'no-repeat' })\r\n        });\r\n        rect.set({ scaleX: 0.5, scaleY: 0.5 })\r\n        canvas.renderAll();\r\n    });\r\n}\r\n\r\nconst Upload = e => {\r\n    var reader = new FileReader();\r\n    reader.onload = function (event) {\r\n        var imgObj = new Image();\r\n        imgObj.src = event.target.result;\r\n        imgObj.onload = function () {\r\n            var image = new fabric.Image(imgObj);\r\n            image\r\n                .set({\r\n                    left: 10,\r\n                    top: 10,\r\n                    shadow: shadowOptions,\r\n                    stroke: 'white',\r\n                    strokeWidth: 3,\r\n                    strokeUniform: true,\r\n                    objectCaching: false,\r\n                })\r\n                .scale(0.5);\r\n\r\n            window.editor.canvas.add(image).setActiveObject(image);\r\n        };\r\n    };\r\n    reader.readAsDataURL(e.target.files[0]);\r\n\r\n}\r\n\r\nexport const setGradientColor = canvas => {\r\n    if (window.editor.canvas.getActiveObject()) { canvas.getActiveObject().fill = gradient };\r\n}\r\n\r\nexport const createRect = (canvas) => {\r\n    const rect = new fabric.Rect({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 90,\r\n        width: 500,\r\n        height: 80,\r\n        opacity: 0.9,\r\n        fill: 'rgb(80, 3, 124)',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 430, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createEllipse = (canvas) => {\r\n    const rect = new fabric.Ellipse({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 180,\r\n        rx: 50,\r\n        ry: 80,\r\n        inverted: true,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 330, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createLine = (canvas) => {\r\n    const rect = new fabric.Line([500, 450, 800, 450.00001], {\r\n        shadow: { ...shadowOptions, Blur: 10 },\r\n        top: -100,\r\n        left: 90,\r\n        height: 1,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: 'yellow',\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 230, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\n\r\nconst createHeart = canvas => {\r\n    const heart = new fabric.Path(\"M0 200 v-200 h200 a100,100 90 0,1 0,200 a100,100 90 0,1 -200,0 z\");\r\n    heart.set({\r\n        shadow: shadowOptions,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        selectable: true,\r\n        evented: true,\r\n        left: 825,\r\n        top: -100,\r\n        scaleX: 0.3,\r\n        scaleY: 0.3,\r\n        angle: 225,\r\n        fill: \"red\",\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(heart).setActiveObject(heart);\r\n    canvas.requestRenderAll();\r\n    heart.animate('top', 230, { onChange: canvas.renderAll.bind(canvas) })\r\n}\r\n\r\nconst createArrow = canvas => {\r\n    const element1 = new fabric.Path(\r\n        \"M121.32,0L44.58,0C36.67,0,29.5,3.22,24.31,8.41\\\r\n      c-5.19,5.19-8.41,12.37-8.41,20.28c0,15.82,12.87,28.69,28.69,28.69c0,0,4.4,\\\r\n      0,7.48,0C36.66,72.78,8.4,101.04,8.4,101.04C2.98,106.45,0,113.66,0,121.32\\\r\n      c0,7.66,2.98,14.87,8.4,20.29l0,0c5.42,5.42,12.62,8.4,20.28,8.4c7.66,0,14.87\\\r\n      -2.98,20.29-8.4c0,0,28.26-28.25,43.66-43.66c0,3.08,0,7.48,0,7.48c0,15.82,\\\r\n      12.87,28.69,28.69,28.69c7.66,0,14.87-2.99,20.29-8.4c5.42-5.42,8.4-12.62,8.4\\\r\n      -20.28l0-76.74c0-7.66-2.98-14.87-8.4-20.29C136.19,2.98,128.98,0,121.32,0z\"\r\n    );\r\n    element1.set({\r\n        shadow: shadowOptions,\r\n        originX: \"center\",\r\n        originY: \"center\",\r\n        selectable: true,\r\n        evented: true,\r\n        left: 1225,\r\n        top: 100,\r\n        scaleX: 0.3,\r\n        scaleY: 0.3,\r\n        angle: 225,\r\n        fill: \"red\",\r\n        stroke: 'white',\r\n        objectCaching: false,\r\n        strokeWidth: 1,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(element1).setActiveObject(element1);\r\n    canvas.requestRenderAll();\r\n    element1.animate('left', 450, { onChange: canvas.renderAll.bind(canvas) })\r\n}\r\n\r\nexport const createCircle = (canvas) => {\r\n    const circle = new fabric.Circle({\r\n        shadow: shadowOptions,\r\n        top: 160,\r\n        left: -100,\r\n        radius: 50,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(circle).setActiveObject(circle);;\r\n    canvas.requestRenderAll();\r\n    circle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\n\r\nexport const createTriangle = (canvas) => {\r\n    canvas.isDrawingMode = false;\r\n    const triangle = new fabric.Triangle({\r\n        shadow: shadowOptions,\r\n        top: 50,\r\n        left: -100,\r\n        width: 100,\r\n        height: 100,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(triangle).setActiveObject(triangle);;\r\n    canvas.requestRenderAll();\r\n    triangle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\nexport const alignLeft = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'left' };\r\nexport const alignRight = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'right' };\r\nexport const alignCenter = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'center' };\r\n\r\nexport const textUnderline = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().underline = !canvas.getActiveObject().underline };\r\nexport const textLineThrough = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().linethrough = !canvas.getActiveObject().linethrough };\r\nexport const textItalic = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontStyle = 'italic' };\r\nexport const txtBold = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontWeight = 'bold' };\r\nexport const textNormal = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontWeight = 'normal' };\r\n\r\nexport const removeBg = canvas => {\r\n    const aa = canvas.getActiveObjects();\r\n    aa.forEach(element => { element.set('backgroundColor', '') });\r\n};\r\n\r\nexport const removeFill = canvas => {\r\n    const aa = canvas.getActiveObjects();\r\n    aa.forEach(element => { element.set('fill', '') });\r\n};\r\nexport const removeStroke = canvas => {\r\n    const aa = canvas.getActiveObjects();\r\n    aa.forEach(element => { element.set('strokeWidth', 0) });\r\n};\r\nexport const removeShadow = canvas => {\r\n    const aa = canvas.getActiveObjects();\r\n    aa.forEach(element => { element.set('shadow', { ...shadowOptions, blur: 0 }) });\r\n};\r\n\r\n\r\n\r\nexport const deleteSelectedItem = canvas => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.renderAll();\r\n}\r\n\r\nexport const swapFaceandStrokeColors = canvas => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => {\r\n        var oldFill = element.fill;\r\n        var oldStroke = element.stroke;\r\n        element.fill = oldStroke;\r\n        element.stroke = oldFill;\r\n    });\r\n    canvas.requestRenderAll();\r\n}\r\nexport const deleteAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.renderAll();\r\n}\r\n\r\nexport const bringToFront = canvas => canvas.bringToFront(canvas.getActiveObject())\r\nexport const sendToBack = canvas => canvas.sendToBack(canvas.getActiveObject())\r\nexport const undo = canvas => canvas.undo()\r\nexport const redo = canvas => canvas.redo()\r\n\r\nexport const setOpacity = (canvas, val = 0.5) => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => element.set({ 'opacity': val }));\r\n}\r\n\r\nexport const lock = canvas => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => element.selectable = false);\r\n}\r\n\r\n\r\nexport const unlockAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => element.selectable = true);\r\n}\r\n\r\nconst ErasedGroup = fabric.util.createClass(fabric.Group, {\r\n    original: null,\r\n    ErasedPath: null,\r\n    initialize: function (original, ErasedPath, options, isAlreadyGrouped) {\r\n        this.original = original;\r\n        this.ErasedPath = ErasedPath;\r\n        this.callSuper('initialize', [this.original, this.ErasedPath], options, isAlreadyGrouped);\r\n    },\r\n\r\n    _calcBounds: function (onlyWidthHeight) {\r\n        const aX = [],\r\n            aY = [],\r\n            props = ['tr', 'br', 'bl', 'tl'],\r\n            jLen = props.length,\r\n            ignoreZoom = true;\r\n\r\n        let o = this.original;\r\n        o.setCoords(ignoreZoom);\r\n        for (let j = 0; j < jLen; j++) {\r\n            var prop = props[j];\r\n            aX.push(o.oCoords[prop].x);\r\n            aY.push(o.oCoords[prop].y);\r\n        }\r\n\r\n        this._getBounds(aX, aY, onlyWidthHeight);\r\n    },\r\n});\r\nconst EraserBrush = fabric.util.createClass(fabric.PencilBrush, {\r\n\r\n    /**\r\n     * On mouseup after drawing the path on contextTop canvas\r\n     * we use the points captured to create an new fabric path object\r\n     * and add it to the fabric canvas.\r\n     */\r\n    _finalizeAndAddPath: function () {\r\n        var ctx = this.canvas.contextTop;\r\n        ctx.closePath();\r\n        if (this.decimate) {\r\n            this._points = this.decimatePoints(this._points, this.decimate);\r\n        }\r\n        var pathData = this.convertPointsToSVGPath(this._points).join('');\r\n        if (pathData === 'M 0 0 Q 0 0 0 0 L 0 0') {\r\n            // do not create 0 width/height paths, as they are\r\n            // rendered inconsistently across browsers\r\n            // Firefox 4, for example, renders a dot,\r\n            // whereas Chrome 10 renders nothing\r\n            this.canvas.requestRenderAll();\r\n            return;\r\n        }\r\n\r\n        // use globalCompositeOperation to 'fake' Eraser\r\n        var path = this.createPath(pathData);\r\n        path.globalCompositeOperation = 'destination-out';\r\n        path.selectable = false;\r\n        path.evented = false;\r\n        path.absolutePositioned = true;\r\n\r\n        // grab all the objects that intersects with the path\r\n        const objects = this.canvas.getObjects().filter((obj) => {\r\n            // if (obj instanceof fabric.Textbox) return false;\r\n            // if (obj instanceof fabric.IText) return false;\r\n            if ((obj instanceof fabric.Rect) && (obj.id === 'rectwithimg')) { return false }\r\n            if (!obj.intersectsWithObject(path)) return false;\r\n            return true;\r\n        });\r\n\r\n        if (objects.length > 0) {\r\n            // merge those objects into a group\r\n            const mergedGroup = new fabric.Group(objects);\r\n            const newPath = new ErasedGroup(mergedGroup, path);\r\n            const left = newPath.left;\r\n            const top = newPath.top;\r\n            // convert it into a dataURL, then back to a fabric image\r\n            const newData = newPath.toDataURL({\r\n                withoutTransform: true\r\n            });\r\n            fabric.Image.fromURL(newData, (fabricImage) => {\r\n                fabricImage.set({\r\n                    left: left,\r\n                    top: top,\r\n                    shadow: { ...shadowOptions, blur: 0 },\r\n                });\r\n                // remove the old objects then add the new image\r\n                this.canvas.remove(...objects);\r\n                this.canvas.add(fabricImage);\r\n            });\r\n        }\r\n\r\n        this.canvas.clearContext(this.canvas.contextTop);\r\n        this.canvas.renderAll();\r\n        this._resetShadow();\r\n    },\r\n});\r\n\r\nconst changeCurrentColor = (e) => {\r\n    options.currentColor = e.target.value;\r\n    window.editor.canvas.freeDrawingBrush.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fill = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n};\r\n\r\nconst changeBackGroundColor = (e) => {\r\n    options.backgroundColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.backgroundColor = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeStrokeCurrentColor = e => {\r\n    options.stroke = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.stroke = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeShadowCurrentColor = e => {\r\n    shadowOptions.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => {if (item.shadow){item.shadow.color = e.target.value}})\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onBlurSizeChange = e => {\r\n    shadowOptions.blur = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => {if (item.shadow){item.shadow.blur = e.target.value}})\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onoffsetXChange = e => {\r\n    shadowOptions.offsetX = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => {if (item.shadow){item.shadow.offsetX = e.target.value}})\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst onoffsetYChange = e => {\r\n    shadowOptions.offsetY = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => {if (item.shadow){item.shadow.offsetY = e.target.value}})\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst affectStroke = e => {\r\n    shadowOptions.affectStroke = e.target.checked;\r\n    window.editor.canvas.getActiveObjects().forEach(item => {if (item.shadow){item.shadow.affectStroke = e.target.checked}})\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onstrokeSizeChange = e => {\r\n    options.strokeWidth = parseInt(e.target.value);\r\n    window.editor.canvas.freeDrawingBrush.width = parseInt(e.target.value);\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.strokeWidth = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewXSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewX = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewYSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewY = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRxSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.rx = parseInt(e.target.value)\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRySizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.ry = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst putat00 = (canvas) => {\r\n    // canvas.setZoom(1)\r\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n    selectAll(canvas);\r\n    canvas.getActiveObject()?.set({ left: 0, top: 0 });\r\n}\r\nconst alignAllLeft = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllTop = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllRight = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left + (item.width * item.scaleX))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = max - (item.width * item.scaleX);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst alignAllButtom = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top + (item.height * item.scaleY))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = max - (item.height * item.scaleY);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSizeChange = (e) => {\r\n    options.currentFontSize = e.target.value\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fontSize = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nexport const groupObjects = (canvas, shouldGroup) => {\r\n    if (shouldGroup) {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'activeSelection') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toGroup().set({ shadow: shadowOptions });\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n    else {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'group') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toActiveSelection();\r\n        const aa = canvas.getObjects();\r\n        aa.forEach(element => element.set({ objectCaching: false, shadow: shadowOptions }));\r\n        canvas.requestRenderAll();\r\n    }\r\n};\r\n\r\nexport const savetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n\r\n    endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    }, 100);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 1000);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 1100);\r\n}\r\n\r\nexport const savetoCasparcgStoreClock = () => {\r\n    var dd = window.editor.canvas.toJSON()\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-120 store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-120 ReadToCasparcgfromStore()`)\r\n    }, 680);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 700);\r\n}\r\n\r\n\r\nexport const updatetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 200);\r\n\r\n}\r\n// const removeFromCaspar = (layerNumber) => {\r\n//     endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n// }\r\n\r\nconst changeText = (key, val) => {\r\n    window.editor.canvas.getObjects().forEach((element) => {\r\n        if (element.id === key) {\r\n            element.set({ text: val.toString() })\r\n            window.editor.canvas.requestRenderAll();\r\n        }\r\n    })\r\n    endpoint(`call ${window.chNumber}-109 \"window.editor.canvas.getObjects().forEach((element)=>{if(element.id==='${key}'){element.set({text:'${val}'});window.editor.canvas.requestRenderAll();}})\"`)\r\n\r\n}\r\n\r\nvar _clipboard;\r\nexport const copy = () => {\r\n    window.editor.canvas.getActiveObject()?.clone(cloned => {\r\n        _clipboard = cloned;\r\n    }, ['id']);\r\n}\r\n\r\nexport const selectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    var sel = new fabric.ActiveSelection(canvas.getObjects(), {\r\n        canvas: canvas,\r\n    });\r\n    canvas.setActiveObject(sel);\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const paste = () => {\r\n    _clipboard?.clone(clonedObj => {\r\n        window.editor.canvas.discardActiveObject();\r\n        clonedObj.set({\r\n            left: clonedObj.left + 10,\r\n            top: clonedObj.top + 10,\r\n            evented: true,\r\n            objectCaching: false,\r\n\r\n        });\r\n        if (clonedObj.type === 'activeSelection') {\r\n            // active selection needs a reference to the canvas.\r\n            clonedObj.canvas = window.editor.canvas;\r\n            clonedObj.forEachObject(obj => {\r\n                window.editor.canvas.add(obj);\r\n            });\r\n            // this should solve the unselectability\r\n            clonedObj.setCoords();\r\n        } else {\r\n            window.editor.canvas.add(clonedObj);\r\n        }\r\n        _clipboard.top += 10;\r\n        _clipboard.left += 10;\r\n        window.editor.canvas.setActiveObject(clonedObj);\r\n        window.editor.canvas.requestRenderAll();\r\n    }, ['id']);\r\n}\r\n\r\nconst DrawingController = ({ chNumber }) => {\r\n    const [fontList, setFontList] = useState(['Helvetica',\r\n        'Calibri',\r\n        'Futura',\r\n        'Garamond',\r\n        'Times New Roman',\r\n        'Arial',\r\n        'Cambria',\r\n        'Verdana',\r\n        'Rockwell',\r\n        'Franklin Gothic',\r\n        'ARVO',\r\n        'Gigi'\r\n    ])\r\n    const [currentFont, setCurrentFont] = useState('Arial')\r\n    const [canvaslist, setCanvaslist] = useState([])\r\n    const [currentPage, setCurentPage] = useState()\r\n    const [currentscreenSize, setCurrentscreenSize] = useState(1024)\r\n    const [f0, setF0] = useState('Ganesh Tiwari');\r\n    const [f1, setF1] = useState('Suresh Malhotra');\r\n    const [f2, setF2] = useState('Mahesh prasad');\r\n    const [onlineImageUrl, setOnlineImageUrl] = useState('https://fixthephoto.com/images/content/shirt-fabric-texture-471614080378.jpg')\r\n    const [verticalSpeed, setVerticalSpeed] = useState(0.3)\r\n    const [horizontalSpeed, setHorizontalSpeed] = useState(0.3)\r\n    const [solidcaption1, setSolidcaption1] = useState('');\r\n    const [solidcaption2, setSolidcaption2] = useState('');\r\n    const [logo, setLogo] = useState('');\r\n    const [locationBand, setLocationBand] = useState('');\r\n\r\n    const [verticalScroll, setVerticalScroll] = useState('');\r\n    const [horizontalScroll, setHorizontalScroll] = useState('');\r\n    const [clock, setClock] = useState('');\r\n    const [upTimer, setUpTimer] = useState('');\r\n    const modes = ['Pencil', 'Spray', 'Erase'];\r\n\r\n    const [currentMode, setCurrentMode] = useState('');\r\n    // window.currentMode = currentMode;\r\n\r\n    const onDrawingModeChange = (mode, canvas) => {\r\n        setCurrentMode(mode);\r\n        canvas.isDrawingMode = true;\r\n\r\n        if (mode === 'Pencil') {\r\n            canvas.freeDrawingBrush = new fabric.PencilBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.currentColor;\r\n            canvas.freeDrawingBrush.width = 10;// options.strokeWidth;\r\n        }\r\n        else if (mode === 'Spray') {\r\n            canvas.freeDrawingBrush = new fabric.SprayBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.currentColor;\r\n            canvas.freeDrawingBrush.width = 10;// options.strokeWidth;\r\n        }\r\n\r\n        else if (mode === 'Erase') {\r\n            canvas.freeDrawingBrush = new EraserBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.currentColor;\r\n            canvas.freeDrawingBrush.color = 'white';\r\n            canvas.freeDrawingBrush.width = 10;// options.strokeWidth;\r\n        }\r\n    }\r\n    window.onDrawingModeChange = onDrawingModeChange;\r\n    const toggleModeDrawing = (canvas) => {\r\n        canvas.isDrawingMode = false;\r\n        setCurrentMode('');\r\n    }\r\n    window.toggleModeDrawing = toggleModeDrawing;\r\n\r\n    const id = 'f0';\r\n\r\n    const onFontChange = (e) => {\r\n        options.currentFont = e.target.value;\r\n        setCurrentFont(e.target.value);\r\n        window.editor.canvas.getActiveObjects().forEach(item => item.fontFamily = e.target.value)\r\n        window.editor.canvas.requestRenderAll();\r\n    }\r\n\r\n\r\n    const onDragEnd = (result) => {\r\n        const aa = [...canvaslist]\r\n        if (result.destination != null) {\r\n            aa.splice(result.destination?.index, 0, aa.splice(result.source?.index, 1)[0])\r\n            setCanvaslist(aa)\r\n            if (currentPage === result.source?.index) {\r\n                setCurentPage(result.destination?.index)\r\n            }\r\n            else if ((currentPage >= result.destination?.index) && (currentPage < result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage + 1)\r\n            }\r\n            else if ((currentPage <= result.destination?.index) && (currentPage > result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage - 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    const drawingFileSave = () => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = ''\r\n        canvaslist.forEach(val => {\r\n            aa += JSON.stringify({ 'pageName': val.pageName, 'pageValue': val.pageValue }) + '\\r\\n'\r\n        });\r\n        const file = new Blob([aa], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const drawingFileNew = () => {\r\n        setCanvaslist([]);\r\n    }\r\n\r\n    let fileReader;\r\n    const handleFileRead = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = []\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n\r\n    const handleFileChosen = (file) => {\r\n        if (file) {\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead;\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n\r\n    const onVerticalSpeedChange = (e) => {\r\n        setVerticalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-110 \"speed=${e.target.value}\"`);\r\n    }\r\n    const onHorizontalSpeedChange = (e) => {\r\n        setHorizontalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-111 \"speed=${e.target.value}\"`);\r\n    }\r\n    const exportSVG = canvas => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = canvas.toSVG()\r\n        const file = new Blob([aa], { type: 'text/xml' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const importSVG = file => {\r\n        if (file) {\r\n            var site_url = URL.createObjectURL(file);\r\n            fabric.loadSVGFromURL(site_url, function (objects) {\r\n                objects?.forEach(element => {\r\n                    window.editor.canvas.add(element);\r\n                    element.objectCaching = false;\r\n                    element.shadow = shadowOptions;\r\n                });\r\n            });\r\n            window.editor.canvas.renderAll();\r\n        }\r\n    }\r\n\r\n    const exportHTML1 = canvas => {\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            var aa = `<!DOCTYPE html>\r\n                <html lang=\"en\">\r\n                <head>\r\n                    <meta charset=\"UTF-8\">\r\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                    <title>Document</title>\r\n                </head>\r\n                <body>\r\n                <div> ${canvas.toSVG()}  </div>\r\n                 </body>\r\n                 <script>\r\n                document.body.style.margin='0';\r\n                document.body.style.padding='0';\r\n                document.body.style.overflow='hidden';\r\n                var aa = document.getElementsByTagName('div')[0];\r\n                aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n                </script>\r\n                </html>`\r\n            const file = new Blob([aa], { type: 'text/html' });\r\n            saveAs(file, retVal + '.html')\r\n        }\r\n    }\r\n\r\n    const exportVerticalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n          setInterval(function(){\r\n              aa.style.top =(aa.getBoundingClientRect().top-speed)+'px';\r\n             }, 1);\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportHorizontalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.left='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${horizontalSpeed};\r\n          setInterval(function(){\r\n              aa.style.left =(aa.getBoundingClientRect().left-speed)+'px';\r\n              if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n             }, 1);\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportClockAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            setInterval(function() {\r\n                var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n             cc.textContent  =ss1;\r\n              }, 1000);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportUpTimerAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n\r\n\r\n    const startVerticalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        endpoint(`play ${window.chNumber}-110 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-110 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n       setInterval(function() {\r\n         aa.style.top =aa.getBoundingClientRect().top-speed;\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startHorizontalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width + 100;\r\n        endpoint(`play ${window.chNumber}-111 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-111 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.left='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var speed=${horizontalSpeed};\r\n        setInterval(function() {\r\n         aa.style.left =aa.getBoundingClientRect().left-speed;\r\n         if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startClock = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n\r\n        endpoint(`play ${window.chNumber}-112 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-112 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        setInterval(function() {\r\n            var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n         cc.textContent  =ss1;\r\n          }, 1000);\r\n        \"`)\r\n    }\r\n    const startUpTimer = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        endpoint(`play ${window.chNumber}-115 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-115 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n        \"`)\r\n    }\r\n\r\n    const startGraphics = (canvas, layerNumber) => {\r\n\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        // selectAll(canvas);\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 6 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`play ${window.chNumber}-${layerNumber} [HTML] xyz.html`);\r\n        }, 250);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            var aa = document.createElement('div');\r\n            aa.style.position='absolute';\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            document.body.appendChild(aa);\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            document.body.style.overflow='hidden';\r\n            \"`)\r\n        }, 300);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 10 ${window.animationMethod}`)\r\n        }, 800);\r\n\r\n    }\r\n    const updateGraphics = (canvas, layerNumber) => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            \"`)\r\n    }\r\n    const stopGraphics = layerNumber => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`stop ${window.chNumber}-${layerNumber}`)\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    // eslint-disable-next-line\r\n    const canvasToJson = (canvas) => {\r\n        dispatch({ type: 'CHANGE_CANVAS1', payload: (JSON.stringify(canvas.toJSON(['id']))) })\r\n    };\r\n\r\n    const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n    // eslint-disable-next-line\r\n    const canvasFromJson = (canvas) => {\r\n        var state2 = state1.replace(new RegExp('asdfgh', \"g\"), ' ')\r\n        const data = JSON.parse(state2);\r\n        canvas.loadFromJSON(data);\r\n        canvas.requestRenderAll();\r\n    };\r\n    const recallPage = (json, canvas, i) => {\r\n        setCurentPage(i)\r\n        canvas.loadFromJSON(json, function () {\r\n            const aa = canvas.getObjects();\r\n            aa.forEach(element => element.set({ objectCaching: false }));\r\n            canvas.renderAll();\r\n        });\r\n    }\r\n    const updatePage = (canvas) => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === currentPage) ? { 'pageName': val.pageName, 'pageValue': canvas.toJSON(['id']) } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const updatePageName = e => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === parseInt(e.target.getAttribute('key1'))) ? { 'pageName': e.target.innerText, 'pageValue': val.pageValue } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const onDoubleClickPageName = (event) => {\r\n        event.preventDefault();\r\n        var sel = window.getSelection();\r\n        var range = document.createRange();\r\n        range.selectNodeContents(event.target);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n    const deletePage = e => {\r\n        if (currentPage > e.target.getAttribute('key1')) {\r\n            setCurentPage(currentPage => currentPage - 1)\r\n        }\r\n        else if (currentPage === parseInt(e.target.getAttribute('key1'))) {\r\n            setCurentPage(null)\r\n        }\r\n        const updatedCanvasList = canvaslist.filter((_, i) => {\r\n            return (parseInt(e.target.getAttribute('key1')) !== i)\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    useEffect(() => {\r\n        axios.post('http://localhost:8080/getfonts').then((aa) => {\r\n            setFontList(aa.data)\r\n        }).catch((aa) => { console.log('Error', aa) });\r\n        return () => {\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', e => {\r\n            // console.log(e.key);\r\n            if (e.repeat) {\r\n                return;\r\n            }\r\n            if (e.key === 'Delete') {\r\n\r\n                window.editor.canvas.getActiveObjects().forEach(item => {\r\n                    //  alert(item.type);\r\n                    if (!((item.type === 'textbox') && item.isEditing)) { window.editor.canvas.remove(item); }\r\n                });\r\n            }\r\n            if (e.ctrlKey && e.key === 'c') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { copy() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'v') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { paste() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'z') {\r\n                window.editor.canvas.undo();\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            window.removeEventListener('keydown', null)\r\n        }\r\n    }, [])\r\n\r\n    return (<div style={{ display: 'flex' }}>\r\n        <div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Screen Setup: </b>\r\n                Casparcg Screen Sizes  <select value={currentscreenSize} onChange={e => setCurrentscreenSize(e.target.value)}>  {screenSizes.map((val) => { return <option key={val} value={val}>{val}</option> })} </select>\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Solid Caption 1: </b>\r\n\r\n                <button onClick={() => {\r\n                    startGraphics(window.editor.canvas, 108);\r\n                    setSolidcaption1(canvaslist[currentPage]?.pageName);\r\n                }\r\n                }>Play <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updateGraphics(window.editor.canvas, 108)}>Update</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    stopGraphics(108);\r\n                    setSolidcaption1('');\r\n\r\n                }}>Stop</button>\r\n                <span> {solidcaption1} </span>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Solid Caption 2: </b>\r\n                <button onClick={() => {\r\n                    startGraphics(window.editor.canvas, 109);\r\n                    setSolidcaption2(canvaslist[currentPage]?.pageName);\r\n                }\r\n                }>Play <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>  <button onClick={() => updateGraphics(window.editor.canvas, 109)}>Update</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    stopGraphics(109);\r\n                    setSolidcaption2('');\r\n                }}>Stop</button>\r\n                <span> {solidcaption2} </span>\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Logo: </b>\r\n\r\n                <button onClick={() => {\r\n                    startGraphics(window.editor.canvas, 215);\r\n                    setLogo(canvaslist[currentPage]?.pageName);\r\n                }\r\n                }>Play <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updateGraphics(window.editor.canvas, 215)}>Update</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    stopGraphics(215);\r\n                    setLogo('');\r\n                }}>Stop</button>\r\n                <span> {logo} </span>\r\n\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Location Band: </b>\r\n                <button onClick={() => {\r\n                    startGraphics(window.editor.canvas, 210);\r\n                    setLocationBand(canvaslist[currentPage]?.pageName);\r\n                }\r\n                }>Play <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updateGraphics(window.editor.canvas, 210)}>Update</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    stopGraphics(210);\r\n                    setLocationBand('');\r\n                }}>Stop</button>\r\n                <span> {locationBand} </span>\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Vertical  Scroll: </b>  <button onClick={() => {\r\n                    startVerticalScroll(window.editor?.canvas);\r\n                    setVerticalScroll(canvaslist[currentPage]?.pageName)\r\n                }}>Start </button>\r\n                Speed:<input style={{ width: '50px' }} onChange={e => onVerticalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=0\"`)}>Pause</button>\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=${verticalSpeed}\"`)}>Resume</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    endpoint(`stop ${window.chNumber}-110`);\r\n                    setVerticalScroll('')\r\n                }}>Stop</button>\r\n                <button onClick={() => exportVerticalScrollAsHTML(window.editor.canvas)}>Export HTML</button>\r\n                <span> {verticalScroll} </span>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Horizntl Scroll: </b>\r\n                <button onClick={() => {\r\n                    startHorizontalScroll(window.editor?.canvas);\r\n                    setHorizontalScroll(canvaslist[currentPage]?.pageName);\r\n                }}>Start</button>\r\n                Speed:<input style={{ width: '50px' }} onChange={e => onHorizontalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=0\"`)}>Pause</button>\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=${horizontalSpeed}\"`)}>Resume</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    endpoint(`stop ${window.chNumber}-111`);\r\n                    setHorizontalScroll('');\r\n                }}>Stop</button>\r\n                <button onClick={() => exportHorizontalScrollAsHTML(window.editor.canvas)}>Export HTML</button>\r\n                <span> {horizontalScroll} </span>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b>Clock: </b>\r\n                <button onClick={() => addClock(window.editor.canvas)}>Add to Preview</button>\r\n                <button onClick={() => {\r\n                    startClock(window.editor.canvas);\r\n                    setClock(canvaslist[currentPage]?.pageName);\r\n                }}>Show On Casparcg</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    endpoint(`stop ${window.chNumber}-112`);\r\n                    setClock('');\r\n                }}>Stop</button>\r\n                <button onClick={() => exportClockAsHTML(window.editor.canvas)}>Export HTML</button>\r\n                <span> {clock} </span>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b>Count Up Timer: </b>\r\n                <button onClick={() => addUpTimer(window.editor.canvas)}>Add to Preview</button>\r\n                <button onClick={() => {\r\n                    startUpTimer(window.editor.canvas);\r\n                    setUpTimer(canvaslist[currentPage]?.pageName);\r\n                }}>Show On Casparcg</button>\r\n                <button className='stopButton' onClick={() => {\r\n                    endpoint(`stop ${window.chNumber}-115`);\r\n                    setUpTimer('');\r\n                }}>Stop</button>\r\n                <button onClick={() => exportUpTimerAsHTML(window.editor.canvas)}>Export HTML</button>\r\n                <span> {upTimer} </span>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Drawing Tools: </b>\r\n                <button onClick={() => createRect(window.editor.canvas)}> <VscPrimitiveSquare /></button>\r\n                <button onClick={() => createText(window.editor.canvas)}>T</button>\r\n                <button onClick={() => createCircle(window.editor?.canvas)}>  <VscCircleFilled /></button>\r\n                <button onClick={() => createTriangle(window.editor.canvas)}><VscTriangleUp /></button>\r\n                <button onClick={() => createEllipse(window.editor.canvas)}>Ellipse</button>\r\n                <button onClick={() => createLine(window.editor.canvas)}>Line</button>\r\n                <button onClick={() => createHeart(window.editor.canvas)}>Heart</button>\r\n                <button onClick={() => createArrow(window.editor.canvas)}>Arrow</button>\r\n\r\n\r\n\r\n\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Free Drwing: </b>\r\n                <button onClick={() => toggleModeDrawing(window.editor.canvas)}>{window.editor?.canvas.isDrawingMode ? 'ON ' : 'Off '}<VscEdit /></button>\r\n                {modes.map((val, i) => {\r\n                    return (<>\r\n                        <input checked={currentMode === val}\r\n                            onChange={(e) => onDrawingModeChange(e.target.value, window.editor.canvas)} type=\"radio\" name='DrawingModes' value={val} id={val} key={uuidv4()} /> <label key={uuidv4()} htmlFor={val}>{val}</label>\r\n                    </>)\r\n                })}\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Colors: </b>\r\n                Fill <input type=\"color\" defaultValue='#ffffff' onChange={e => changeCurrentColor(e)} />\r\n                BG <input type=\"color\" defaultValue='#50037c' onChange={e => changeBackGroundColor(e)} />\r\n                Stroke<input type=\"color\" defaultValue='#ffffff' onChange={e => changeStrokeCurrentColor(e)} />\r\n                Stroke/Brush width:<input style={{ width: '50px' }} onChange={e => onstrokeSizeChange(e)} type=\"number\" id='strokeSizeOSD' min='0' max='100' step='1' defaultValue='3' />\r\n                <button onClick={() => swapFaceandStrokeColors(window.editor.canvas)}>Swap Face and Stroke Colors</button>\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b> Shadow: </b>\r\n                <input type=\"color\" defaultValue='#000000' onChange={e => changeShadowCurrentColor(e)} />\r\n                Blur: <input style={{ width: '50px' }} onChange={e => onBlurSizeChange(e)} type=\"number\" min='0' max='100' step='1' defaultValue='30' />\r\n                offsetX: <input style={{ width: '50px' }} onChange={e => onoffsetXChange(e)} type=\"number\" min='-5000' max='5000' step='1' defaultValue='0' />\r\n                offsetY: <input style={{ width: '50px' }} onChange={e => onoffsetYChange(e)} type=\"number\" min='-5000' max='5000' step='1' defaultValue='0' />\r\n                affectStroke:  <input type=\"checkbox\" onChange={(e) => affectStroke(e)} />\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Skew: </b>\r\n                SkewX:<input style={{ width: '50px' }} onChange={e => onSkewXSizeChange(e)} type=\"number\" id='skewX' min='-360' max='360' step='1' defaultValue='0' />\r\n                SkewY:<input style={{ width: '50px' }} onChange={e => onSkewYSizeChange(e)} type=\"number\" id='skewY' min='-360' max='360' step='1' defaultValue='0' />\r\n                RX: <input style={{ width: '50px' }} onChange={e => onRxSizeChange(e)} type=\"number\" id='RX' min='-360' max='360' step='1' defaultValue='30' />\r\n                RY: <input style={{ width: '50px' }} onChange={e => onRySizeChange(e)} type=\"number\" id='RY' min='-360' max='360' step='1' defaultValue='30' />\r\n\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <b>Zoom and Pan: </b>\r\n                <button onClick={() => window.editor.canvas.setZoom(1)}>Reset Zomm of Screen</button>\r\n                <button onClick={() => window.editor.canvas.setViewportTransform([window.editor.canvas.getZoom(), 0, 0, window.editor.canvas.getZoom(), 0, 0])}>Reset Pan of Screen</button>\r\n                <button onClick={() => putat00(window.editor.canvas)}>Select All and Put at 0 0</button>\r\n\r\n            </div>\r\n            <div className='drawingToolsRow' >\r\n                <button onClick={() => alignAllLeft()}><FaAlignLeft /></button>\r\n                <button onClick={() => alignAllRight()}><FaAlignRight /></button>\r\n                <button onClick={() => alignAllTop()}><AiOutlineVerticalAlignTop /> <AiOutlineVerticalAlignTop /> </button>\r\n                <button onClick={() => alignAllButtom()}><AiOutlineVerticalAlignBottom /><AiOutlineVerticalAlignBottom /></button>\r\n                <button onClick={() => deleteSelectedItem(window.editor.canvas)}><VscTrash /> Selected</button>\r\n                <button onClick={() => deleteAll(window.editor.canvas)}><VscTrash /> All</button>\r\n                <button onClick={() => lock(window.editor.canvas)}><VscLock /></button>\r\n                <button onClick={() => unlockAll(window.editor.canvas)}><VscUnlock /> All</button>\r\n                <button onClick={() => undo(window.editor.canvas)}><AiOutlineUndo /> Undo</button>\r\n                <button onClick={() => redo(window.editor.canvas)}><AiOutlineRedo /> Redo</button>\r\n                <button onClick={() => copy(window.editor.canvas)}> Copy</button>\r\n                <button onClick={() => paste(window.editor.canvas)}> Paste</button>\r\n                <button onClick={() => selectAll(window.editor.canvas)}> Select All</button>\r\n            </div>\r\n\r\n            <div className='drawingToolsRow' >\r\n                <b> Font: </b>\r\n                Name:  <select onChange={e => onFontChange(e)} value={currentFont}>\r\n                    {fontList.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                </select>\r\n                Size<input style={{ width: '35px' }} onChange={e => onSizeChange(e)} type=\"number\" id='fontSizeOSD' min='0' max='100' step='2' defaultValue='25' />\r\n            </div>\r\n            <div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from URL: </b>\r\n                    <input onChange={(e) => setOnlineImageUrl(e.target.value)} size=\"65\" type='text' defaultValue={onlineImageUrl}></input>\r\n                    <button onClick={() => addRoundedCornerImage(window.editor.canvas, onlineImageUrl)}>Add</button>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from Local PC: </b>\r\n                    <input type=\"file\" accept=\"image/*\" onChange={e => Upload(e)} />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Export Import SVG: </b>\r\n                    <button onClick={() => exportSVG(window.editor.canvas)}>Export SVG</button>\r\n                    <span>Import SVG</span> <input type='file' className='input-file' accept='.xml,.svg' onChange={e => importSVG(e.target.files[0])} />\r\n                    <button onClick={() => exportHTML1(window.editor.canvas)}>Export HTML</button>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Save: </b>\r\n                    <button onClick={() => drawingFileNew(window.editor.canvas)}>File New <FiFile /></button>\r\n                    <button onClick={() => drawingFileSave(window.editor.canvas)}>File Save <FaSave /></button>\r\n\r\n                    <span>Open File:</span>  <input\r\n                        type='file'\r\n                        id='file'\r\n                        className='input-file'\r\n                        accept='.txt'\r\n                        onChange={e => handleFileChosen(e.target.files[0])}\r\n                    />\r\n                    <button onClick={() => {\r\n                        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                        var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                        if (retVal !== null) {\r\n                            setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n                            setCurentPage(canvaslist.length)\r\n                        }\r\n                    }}\r\n\r\n                    ><FaSave /> in New Page</button>\r\n                    <button onClick={() => updatePage(window.editor?.canvas)}>Update Page</button>\r\n                </div>\r\n                <div style={{ height: 200, width: 380, overflow: 'scroll', border: '1px solid black' }}>\r\n\r\n                    <DragDropContext onDragEnd={onDragEnd}>\r\n                        <Droppable droppableId=\"droppable-1\" type=\"PERSON\">\r\n                            {(provided, snapshot) => (\r\n                                <div\r\n                                    ref={provided.innerRef}\r\n                                    style={{ backgroundColor: snapshot.isDraggingOver ? 'yellow' : 'yellowgreen' }}\r\n                                    {...provided.droppableProps}\r\n                                >\r\n                                    <table border='1'>\r\n                                        <tbody>\r\n                                            {canvaslist.map((val, i) => {\r\n                                                return (\r\n                                                    <Draggable draggableId={\"draggable\" + i} key={val + i} index={i}>\r\n                                                        {(provided, snapshot) => (\r\n                                                            <tr ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                style={{\r\n                                                                    ...provided.draggableProps.style,\r\n                                                                    backgroundColor: snapshot.isDragging ? 'red' : 'white',\r\n                                                                    boxShadow: snapshot.isDragging ? \"0 0 .4rem #666\" : \"none\",\r\n                                                                    // margin: '10px'\r\n                                                                }}\r\n                                                            >\r\n                                                                <td {...provided.dragHandleProps}><VscMove /></td><td style={{ minWidth: '300px', backgroundColor: currentPage === i ? 'green' : 'white', color: currentPage === i ? 'white' : 'black' }} onClick={(e) => {\r\n                                                                    recallPage(val.pageValue, window.editor.canvas, i);\r\n                                                                }} key1={i} key2={'vimlesh'} onDoubleClick={onDoubleClickPageName} suppressContentEditableWarning={true} contentEditable onMouseOut={updatePageName}>{val.pageName}</td><td><button key1={i} onClick={(e) => deletePage(e)}>  <VscTrash style={{ pointerEvents: 'none' }} /></button ></td>\r\n                                                            </tr>\r\n                                                        )}\r\n                                                    </Draggable>\r\n                                                )\r\n                                            })}\r\n                                        </tbody>\r\n                                    </table>\r\n                                    {provided.placeholder}\r\n                                </div>\r\n                            )}\r\n                        </Droppable>\r\n                    </DragDropContext>\r\n                </div>\r\n\r\n\r\n                <div style={{ display: 'none' }}>\r\n                    <input type='text' size=\"10\" onChange={(e) => setF0(e.target.value)} value={f0}></input>   <button onClick={() => changeText(id, f0)}>Update {id} value</button> <br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF1(e.target.value)} value={f1}></input>   <button onClick={() => changeText(id, f1)}>Update {id} value</button><br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF2(e.target.value)} value={f2}></input>   <button onClick={() => changeText(id, f2)}>Update {id} value</button><br />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div >)\r\n}\r\n\r\nexport default DrawingController\r\n","import useContextMenu from './useContextMenu'\r\nimport {removeShadow, removeFill,removeStroke, createText, createRect, createCircle, createTriangle, deleteSelectedItem, deleteAll, bringToFront, sendToBack, undo, redo, lock, unlockAll, groupObjects, copy, paste, alignLeft, alignRight, alignCenter, textUnderline, textLineThrough, textItalic, txtBold, textNormal, removeBg, setGradientColor, setOpacity } from './DrawingController'\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscTrash, VscLock, VscUnlock } from \"react-icons/vsc\";\r\nimport { AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\n\r\nconst ContextMenu = ({ editor }) => {\r\n  const { xPos, yPos, showMenu } = useContextMenu();\r\n  window.showMenu=showMenu;\r\n  return (<div>\r\n    {showMenu ? (<div className='rightClickMenu' style={{ position: 'absolute', left: xPos, top: yPos, color: 'white' }}>\r\n      <ul  >\r\n        <li onClick={() => deleteSelectedItem(editor.canvas)}>Delete Selected <VscTrash />\r\n          <ul>\r\n            <li onClick={() => deleteAll(editor.canvas)}>Delete All</li>\r\n          </ul>\r\n        </li>\r\n        <li>setOpacity\r\n          <ul>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.1)}>0.1</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.2)}>0.2</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.3)}>0.3</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.4)}>0.4</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.5)}>0.5</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.6)}>0.6</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.7)}>0.7</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.8)}>0.8</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.9)}>0.9</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 1.0)}>1.0</li>\r\n\r\n          </ul>\r\n        </li>\r\n        <li onClick={() => bringToFront(editor.canvas)}>Bring To Front</li>\r\n        <li onClick={() => sendToBack(editor.canvas)}>Send To Back</li>\r\n        <li onClick={() => lock(editor.canvas)}>Lock <VscLock /></li>\r\n        <li onClick={() => unlockAll(editor.canvas)}>Unlock All <VscUnlock /></li>\r\n        <li onClick={() => groupObjects(editor.canvas, true)}>Group Selected</li>\r\n        <li onClick={() => groupObjects(editor.canvas, false)}>UnGroup Selected</li>\r\n        <li>Add<ul >\r\n          <li onClick={() => createText(editor.canvas)}>Text T</li>\r\n          <li onClick={() => createRect(editor.canvas)}>Rectangle <VscPrimitiveSquare /></li>\r\n          <li onClick={() => createCircle(editor.canvas)}>Circle <VscCircleFilled /></li>\r\n          <li onClick={() => createTriangle(editor.canvas)}>Triangle <VscTriangleUp /></li>\r\n\r\n        </ul></li>\r\n        <li>Text Align<ul >\r\n          <li onClick={() => alignLeft(editor.canvas)}>Left</li>\r\n          <li onClick={() => alignRight(editor.canvas)}>Right</li>\r\n          <li onClick={() => alignCenter(editor.canvas)}>Center</li>\r\n        </ul></li>\r\n        <li>Text Decoration<ul >\r\n          <li onClick={() => textUnderline(editor.canvas)}>Underline Toggle</li>\r\n          <li onClick={() => textLineThrough(editor.canvas)}>LineThrough Toggle</li>\r\n          <li onClick={() => textItalic(editor.canvas)}>Itallic</li>\r\n          <li onClick={() => txtBold(editor.canvas)}>Bold</li>\r\n          <li onClick={() => textNormal(editor.canvas)}>Normal</li>\r\n\r\n          <li onClick={() => setGradientColor(editor.canvas)}>setGradientColor</li>\r\n        </ul></li>\r\n        <li>Remove<ul >\r\n          <li onClick={() => removeBg(editor.canvas)}> BG</li>\r\n          <li onClick={() => removeFill(editor.canvas)}> Fill</li>\r\n          <li onClick={() => removeStroke(editor.canvas)}> Stroke</li>\r\n          <li onClick={() => removeShadow(editor.canvas)}> shadow</li>\r\n\r\n        </ul></li>\r\n        <li onClick={() => redo(editor.canvas)}>Redo <AiOutlineRedo /></li>\r\n        <li onClick={() => undo(editor.canvas)}>Undo <AiOutlineUndo /></li>\r\n        <li onClick={() => copy()}>Copy</li>\r\n        <li onClick={() => paste()}>Paste</li>\r\n        <li>Drawing Mode<ul >\r\n          <li onClick={() => window.toggleModeDrawing(editor.canvas)}>Off<VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Pencil', editor.canvas)\r\n          }}>Pencil <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Spray', editor.canvas)\r\n          }}>Spray <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Erase', editor.canvas)\r\n          }}>Erase <VscEdit /></li>\r\n        </ul></li>\r\n      </ul>\r\n    </div>) : ''}\r\n  </div>);\r\n};\r\n\r\nexport default ContextMenu","import { useSelector } from 'react-redux'\r\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\r\nimport ContextMenu from './ContextMenu'\r\nimport {useEffect} from 'react';\r\nconst Drawing = ({ canvasOutput }) => {\r\n  const { editor, onReady } = useFabricJSEditor();\r\n  const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n  const canvasFromJson = (canvas) => {\r\n    var state2 = state1.replace(new RegExp(String.fromCharCode(2), \"g\"), '\"').replace(new RegExp(String.fromCharCode(3), \"g\"), ' ').replace(new RegExp(String.fromCharCode(4), \"g\"), '/').replace(new RegExp(String.fromCharCode(5), \"g\"), '%')\r\n    const data = (JSON.parse(state2));\r\n    canvas.loadFromJSON(data);\r\n    canvas.requestRenderAll();\r\n  };\r\n  window.ReadToCasparcgfromStore = () => canvasFromJson(editor.canvas)\r\n  window.canvasFromJson = canvasFromJson\r\n  window.editor = editor;\r\n  function cancesetZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', null);\r\n    canvas.on('mouse:down', null);\r\n    canvas.on('mouse:move', null);\r\n    canvas.on('mouse:up', null);\r\n}\r\n\r\nfunction setZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', function (opt) {\r\n        // window.editor.canvas.setBackgroundColor('rgba(255, 73, 64, 0.6)', window.editor.canvas.renderAll.bind(window.editor.canvas));\r\n\r\n        var delta = opt.e.deltaY;\r\n        var zoom = canvas.getZoom();\r\n        zoom *= 0.999 ** delta;\r\n        if (zoom > 20) zoom = 20;\r\n        if (zoom < 0.01) zoom = 0.01;\r\n        // canvas.setZoom(zoom);\r\n        canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\r\n        opt.e.preventDefault();\r\n        opt.e.stopPropagation();\r\n       \r\n    })\r\n\r\n    canvas.on('mouse:down', function (opt) {\r\n        var evt = opt.e;\r\n        if (evt.altKey === true) {\r\n            this.isDragging = true;\r\n            this.selection = false;\r\n            this.lastPosX = evt.clientX;\r\n            this.lastPosY = evt.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:move', function (opt) {\r\n        if (this.isDragging) {\r\n            var e = opt.e;\r\n            var vpt = this.viewportTransform;\r\n            vpt[4] += e.clientX - this.lastPosX;\r\n            vpt[5] += e.clientY - this.lastPosY;\r\n            this.requestRenderAll();\r\n            this.lastPosX = e.clientX;\r\n            this.lastPosY = e.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:up', function (opt) {\r\n        // on mouse up we want to recalculate new interaction\r\n        // for all objects, so we call setViewportTransform\r\n        this.setViewportTransform(this.viewportTransform);\r\n        this.isDragging = false;\r\n        this.selection = true;\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\nuseEffect(() => {\r\n    setTimeout(() => {\r\n        setZoomAndPan(window.editor.canvas);\r\n    }, 2000);\r\n    return () => {\r\n        cancesetZoomAndPan(window.editor.canvas)\r\n    }\r\n}, [])\r\n\r\n  return (<div>\r\n    <FabricJSCanvas className={canvasOutput ? 'canvasOutput' : 'canvas'} onReady={onReady} />\r\n    <ContextMenu editor={editor} />\r\n  </div>);\r\n};\r\nexport default Drawing;\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nconst initialState = {\r\n    element1: []\r\n}\r\nconst reducer1 = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_ELEMENT': return {\r\n            ...state,\r\n            element1: [...state.element1, action.payload]\r\n        }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateOneLiner = {\r\n    onelinerData: [{ id: 1, name: 'Vimlesh Kumar Tanti 1' }, { id: 2, name: 'Vimlesh Kumar Tanti 2' }, { id: 3, name: 'Vimlesh Kumar Tanti 3' }]\r\n}\r\nconst oneLinerReducer = (state = initialStateOneLiner, action) => {\r\n    switch (action.type) {\r\n        case 'UPDATE_ONELINER':\r\n            const updatedOneLinerData = state.onelinerData.map((val) => {\r\n                return val.id === parseInt(action.payload.id) ? { ...val, name: action.payload.name } : val;\r\n            });\r\n            return {\r\n                ...state,\r\n\r\n                onelinerData: [...updatedOneLinerData]\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStateStyle1 = {\r\n    style1: {\r\n        color: 'rgb(255, 255, 255)',\r\n        backgroundColor: 'rgb(80, 3, 124)'\r\n    }\r\n}\r\nconst style1Reducer = (state = initialStateStyle1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_STYLE1':\r\n            return {\r\n                ...state,\r\n\r\n                style1: { ...state.style1, ...action.payload }\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateCanvas1 = { aa:''}\r\n\r\n\r\nconst canvas1Reducer = (state = initialStateCanvas1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_CANVAS1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStatetextEditor1 = { aa: 'Vimlesh Kumar' }\r\n\r\nconst textEditor1Reducer = (state = initialStatetextEditor1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_TEXT1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    reducer1,\r\n    oneLinerReducer,\r\n    style1Reducer,\r\n    canvas1Reducer,\r\n    textEditor1Reducer\r\n\r\n})\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, thunk)))\r\nexport default store","import { useState, useEffect, useRef } from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport Video from './Video';\r\nimport Drawing from './Drawing';\r\nimport { endpoint, address1 } from './common'\r\nimport axios from 'axios'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport DrawingController, {  addRoundedCornerImage} from './DrawingController';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nexport default function App(props) {\r\n\r\n  const [mediaPath, setmediaPath] = useState();\r\n  // eslint-disable-next-line\r\n  const [remainingTime, setRemainingTime] = useState()\r\n  const [filename, setfilename] = useState('amb');\r\n  const [imageName, setImageName] = useState(`http://${window.location.host}${process.env.PUBLIC_URL}/img/pine-wood-500x500.jpg`)\r\n  const refPreviewContainer = useRef();\r\n  const [media, setMedia] = useState([]);\r\n  const chNumbers = [1, 2, 3, 4, 5, 6];\r\n\r\n  const [chNumber, setChNumber] = useState(1);\r\n  const [currentTab, setCurrentTab] = useState('Drawing');\r\n\r\n  const animationMethods = [\r\n    'linear',\r\n    'easenone',\r\n    'easeinquad',\r\n    'easeoutquad',\r\n    'easeinoutquad',\r\n    'easeoutinquad',\r\n    'easeincubic',\r\n    'easeoutcubic',\r\n    'easeinoutcubic',\r\n    'easeoutincubic',\r\n    'easeinquart',\r\n    'easeoutquart',\r\n    'easeinoutquart',\r\n    'easeoutinquart',\r\n    'easeinquint',\r\n    'easeoutquint',\r\n    'easeinoutquint',\r\n    'easeoutinquint',\r\n    'easeinsine',\r\n    'easeoutsine',\r\n    'easeinoutsine',\r\n    'easeoutinsine',\r\n    'easeinexpo',\r\n    'easeoutexpo',\r\n    'easeinoutexpo',\r\n    'easeoutinexpo',\r\n    'easeincirc',\r\n    'easeoutcirc',\r\n    'easeinoutcirc',\r\n    'easeoutincirc',\r\n    \"easeinelastic\",\r\n    \"easeoutelastic\",\r\n    \"easeinoutelastic\",\r\n    \"easeoutinelastic\",\r\n    \"easeinback\",\r\n    \"easeoutback\",\r\n    \"easeinoutback\",\r\n    \"easeoutintback\",\r\n    \"easeoutbounce\",\r\n    \"easeinbounce\",\r\n    \"easeinoutbounce\",\r\n    \"easeoutinbounce\",\r\n  ]\r\n  const channelModes = ['PAL', '1080i5000', '720p2500'];\r\n  const [channelMode, setChannelMode] = useState('PAL')\r\n  const [animationMethod, setAnimationMethod] = useState('easeinsine');\r\n\r\n  useEffect(() => {\r\n    window.imageName = imageName;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [imageName])\r\n\r\n  useEffect(() => {\r\n    window.animationMethod = animationMethod;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [animationMethod])\r\n\r\n  useEffect(() => {\r\n    window.chNumber = chNumber;\r\n    document.title = `CH #${chNumber} React Caspar Client`;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [chNumber])\r\n\r\n  const connectHandler = () => {\r\n    if (connectbutton.current.style.backgroundColor === \"green\") {\r\n      axios.post(address1 + '/disconnect').then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n    else {\r\n      const data = { host: 'localhost', port: 5250 }\r\n      axios.post(address1 + '/connect', data).then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n\r\n  }\r\n\r\n  const connectbutton = useRef();\r\n\r\n  const refreshMedia = () => {\r\n    axios.post(address1 + '/getmedia').then((aa) => {\r\n      setMedia(aa.data)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(':8080');\r\n    socket.on(\"FromAPI\", data => {\r\n      setRemainingTime(data);\r\n    });\r\n    socket.on(\"Fromccgsocket\", data => {\r\n      setmediaPath(data);\r\n    });\r\n    socket.on(\"connectionStatus\", data => {\r\n      if (data === 'true') {\r\n        connectbutton.current.style.backgroundColor = \"green\";\r\n      }\r\n      else {\r\n        connectbutton.current.style.backgroundColor = \"red\";\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refreshMedia()\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [mediaPath])\r\n\r\n  const onTabChange = (index, prevIndex) => {\r\n    switch (index) {\r\n      case 0:\r\n        setCurrentTab('Drawing')\r\n        break;\r\n      case 1:\r\n        setCurrentTab('Video')\r\n        break;\r\n      default:\r\n      //nothing\r\n    }\r\n  }\r\n\r\n  const changeAnimationMethod = e => {\r\n    setAnimationMethod(e.target.value);\r\n  }\r\n  const changeChannelNumber = e => {\r\n    setChNumber(e.target.value);\r\n  }\r\n  const changeChannelMode = e => {\r\n    setChannelMode(e.target.value);\r\n    endpoint(`set ${chNumber} mode ${e.target.value}`)\r\n  }\r\n\r\n  return (<React.Fragment>\r\n\r\n    <div className='menu_bar'>\r\n      <button className='connectbutton' style={{}} ref={connectbutton} onClick={connectHandler}>Connect</button> <button className='StopChannelButton' style={{}} onClick={() => endpoint(`clear ${chNumber}`)}>Stop Channel</button>\r\n      <b> Animation Method: </b><select onChange={e => changeAnimationMethod(e)} value={animationMethod}>\r\n        {animationMethods.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <b>Channel Number:</b>\r\n      <select onChange={e => changeChannelNumber(e)} value={chNumber}>\r\n        {chNumbers.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <button onClick={() => endpoint(`swap 1 2`)}>Swap Channels</button>\r\n\r\n      <span style={{ position: 'absolute', right: '10px' }}><b >All version of casparcg server</b></span>\r\n    </div>\r\n\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      border: '1px dashed blue',\r\n      height: '100vh',\r\n      flexWrap: 'nowrap'\r\n    }}>\r\n      <div style={{ width: '1035px' }} >\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          border: '1px dashed blue',\r\n          height: '100vh',\r\n          flexWrap: 'nowrap'\r\n        }}>\r\n\r\n          <div>\r\n            <div ref={refPreviewContainer} id='preview-container' className='preview-container'>\r\n\r\n              <div style={{ display: (currentTab === 'Drawing') ? 'none' : 'block' }}> <Video video={address1 + '/media/amb.mp4'} /></div><div style={{ display: (currentTab === 'Drawing') ? 'block' : 'none' }}><Provider store={store}><Drawing /></Provider></div>\r\n            </div>\r\n            <div style={{ display: 'flex' }}>\r\n              <div style={{ backgroundColor: 'grey', border: '2px solid yellow', width: 700, height: 400 }}>\r\n                <h4>Put as below in casparcg.config file and drag screen consumer here</h4>\r\n                <h5>\r\n                  &lt;screen&gt;\r\n                  &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                  &lt;x&gt;0&lt;/x&gt;\r\n                  &lt;y&gt;680&lt;/y&gt;\r\n                  &lt;width&gt;680&lt;/width&gt;\r\n                  &lt;height&gt;325&lt;/height&gt;\r\n\r\n                  &lt;/screen&gt;\r\n                </h5>\r\n              </div>\r\n              <div>\r\n                <b>Select image from casparcg media folder: </b><br />\r\n                <button onClick={refreshMedia}>Refresh Media</button>{media.length} files<br />\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n\r\n                  <div style={{ maxHeight: '160px', maxWidth: '315px', overflow: 'scroll', border: '4px solid red' }}>\r\n\r\n                    <table border='1' >\r\n                      <tbody>\r\n                        {media.map((val, i) => {\r\n                          return <tr key={i}><td onClick={(e) => {\r\n                            setImageName((address1 + `/media/` + e.target.innerText));\r\n                          }}>{val}</td></tr>\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n\r\n                  </div>\r\n\r\n                  <div style={{ border: '4px solid red', display: 'flex', alignContent: 'center', alignItems: 'center' }}>\r\n                    <div>\r\n                      <img src={imageName} alt='' width=\"200\" height=\"130\" style={{ border: '3px solid #555' }}></img>\r\n                    </div>\r\n                    <div>\r\n                      Selected Image <br />\r\n                      <button onClick={() => addRoundedCornerImage(window.editor.canvas, window.imageName)}>Add Image</button>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div style={{ width: '38vw', minWidth: '400px' }}>\r\n        <Tabs forceRenderTabPanel={true} onSelect={(index, prevIndex) => onTabChange(index, prevIndex)} >\r\n          <TabList>\r\n            <Tab>Drawing</Tab>\r\n            <Tab>Video</Tab>\r\n            <Tab>Test</Tab>\r\n            <Tab>Help</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <div style={{ border: '1px dashed blue', width: 900 }}>\r\n              <DrawingController />\r\n            </div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Video</h2>\r\n            <div> <input onChange={(e) => setfilename(e.target.value)} value={filename}></input>\r\n              <button className='palyButton' onClick={() => endpoint(`load ${chNumber}-1 \"${filename}\"`)}>Cue</button>\r\n              <button className='palyButton' onClick={() => endpoint(`play ${chNumber}-1 \"${filename}\" loop`)}>Play</button>\r\n              <button className='stopButton' onClick={() => endpoint(`pause ${chNumber}-1`)}>Pause</button>\r\n              <button className='stopButton' onClick={() => endpoint(`resume ${chNumber}-1`)}>Resume</button>\r\n              <button className='stopButton' onClick={() => endpoint(`stop ${chNumber}-1`)}>Stop</button>\r\n            </div>\r\n            <button onClick={refreshMedia}>Refresh Media</button>{media.length} files<br />\r\n            <div style={{ maxHeight: '300px', maxWidth: '400px', overflow: 'scroll' }}>\r\n              <table border='1' >\r\n                <tbody>\r\n                  {media.map((val, i) => {\r\n                    return <tr key={i}><td onClick={(e) => {\r\n                      setfilename((e.target.innerText).split('.')[0]);\r\n                      var video = document.getElementById('video');\r\n                      var source = document.getElementsByTagName('source')[0];\r\n\r\n                      if ((`${address1}/media/${e.target.innerText}`).match(/\\.(jpeg|jpg|bmp|gif|png)$/) != null) {\r\n                        video.setAttribute(\"poster\", `${address1}/media/${e.target.innerText}`);\r\n                      }\r\n                      else {\r\n                        video.setAttribute(\"poster\", ``);\r\n                        source.setAttribute(\"src\", `${address1}/media/${e.target.innerText}`);\r\n                        video.load();\r\n                      }\r\n                    }\r\n                    }>{val}</td></tr>\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Test</h2>\r\n            <b>Set Video Mode to This Channel:</b>\r\n            <select onChange={e => changeChannelMode(e)} value={channelMode}>\r\n              {channelModes.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n            </select>\r\n            <button onClick={()=>{window.showMenu=true}}>Show Right Click Menu</button>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Help</h2>\r\n            <ol>\r\n              <li>It works with all version of Server</li>\r\n              <li> Put as below in casparcg.config file and drag screen consumer below Designer window\r\n                &lt;screen&gt;\r\n                &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                &lt;x&gt;0&lt;/x&gt;\r\n                &lt;y&gt;680&lt;/y&gt;\r\n                &lt;width&gt;690&lt;/width&gt;\r\n                &lt;height&gt;325&lt;/height&gt;\r\n\r\n                &lt;/screen&gt;\r\n              </li>\r\n\r\n              <li>Select Casparcg Screen Sizes from drop down</li>\r\n              <li>Add some text or rectangle by clicking on buttons and then click Show to Casparcg</li>\r\n\r\n              <li>There is right click menu also for drawing mode. </li>\r\n             \r\n\r\n              <li><a href='https://github.com/vimlesh1975/ReactCasparClient' target='_blank' rel=\"noreferrer\">Github Page</a> </li>\r\n              <li><a href='https://vimlesh1975.github.io/ReactCasparClient/' target='_blank' rel=\"noreferrer\">Github Online Client</a> </li>\r\n\r\n              <li><a href='https://casparcgforum.org/t/react-caspar-client' target='_blank' rel=\"noreferrer\">Casparcg Forum Topic</a> </li>\r\n              <li><a href='https://bit.ly/3jRrhDL' target='_blank' rel=\"noreferrer\">Latest Build</a> </li>\r\n\r\n              <li>test</li>\r\n             \r\n             \r\n            </ol>\r\n            <h2>Not work</h2>\r\n            <ol>\r\n            <li>Erase will not work on Images </li>\r\n            <li>Erase will work on Images from local pc </li>\r\n            <li>Images from local pc will be slow </li>\r\n\r\n\r\n              </ol>\r\n          </TabPanel>\r\n        </Tabs >\r\n      </div >\r\n\r\n    </div>\r\n\r\n  </React.Fragment >);\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport Drawing from './Drawing';\n\n\nwindow.store = store;\n\nReactDOM.render(\n\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      {/* <Router > */}\n\n      <Switch>\n        <Route exact path='/' render={() => (<App />)} />\n\n        <Route exact path='/drawing' render={() => <Drawing canvasOutput={true} />} />\n      </Switch>\n    </Router>\n  </Provider>,\n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}