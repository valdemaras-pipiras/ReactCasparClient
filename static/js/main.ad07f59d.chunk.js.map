{"version":3,"sources":["Video.jsx","useContextMenu.js","common.js","casparlogo.png","DrawingController.jsx","ContextMenu.jsx","Drawing.jsx","store.js","App.js","reportWebVitals.js","index.js"],"names":["Video","props","id","width","height","controls","src","video","type","useContextMenu","useState","xPos","setXPos","yPos","setYPos","showMenu","setShowMenu","handleContextMenu","useCallback","e","clientX","clientY","preventDefault","handleClick","useEffect","document","addEventListener","removeEventListener","address1","window","location","host","split","endpoint","string","data","axios","post","then","aa","catch","console","log","fabric","Object","prototype","noScaleCache","screenSizes","Direction","moveSelected","direction","activeObject","editor","canvas","getActiveObject","set","left","top","setCoords","renderAll","util","addListener","body","options","key","which","keyCode","currentMode","currentColor","currentFont","currentFontSize","backgroundColor","group","stroke","strokeWidth","gradient","Gradient","gradientUnits","coords","x1","y1","x2","y2","colorStops","offset","color","addClock","sss","Textbox","fill","fontFamily","fontWeight","fontSize","editable","objectCaching","textAlign","add","setActiveObject","requestRenderAll","setInterval","ss1","Date","toLocaleTimeString","hour12","hour","minute","second","animate","_clipboard","createText","text","padding","onChange","bind","addImage","Image","fromURL","imageName","myImg","scaleToWidth","scaleToHeight","strokeUniform","createRect","rect","Rect","opacity","hasRotatingPoint","createCircle","circle","Circle","radius","cornerSize","createTriangle","isDrawingMode","triangle","Triangle","deleteSelectedItem","getActiveObjects","forEach","element","remove","deleteAll","getObjects","undo","redo","setOpacity","val","lock","selectable","unlockAll","toggleMode","mode","freeDrawingBrush","groupObjects","shouldGroup","toGroup","toActiveSelection","savetoCasparcgStore","layerNumber","dd","toJSON","JSON","stringify","replaceAll","String","fromCharCode","chNumber","setTimeout","animationMethod","updatetoCasparcgStore","removeFromCaspar","changeText","toString","copy","clone","cloned","selectAll","discardActiveObject","sel","ActiveSelection","paste","clonedObj","evented","forEachObject","obj","DrawingController","fileReader","fontList","setFontList","setCurrentFont","canvaslist","setCanvaslist","currentPage","setCurentPage","currentscreenSize","setCurrentscreenSize","f0","setF0","f1","setF1","f2","setF2","onlineImageUrl","setOnlineImageUrl","verticalSpeed","setVerticalSpeed","horizontalSpeed","setHorizontalSpeed","handleFileRead","result","splice","bb","cc","parse","push","updatePageName","useDispatch","useSelector","state","canvas1Reducer","updatedCanvasList","map","i","parseInt","target","getAttribute","innerText","pageValue","onDoubleClickPageName","event","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","repeat","item","isEditing","ctrlKey","style","display","border","value","className","onClick","process","Casparlogo","alt","setViewportTransform","hh","getBoundingRect","toSVG","startVerticalScroll","onVerticalSpeedChange","min","max","step","defaultValue","startHorizontalScroll","onHorizontalSpeedChange","changeCurrentColor","changeBackGroundColor","changeStrokeCurrentColor","onstrokeSizeChange","skewX","onSkewXSizeChange","skewY","onSkewYSizeChange","setZoom","getZoom","putat00","arr","Math","alignAllLeft","scaleX","alignAllRight","alignAllTop","scaleY","alignAllButtom","onFontChange","uuidv4","onSizeChange","createElement","pageName","file","Blob","href","URL","createObjectURL","ss","year","month","day","retVal","prompt","download","appendChild","click","drawingFileSave","accept","files","FileReader","onloadend","readAsText","length","updatePage","overflow","onDragEnd","destination","index","source","droppableId","provided","snapshot","ref","innerRef","isDraggingOver","droppableProps","draggableId","draggableProps","isDragging","boxShadow","dragHandleProps","minWidth","json","loadFromJSON","recallPage","key1","key2","onDoubleClick","suppressContentEditableWarning","contentEditable","onMouseOut","filter","_","deletePage","pointerEvents","placeholder","size","url","ContextMenu","position","bringToFront","sendToBack","underline","linethrough","fontStyle","Drawing","canvasOutput","useFabricJSEditor","onReady","state1","canvasFromJson","state2","replace","RegExp","ReadToCasparcgfromStore","on","opt","delta","deltaY","zoom","zoomToPoint","x","offsetX","y","offsetY","stopPropagation","evt","altKey","this","selection","lastPosX","lastPosY","vpt","viewportTransform","initialState","element1","initialStateOneLiner","onelinerData","name","initialStateStyle1","style1","initialStateCanvas1","initialStatetextEditor1","rootReducer","combineReducers","reducer1","action","payload","oneLinerReducer","updatedOneLinerData","style1Reducer","textEditor1Reducer","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","App","mediaPath","setmediaPath","setRemainingTime","filename","setfilename","setImageName","refPreviewContainer","useRef","media","setMedia","setChNumber","setAnimationMethod","title","connectbutton","refreshMedia","socket","socketIOClient","current","disconnect","Fragment","port","changeAnimationMethod","changeChannelNumber","right","flexDirection","flexWrap","forceRenderTabPanel","onSelect","prevIndex","ReactDOM","render","getElementById","onTabChange","maxHeight","maxWidth","getElementsByTagName","match","setAttribute","load","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","basename","exact","path"],"mappings":"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","file":"static/js/main.ad07f59d.chunk.js","sourcesContent":["const Video = (props) => {\r\n    return (<>\r\n        <div>\r\n            <video id='video' width=\"1024\" height=\"576\" controls>\r\n                <source src={props.video} type=\"video/mp4\" />\r\n            </video>\r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default Video\r\n","import { useEffect, useState, useCallback } from \"react\";\r\n\r\nconst useContextMenu = () => {\r\n  const [xPos, setXPos] = useState(\"0px\");\r\n  const [yPos, setYPos] = useState(\"0px\");\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const handleContextMenu = useCallback(\r\n    (e) => {\r\n      if (e.clientX > 1024) return\r\n      if (e.clientY > 610) return\r\n\r\n      e.preventDefault();\r\n\r\n      setXPos(`${e.clientX - 60}px`);\r\n      if (e.clientY > 145) {\r\n        setYPos(`${60}px`);\r\n      }\r\n      else {\r\n        setYPos(`${e.clientY - 50}px`);\r\n      }\r\n\r\n      setShowMenu(true);\r\n\r\n\r\n    },\r\n    [setXPos, setYPos]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    showMenu && setShowMenu(false);\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    document.addEventListener(\"contextmenu\", handleContextMenu);\r\n    return () => {\r\n      document.addEventListener(\"click\", handleClick);\r\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\r\n    };\r\n  });\r\n\r\n  return { xPos, yPos, showMenu };\r\n};\r\n\r\nexport default useContextMenu","import axios from 'axios'\r\nexport var address1='http://' + (window.location.host).split(':')[0] +':8080' ;\r\n\r\nexport const endpoint = (string) => {\r\n    const data = { string: string }\r\n    axios.post(address1 + '/endpoint', data).then((aa) => {\r\n    //    console.log(aa)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n}\r\n","export default __webpack_public_path__ + \"static/media/casparlogo.19af8063.png\";","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { fabric } from \"fabric\";\r\nimport { endpoint } from './common'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport \"fabric-history\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscLock, VscUnlock, VscTrash, VscMove } from \"react-icons/vsc\";\r\n\r\nimport { FaAlignLeft, FaAlignRight, FaSave } from \"react-icons/fa\";\r\nimport { AiOutlineVerticalAlignTop, AiOutlineVerticalAlignBottom, AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\nimport { FiFile } from \"react-icons/fi\";\r\nimport Casparlogo from './casparlogo.png'\r\n\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfabric.Object.prototype.noScaleCache = false;\r\n\r\nconst screenSizes = [1024, 1280, 1920, 2048, 3840, 4096]\r\n\r\nconst STEP = 5;\r\n\r\nvar Direction = {\r\n    LEFT: 0,\r\n    UP: 1,\r\n    RIGHT: 2,\r\n    DOWN: 3\r\n};\r\n\r\n\r\nfabric.util.addListener(document.body, 'keydown', function (options) {\r\n    // if (options.repeat) {\r\n    //     return;\r\n    // }\r\n    var key = options.which || options.keyCode; // key detection\r\n    if (key === 37) { // handle Left key\r\n        moveSelected(Direction.LEFT);\r\n    } else if (key === 38) { // handle Up key\r\n        moveSelected(Direction.UP);\r\n    } else if (key === 39) { // handle Right key\r\n        moveSelected(Direction.RIGHT);\r\n    } else if (key === 40) { // handle Down key\r\n        moveSelected(Direction.DOWN);\r\n    }\r\n});\r\nfunction moveSelected(direction) {\r\n    var activeObject = window.editor.canvas.getActiveObject();\r\n    if (activeObject) {\r\n        switch (direction) {\r\n            case Direction.LEFT:\r\n                activeObject.set({ left: activeObject.left - STEP });\r\n                break;\r\n            case Direction.UP:\r\n                activeObject.set({ top: activeObject.top - STEP });\r\n                break;\r\n            case Direction.RIGHT:\r\n                activeObject.set({ left: activeObject.left + STEP });\r\n                break;\r\n            case Direction.DOWN:\r\n                activeObject.set({ top: activeObject.top + STEP });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n        activeObject.setCoords();\r\n        window.editor.canvas.renderAll();\r\n\r\n    }\r\n}\r\n\r\nconst options = {\r\n    currentMode: \"\",\r\n    currentColor: \"#ffffff\",\r\n    currentFont: 'Arial',\r\n    currentFontSize: 25,\r\n    backgroundColor: \"#50037c\",\r\n    // currentWidth: 5,\r\n    group: {},\r\n    stroke: '#ffffff',\r\n    strokeWidth: 3,\r\n};\r\nexport var gradient = new fabric.Gradient({\r\n    type: 'linear',\r\n    // gradientUnits: 'pixels', // or 'percentage'\r\n    gradientUnits: 'percentage', // or 'percentage'\r\n    coords: { x1: 0, y1: 0, x2: 1, y2: 0 },\r\n    colorStops: [\r\n        { offset: 0, color: 'red' },\r\n        { offset: 0.2, color: 'orange' },\r\n        { offset: 0.4, color: 'yellow' },\r\n        { offset: 0.6, color: 'green' },\r\n        { offset: 0.8, color: 'blue' },\r\n        { offset: 1, color: 'purple' }\r\n    ]\r\n});\r\n\r\n\r\n\r\nexport const addClock = canvas => {\r\n\r\n    const sss = new fabric.Textbox('', {\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'clock1',\r\n\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    setInterval(() => {\r\n        animate(canvas, sss)\r\n    }, 1000);\r\n}\r\n\r\nfunction animate(canvas, sss) {\r\n    var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n    sss.set({\r\n        'text': ss1,\r\n    })\r\n    canvas.requestRenderAll();\r\n}\r\nexport const createText = (canvas) => {\r\n\r\n    const text = new fabric.Textbox(\"दूरदर्शन से विमलेश कुमार Vimlesh Kumar From Doordarshan\", {\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 500,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 443, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const addImage = canvas => {\r\n    fabric.Image.fromURL(window.imageName, myImg => {\r\n        myImg.scaleToWidth(160);\r\n        myImg.scaleToHeight(90);\r\n        myImg.set({ left: 0, top: 0, stroke: 'yellow', strokeWidth: 2, strokeUniform: true });\r\n        canvas.add(myImg);\r\n        canvas.renderAll();\r\n\r\n        // }, { crossOrigin: 'anonymous' });\r\n    });\r\n\r\n}\r\n\r\nconst addImagefromUrl = (canvas, url) => {\r\n    fabric.Image.fromURL(url, myImg => {\r\n        myImg.scaleToWidth(320);\r\n        myImg.scaleToHeight(180);\r\n        myImg.set({ left: 100, top: 100, stroke: '#ffffff', strokeWidth: 2, strokeUniform: true });\r\n\r\n        canvas.add(myImg).setActiveObject(myImg);\r\n        canvas.renderAll();\r\n    });\r\n}\r\n\r\n\r\nexport const setGradientColor = canvas => {\r\n    if (window.editor.canvas.getActiveObject()) { canvas.getActiveObject().fill = gradient };\r\n}\r\n\r\nexport const createRect = (canvas) => {\r\n    const rect = new fabric.Rect({\r\n        top: -100,\r\n        left: 90,\r\n        width: 500,\r\n        height: 80,\r\n        opacity: 0.9,\r\n        fill: 'rgb(80, 3, 124)',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 430, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const createCircle = (canvas) => {\r\n    const circle = new fabric.Circle({\r\n        top: 160,\r\n        left: -100,\r\n        radius: 50,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(circle).setActiveObject(circle);;\r\n    canvas.requestRenderAll();\r\n    circle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\n\r\nexport const createTriangle = (canvas) => {\r\n    canvas.isDrawingMode = false;\r\n    const triangle = new fabric.Triangle({\r\n        top: 50,\r\n        left: -100,\r\n        width: 100,\r\n        height: 100,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(triangle).setActiveObject(triangle);;\r\n    canvas.requestRenderAll();\r\n    triangle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\nexport const alignLeft = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'left' };\r\nexport const alignRight = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'right' };\r\nexport const alignCenter = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().textAlign = 'center' };\r\n\r\nexport const textUnderline = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().underline = !canvas.getActiveObject().underline };\r\nexport const textLineThrough = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().linethrough = !canvas.getActiveObject().linethrough };\r\nexport const textItalic = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontStyle = 'italic' };\r\nexport const txtBold = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontWeight = 'bold' };\r\nexport const textNormal = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().fontWeight = 'normal' };\r\n\r\nexport const removeBg = canvas => { if (window.editor.canvas.getActiveObject()) canvas.getActiveObject().set('backgroundColor', '') };\r\n\r\n\r\n\r\nexport const deleteSelectedItem = canvas => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n}\r\nexport const deleteAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n}\r\n\r\nexport const bringToFront = canvas => canvas.bringToFront(canvas.getActiveObject())\r\nexport const sendToBack = canvas => canvas.sendToBack(canvas.getActiveObject())\r\nexport const undo = canvas => canvas.undo()\r\nexport const redo = canvas => canvas.redo()\r\n\r\nexport const setOpacity = (canvas, val = 0.5) => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => element.set({ 'opacity': val }));\r\n}\r\n\r\nexport const lock = canvas => {\r\n    const aa = canvas.getActiveObjects()\r\n    aa.forEach(element => element.selectable = false);\r\n}\r\n\r\n\r\nexport const unlockAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => element.selectable = true);\r\n}\r\n\r\nexport const toggleMode = (mode, canvas) => {\r\n    canvas.freeDrawingBrush.color = options.stroke;\r\n    canvas.freeDrawingBrush.width = options.strokeWidth;\r\n\r\n    canvas.isDrawingMode = !(canvas.isDrawingMode);\r\n};\r\n\r\nconst changeCurrentColor = (e) => {\r\n    options.currentColor = e.target.value;\r\n    window.editor.canvas.freeDrawingBrush.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fill = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n};\r\n\r\nconst changeBackGroundColor = (e) => {\r\n    options.backgroundColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.backgroundColor = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeStrokeCurrentColor = e => {\r\n    options.stroke = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.stroke = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst onstrokeSizeChange = e => {\r\n    options.strokeWidth = parseInt(e.target.value);\r\n    window.editor.canvas.freeDrawingBrush.width = parseInt(e.target.value);\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.strokeWidth = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewXSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewX = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewYSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewY = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst putat00 = (canvas) => {\r\n    // canvas.setZoom(1)\r\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n    selectAll(canvas);\r\n    canvas.getActiveObject()?.set({ left: 0, top: 0 });\r\n}\r\nconst alignAllLeft = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllTop = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllRight = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left + (item.width * item.scaleX))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = max - (item.width * item.scaleX);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst alignAllButtom = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top + (item.height * item.scaleY))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = max - (item.height * item.scaleY);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSizeChange = (e) => {\r\n    options.currentFontSize = e.target.value\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fontSize = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nexport const groupObjects = (canvas, shouldGroup) => {\r\n    if (shouldGroup) {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'activeSelection') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toGroup();\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n    else {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'group') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toActiveSelection();\r\n        const aa = canvas.getObjects();\r\n        aa.forEach(element => element.set({ objectCaching: false }));\r\n        canvas.requestRenderAll();\r\n    }\r\n};\r\n\r\nexport const savetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 800);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 1000);\r\n}\r\n\r\nexport const savetoCasparcgStoreClock = () => {\r\n    var dd = window.editor.canvas.toJSON()\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-120 store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-120 ReadToCasparcgfromStore()`)\r\n    }, 680);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 700);\r\n}\r\n\r\n\r\nexport const updatetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 200);\r\n\r\n}\r\nconst removeFromCaspar = (layerNumber) => {\r\n    endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n}\r\n\r\nconst changeText = (key, val) => {\r\n    window.editor.canvas.getObjects().forEach((element) => {\r\n        if (element.id === key) {\r\n            element.set({ text: val.toString() })\r\n            window.editor.canvas.requestRenderAll();\r\n        }\r\n    })\r\n    endpoint(`call ${window.chNumber}-109 \"window.editor.canvas.getObjects().forEach((element)=>{if(element.id==='${key}'){element.set({text:'${val}'});window.editor.canvas.requestRenderAll();}})\"`)\r\n\r\n}\r\n\r\nvar _clipboard;\r\nexport const copy = () => {\r\n    window.editor.canvas.getActiveObject()?.clone(cloned => {\r\n        _clipboard = cloned;\r\n    }, ['id']);\r\n}\r\n\r\nexport const selectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    var sel = new fabric.ActiveSelection(canvas.getObjects(), {\r\n        canvas: canvas,\r\n    });\r\n    canvas.setActiveObject(sel);\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const paste = () => {\r\n    _clipboard?.clone(clonedObj => {\r\n        window.editor.canvas.discardActiveObject();\r\n        clonedObj.set({\r\n            left: clonedObj.left + 10,\r\n            top: clonedObj.top + 10,\r\n            evented: true,\r\n            objectCaching: false,\r\n\r\n        });\r\n        if (clonedObj.type === 'activeSelection') {\r\n            // active selection needs a reference to the canvas.\r\n            clonedObj.canvas = window.editor.canvas;\r\n            clonedObj.forEachObject(obj => {\r\n                window.editor.canvas.add(obj);\r\n            });\r\n            // this should solve the unselectability\r\n            clonedObj.setCoords();\r\n        } else {\r\n            window.editor.canvas.add(clonedObj);\r\n        }\r\n        _clipboard.top += 10;\r\n        _clipboard.left += 10;\r\n        window.editor.canvas.setActiveObject(clonedObj);\r\n        window.editor.canvas.requestRenderAll();\r\n    }, ['id']);\r\n}\r\n\r\nconst DrawingController = ({ chNumber }) => {\r\n    const [fontList, setFontList] = useState([])\r\n    const [currentFont, setCurrentFont] = useState('Arial')\r\n    const [canvaslist, setCanvaslist] = useState([])\r\n    const [currentPage, setCurentPage] = useState()\r\n    const [currentscreenSize, setCurrentscreenSize] = useState(1024)\r\n    const [f0, setF0] = useState('Ganesh Tiwari');\r\n    const [f1, setF1] = useState('Suresh Malhotra');\r\n    const [f2, setF2] = useState('Mahesh prasad');\r\n    const [onlineImageUrl, setOnlineImageUrl] = useState('https://fixthephoto.com/images/content/shirt-fabric-texture-471614080378.jpg')\r\n    const [verticalSpeed, setVerticalSpeed] = useState(0.25)\r\n    const [horizontalSpeed, setHorizontalSpeed] = useState(2)\r\n\r\n\r\n    const id = 'f0';\r\n\r\n    const onFontChange = (e) => {\r\n        options.currentFont = e.target.value;\r\n        setCurrentFont(e.target.value);\r\n        window.editor.canvas.getActiveObjects().forEach(item => item.fontFamily = e.target.value)\r\n        window.editor.canvas.requestRenderAll();\r\n    }\r\n\r\n\r\n    const onDragEnd = (result) => {\r\n        const aa = [...canvaslist]\r\n        if (result.destination != null) {\r\n            aa.splice(result.destination?.index, 0, aa.splice(result.source?.index, 1)[0])\r\n            setCanvaslist(aa)\r\n            if (currentPage === result.source?.index) {\r\n                setCurentPage(result.destination?.index)\r\n            }\r\n            else if ((currentPage >= result.destination?.index) && (currentPage < result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage + 1)\r\n            }\r\n            else if ((currentPage <= result.destination?.index) && (currentPage > result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage - 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    const drawingFileSave = () => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = ''\r\n        canvaslist.forEach(val => {\r\n            aa += JSON.stringify({ 'pageName': val.pageName, 'pageValue': val.pageValue }) + '\\r\\n'\r\n        });\r\n        const file = new Blob([aa], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const drawingFileNew = () => {\r\n        setCanvaslist([]);\r\n    }\r\n\r\n    let fileReader;\r\n    const handleFileRead = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = []\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n\r\n    const handleFileChosen = (file) => {\r\n        if (file) {\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead;\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n\r\n    const onVerticalSpeedChange = (e) => {\r\n        setVerticalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-110 \"speed=${e.target.value}\"`);\r\n    }\r\n    const onHorizontalSpeedChange = (e) => {\r\n        setHorizontalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-111 \"speed=${e.target.value}\"`);\r\n    }\r\n    const startVerticalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        endpoint(`play ${window.chNumber}-110 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-110 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n       setInterval(() => {\r\n         aa.style.top =aa.getBoundingClientRect().top-speed;\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startHorizontalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width + 100;\r\n        endpoint(`play ${window.chNumber}-111 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-111 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.left='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var speed=${horizontalSpeed};\r\n        setInterval(() => {\r\n         aa.style.left =aa.getBoundingClientRect().left-speed;\r\n         if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startClock = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n\r\n        endpoint(`play ${window.chNumber}-112 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-112 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n\r\n        setInterval(() => {\r\n            var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n         cc.textContent  =ss1;\r\n          }, 1000);\r\n        \"`)\r\n    }\r\n    const dispatch = useDispatch()\r\n    // eslint-disable-next-line\r\n    const canvasToJson = (canvas) => {\r\n        dispatch({ type: 'CHANGE_CANVAS1', payload: (JSON.stringify(canvas.toJSON(['id']))) })\r\n    };\r\n\r\n    const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n    // eslint-disable-next-line\r\n    const canvasFromJson = (canvas) => {\r\n        var state2 = state1.replace(new RegExp('asdfgh', \"g\"), ' ')\r\n        const data = JSON.parse(state2);\r\n        canvas.loadFromJSON(data);\r\n        canvas.requestRenderAll();\r\n    };\r\n    const recallPage = (json, canvas, i) => {\r\n        setCurentPage(i)\r\n        canvas.loadFromJSON(json, function () {\r\n            const aa = canvas.getObjects();\r\n            aa.forEach(element => element.set({ objectCaching: false }));\r\n            canvas.renderAll();\r\n        });\r\n    }\r\n    const updatePage = (canvas) => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === currentPage) ? { 'pageName': val.pageName, 'pageValue': canvas.toJSON(['id']) } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const updatePageName = e => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === parseInt(e.target.getAttribute('key1'))) ? { 'pageName': e.target.innerText, 'pageValue': val.pageValue } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const onDoubleClickPageName = (event) => {\r\n        event.preventDefault();\r\n        var sel = window.getSelection();\r\n        var range = document.createRange();\r\n        range.selectNodeContents(event.target);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n    const deletePage = e => {\r\n        if (currentPage > e.target.getAttribute('key1')) {\r\n            setCurentPage(currentPage => currentPage - 1)\r\n        }\r\n        else if (currentPage === parseInt(e.target.getAttribute('key1'))) {\r\n            setCurentPage(null)\r\n        }\r\n        const updatedCanvasList = canvaslist.filter((_, i) => {\r\n            return (parseInt(e.target.getAttribute('key1')) !== i)\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    useEffect(() => {\r\n        axios.post('http://localhost:8080/getfonts').then((aa) => {\r\n            setFontList(aa.data)\r\n        }).catch((aa) => { console.log('Error', aa) });\r\n        return () => {\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', e => {\r\n            // console.log(e.key);\r\n            if (e.repeat) {\r\n                return;\r\n            }\r\n            if (e.key === 'Delete') {\r\n\r\n                window.editor.canvas.getActiveObjects().forEach(item => {\r\n                    //  alert(item.type);\r\n                    if (!((item.type === 'textbox') && item.isEditing)) { window.editor.canvas.remove(item); }\r\n                });\r\n            }\r\n            if (e.ctrlKey && e.key === 'c') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { copy() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'v') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { paste() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'z') {\r\n                window.editor.canvas.undo();\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            window.removeEventListener('keydown', null)\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    return (<div style={{ display: 'flex' }}>\r\n        <div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Screen Setup: </b>\r\n                Casparcg Screen Sizes  <select onChange={e => setCurrentscreenSize(e.target.value)}>  {screenSizes.map((val) => { return <option key={val} value={val}>{val}</option> })} </select>\r\n                <button className='stopButton' onClick={() => endpoint(`call ${window.chNumber}-109 window.editor.canvas.setZoom(${currentscreenSize}/1024)`)}>Set</button>\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Solid Caption 1: </b>\r\n                <button onClick={() => { endpoint(`play ${window.chNumber}-108 [html] http://${window.location.host}${process.env.PUBLIC_URL}/drawing`) }} >Initialise</button>\r\n                <button onClick={() => savetoCasparcgStore(108)}>Show To Casparcg <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updatetoCasparcgStore(108)}>Update To Casparcg</button>\r\n                <button className='stopButton' onClick={() => removeFromCaspar(108)}>Out Animation</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-108`)}>Stop</button>\r\n\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Solid Caption 2: </b>\r\n                <button onClick={() => { endpoint(`play ${window.chNumber}-109 [html] http://${window.location.host}${process.env.PUBLIC_URL}/drawing`) }} >Initialise</button>\r\n                <button onClick={() => savetoCasparcgStore(109)}>Show To Casparcg <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updatetoCasparcgStore(109)}>Update To Casparcg</button>\r\n                <button className='stopButton' onClick={() => removeFromCaspar(109)}>Out Animation</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-109`)}>Stop</button>\r\n\r\n            </div>\r\n\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Logo: </b>\r\n                <button onClick={() => { endpoint(`play ${window.chNumber}-200 [html] http://${window.location.host}${process.env.PUBLIC_URL}/drawing`) }} >Initialise</button>\r\n                <button onClick={() => savetoCasparcgStore(200)}>Show To Casparcg <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updatetoCasparcgStore(200)}>Update To Casparcg</button>\r\n                <button className='stopButton' onClick={() => removeFromCaspar(200)}>Out Animation</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-200`)}>Stop</button>\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Location Band: </b>\r\n                <button onClick={() => { endpoint(`play ${window.chNumber}-210 [html] http://${window.location.host}${process.env.PUBLIC_URL}/drawing`) }} >Initialise</button>\r\n                <button onClick={() => savetoCasparcgStore(210)}>Show To Casparcg <img src={Casparlogo} alt='' style={{ width: 15, height: 15 }} /></button>\r\n                <button onClick={() => updatetoCasparcgStore(210)}>Update To Casparcg</button>\r\n                <button className='stopButton' onClick={() => removeFromCaspar(210)}>Out Animation</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-210`)}>Stop</button>\r\n            </div>\r\n\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Vertical  Scroll: </b>  <button onClick={() => startVerticalScroll(window.editor?.canvas)}>Start </button>\r\n                Speed:<input style={{ width: '50px' }} onChange={e => onVerticalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=0\"`)}>Pause</button>\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=${verticalSpeed}\"`)}>Resume</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-110`)}>Stop</button>\r\n                <br />\r\n                <b> Horizntl Scroll: </b>\r\n                <button onClick={() => startHorizontalScroll(window.editor?.canvas)}>Start</button>\r\n                Speed:<input style={{ width: '50px' }} onChange={e => onHorizontalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=0\"`)}>Pause</button>\r\n                <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=${horizontalSpeed}\"`)}>Resume</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-111`)}>Stop</button>\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b>Clock: </b>\r\n                <button onClick={() => addClock(window.editor.canvas)}>Add to Preview</button>\r\n                <button onClick={() => startClock(window.editor.canvas)}>Show On Casparcg</button>\r\n                <button className='stopButton' onClick={() => endpoint(`stop ${window.chNumber}-112`)}>Stop</button>\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Drawing Tools: </b>\r\n                <button onClick={() => createRect(window.editor.canvas)}> <VscPrimitiveSquare /></button>\r\n                <button onClick={() => createText(window.editor.canvas)}>T</button>\r\n                <button onClick={() => createCircle(window.editor?.canvas)}>  <VscCircleFilled /></button>\r\n                <button onClick={() => createTriangle(window.editor.canvas)}><VscTriangleUp /></button>\r\n                <button onClick={() => toggleMode(\"drawing\", window.editor.canvas)}>Toggle<VscEdit /></button>\r\n\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Colors: </b>\r\n                Face <input type=\"color\" defaultValue='#ffffff' onChange={e => changeCurrentColor(e)} />\r\n                BG <input type=\"color\" defaultValue='#50037c' onChange={e => changeBackGroundColor(e)} />\r\n                stroke<input type=\"color\" defaultValue='#ffffff' onChange={e => changeStrokeCurrentColor(e)} />\r\n                Stroke/Brush width:<input style={{ width: '50px' }} onChange={e => onstrokeSizeChange(e)} type=\"number\" id='strokeSizeOSD' min='0' max='100' step='1' defaultValue='3' />\r\n                <div style={{ border: '1px solid black' }}>\r\n                    <b> Skew: </b>\r\n                    SkewX:<input style={{ width: '50px' }} onChange={e => onSkewXSizeChange(e)} type=\"number\" id='skewX' min='-360' max='360' step='1' defaultValue='0' />\r\n                    SkewY:<input style={{ width: '50px' }} onChange={e => onSkewYSizeChange(e)} type=\"number\" id='skewX' min='-360' max='360' step='1' defaultValue='0' />\r\n                </div>\r\n                <div style={{ border: '1px solid black' }}>\r\n                    <b>Zoom and Pan: </b>\r\n                    <button onClick={() => window.editor.canvas.setZoom(1)}>Reset Zomm of Screen</button>\r\n                    <button onClick={() => window.editor.canvas.setViewportTransform([window.editor.canvas.getZoom(), 0, 0, window.editor.canvas.getZoom(), 0, 0])}>Reset Pan of Screen</button>\r\n                    <button onClick={() => putat00(window.editor.canvas)}>Select All and Put at 0 0</button>\r\n\r\n                </div>\r\n                <div>\r\n                    <button onClick={() => alignAllLeft()}><FaAlignLeft /></button>\r\n                    <button onClick={() => alignAllRight()}><FaAlignRight /></button>\r\n                    <button onClick={() => alignAllTop()}><AiOutlineVerticalAlignTop /> <AiOutlineVerticalAlignTop /> </button>\r\n                    <button onClick={() => alignAllButtom()}><AiOutlineVerticalAlignBottom /><AiOutlineVerticalAlignBottom /></button>\r\n\r\n                    <button onClick={() => deleteSelectedItem(window.editor.canvas)}><VscTrash /> Selected</button>\r\n                    <button onClick={() => deleteAll(window.editor.canvas)}><VscTrash /> All</button>\r\n\r\n                    <button onClick={() => lock(window.editor.canvas)}><VscLock /></button>\r\n                    <button onClick={() => unlockAll(window.editor.canvas)}><VscUnlock /> All</button>\r\n\r\n                    <button onClick={() => undo(window.editor.canvas)}><AiOutlineUndo /> Undo</button>\r\n                    <button onClick={() => redo(window.editor.canvas)}><AiOutlineRedo /> Redo</button>\r\n\r\n                    <button onClick={() => copy(window.editor.canvas)}> Copy</button>\r\n                    <button onClick={() => paste(window.editor.canvas)}> Paste</button>\r\n                    <button onClick={() => selectAll(window.editor.canvas)}> Select All</button>\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n            <div style={{ border: '1px solid black' }}>\r\n                <b> Font: </b>\r\n                Name:  <select onChange={e => onFontChange(e)} value={currentFont}>\r\n                    {fontList.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                </select>\r\n                Size<input style={{ width: '35px' }} onChange={e => onSizeChange(e)} type=\"number\" id='fontSizeOSD' min='0' max='100' step='2' defaultValue='25' />\r\n            </div>\r\n            <div>\r\n\r\n                <div style={{ border: '1px solid black' }}>\r\n                    <b> Save: </b>\r\n                    <button onClick={() => drawingFileNew(window.editor.canvas)}>File New <FiFile /></button>\r\n                    <button onClick={() => drawingFileSave(window.editor.canvas)}>File Save <FaSave /></button>\r\n\r\n                    <input\r\n                        type='file'\r\n                        id='file'\r\n                        className='input-file'\r\n                        accept='.txt'\r\n                        onChange={e => handleFileChosen(e.target.files[0])}\r\n                    />\r\n                    <button onClick={() => {\r\n                        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                        var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                        if (retVal !== null) {\r\n                            setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n                            setCurentPage(canvaslist.length)\r\n\r\n                        }\r\n                    }}\r\n\r\n                    ><FaSave /> in New Page</button>\r\n                    <button onClick={() => updatePage(window.editor?.canvas)}>Update Page</button>\r\n\r\n\r\n                    <div style={{ height: 200, overflow: 'scroll', border: '2px solid black' }}>\r\n\r\n                        <DragDropContext onDragEnd={onDragEnd}>\r\n                            <Droppable droppableId=\"droppable-1\" type=\"PERSON\">\r\n                                {(provided, snapshot) => (\r\n                                    <div\r\n                                        ref={provided.innerRef}\r\n                                        style={{ backgroundColor: snapshot.isDraggingOver ? 'yellow' : 'yellowgreen' }}\r\n                                        {...provided.droppableProps}\r\n                                    >\r\n                                        <table border='1'>\r\n                                            <tbody>\r\n                                                {canvaslist.map((val, i) => {\r\n                                                    return (\r\n                                                        <Draggable draggableId={\"draggable\" + i} key={val + i} index={i}>\r\n                                                            {(provided, snapshot) => (\r\n                                                                <tr ref={provided.innerRef}\r\n                                                                    {...provided.draggableProps}\r\n                                                                    style={{\r\n                                                                        ...provided.draggableProps.style,\r\n                                                                        backgroundColor: snapshot.isDragging ? 'red' : 'white',\r\n                                                                        boxShadow: snapshot.isDragging ? \"0 0 .4rem #666\" : \"none\",\r\n                                                                        // margin: '10px'\r\n                                                                    }}\r\n                                                                >\r\n                                                                    <td {...provided.dragHandleProps}><VscMove /></td><td style={{ minWidth: '300px', backgroundColor: currentPage === i ? 'green' : 'white', color: currentPage === i ? 'white' : 'black' }} onClick={(e) => {\r\n                                                                        recallPage(val.pageValue, window.editor.canvas, i);\r\n                                                                    }} key1={i} key2={'vimlesh'} onDoubleClick={onDoubleClickPageName} suppressContentEditableWarning={true} contentEditable onMouseOut={updatePageName}>{val.pageName}</td><td><button key1={i} onClick={(e) => deletePage(e)}>  <VscTrash style={{ pointerEvents: 'none' }} /></button ></td>\r\n                                                                </tr>\r\n                                                            )}\r\n                                                        </Draggable>\r\n                                                    )\r\n                                                })}\r\n                                            </tbody>\r\n                                        </table>\r\n                                        {provided.placeholder}\r\n                                    </div>\r\n                                )}\r\n                            </Droppable>\r\n                        </DragDropContext>\r\n                    </div>\r\n\r\n                    <div style={{ border: '1px solid black' }}>\r\n                        <b> Image from URL: </b>\r\n                        <input onChange={(e) => setOnlineImageUrl(e.target.value)} size=\"65\" type='text' defaultValue={onlineImageUrl}></input>\r\n                        <button onClick={() => addImagefromUrl(window.editor.canvas, onlineImageUrl)}>Add</button>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <input type='text' size=\"10\" onChange={(e) => setF0(e.target.value)} value={f0}></input>   <button onClick={() => changeText(id, f0)}>Update {id} value</button> <br />\r\n            <input type='text' size=\"10\" onChange={(e) => setF1(e.target.value)} value={f1}></input>   <button onClick={() => changeText(id, f1)}>Update {id} value</button><br />\r\n            <input type='text' size=\"10\" onChange={(e) => setF2(e.target.value)} value={f2}></input>   <button onClick={() => changeText(id, f2)}>Update {id} value</button><br />\r\n        </div>\r\n    </div >)\r\n}\r\n\r\nexport default DrawingController\r\n","import useContextMenu from './useContextMenu'\r\nimport { createText, createRect, createCircle, createTriangle, deleteSelectedItem, deleteAll, bringToFront, sendToBack, undo, redo, lock, unlockAll, toggleMode, groupObjects, copy, paste, alignLeft, alignRight, alignCenter, textUnderline, textLineThrough, textItalic, txtBold, textNormal, removeBg, addImage, setGradientColor, setOpacity } from './DrawingController'\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscTrash, VscLock, VscUnlock } from \"react-icons/vsc\";\r\nimport { AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\n\r\nconst ContextMenu = ({ editor }) => {\r\n  const { xPos, yPos, showMenu } = useContextMenu();\r\n  return (<div>\r\n    {showMenu ? (<div className='rightClickMenu' style={{ position: 'absolute', left: xPos, top: yPos, color: 'white' }}>\r\n      <ul  >\r\n        <li onClick={() => deleteSelectedItem(editor.canvas)}>Delete Selected <VscTrash />\r\n          <ul>\r\n            <li onClick={() => deleteAll(editor.canvas)}>Delete All</li>\r\n          </ul>\r\n        </li>\r\n        <li>setOpacity\r\n          <ul>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.1)}>0.1</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.2)}>0.2</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.3)}>0.3</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.4)}>0.4</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.5)}>0.5</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.6)}>0.6</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.7)}>0.7</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.8)}>0.8</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 0.9)}>0.9</li>\r\n            <li onClick={() => setOpacity(editor.canvas, 1.0)}>1.0</li>\r\n\r\n          </ul>\r\n        </li>\r\n        <li onClick={() => bringToFront(editor.canvas)}>Bring To Front</li>\r\n        <li onClick={() => sendToBack(editor.canvas)}>Send To Back</li>\r\n        <li onClick={() => lock(editor.canvas)}>Lock <VscLock /></li>\r\n        <li onClick={() => unlockAll(editor.canvas)}>Unlock All <VscUnlock /></li>\r\n        <li onClick={() => groupObjects(editor.canvas, true)}>Group Selected</li>\r\n        <li onClick={() => groupObjects(editor.canvas, false)}>UnGroup Selected</li>\r\n        <li>Add<ul >\r\n          <li onClick={() => createText(editor.canvas)}>Text T</li>\r\n          <li onClick={() => createRect(editor.canvas)}>Rectangle <VscPrimitiveSquare /></li>\r\n          <li onClick={() => createCircle(editor.canvas)}>Circle <VscCircleFilled /></li>\r\n          <li onClick={() => createTriangle(editor.canvas)}>Triangle <VscTriangleUp /></li>\r\n          <li onClick={() => addImage()}>Image</li>\r\n        </ul></li>\r\n        <li>Text Align<ul >\r\n          <li onClick={() => alignLeft(editor.canvas)}>Left</li>\r\n          <li onClick={() => alignRight(editor.canvas)}>Right</li>\r\n          <li onClick={() => alignCenter(editor.canvas)}>Center</li>\r\n        </ul></li>\r\n        <li>Text Decoration<ul >\r\n          <li onClick={() => textUnderline(editor.canvas)}>Underline Toggle</li>\r\n          <li onClick={() => textLineThrough(editor.canvas)}>LineThrough Toggle</li>\r\n          <li onClick={() => textItalic(editor.canvas)}>Itallic</li>\r\n          <li onClick={() => txtBold(editor.canvas)}>Bold</li>\r\n          <li onClick={() => textNormal(editor.canvas)}>Normal</li>\r\n          <li onClick={() => removeBg(editor.canvas)}>Remove BG</li>\r\n          <li onClick={() => setGradientColor(editor.canvas)}>setGradientColor</li>\r\n        </ul></li>\r\n        <li onClick={() => redo(editor.canvas)}>Redo <AiOutlineRedo /></li>\r\n        <li onClick={() => undo(editor.canvas)}>Undo <AiOutlineUndo /></li>\r\n        <li onClick={() => copy()}>Copy</li>\r\n        <li onClick={() => paste()}>Paste</li>\r\n        <li onClick={() => toggleMode(\"drawing\", editor.canvas)}>Toggle Draw Mode <VscEdit /></li>\r\n      </ul>\r\n    </div>) : ''}\r\n  </div>);\r\n};\r\n\r\nexport default ContextMenu","import { useSelector } from 'react-redux'\r\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\r\nimport ContextMenu from './ContextMenu'\r\nimport {useEffect} from 'react';\r\nconst Drawing = ({ canvasOutput }) => {\r\n  const { editor, onReady } = useFabricJSEditor();\r\n  const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n  const canvasFromJson = (canvas) => {\r\n    var state2 = state1.replace(new RegExp(String.fromCharCode(2), \"g\"), '\"').replace(new RegExp(String.fromCharCode(3), \"g\"), ' ').replace(new RegExp(String.fromCharCode(4), \"g\"), '/').replace(new RegExp(String.fromCharCode(5), \"g\"), '%')\r\n    const data = (JSON.parse(state2));\r\n    canvas.loadFromJSON(data);\r\n    canvas.requestRenderAll();\r\n  };\r\n  window.ReadToCasparcgfromStore = () => canvasFromJson(editor.canvas)\r\n  window.canvasFromJson = canvasFromJson\r\n  window.editor = editor;\r\n  function cancesetZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', null);\r\n    canvas.on('mouse:down', null);\r\n    canvas.on('mouse:move', null);\r\n    canvas.on('mouse:up', null);\r\n}\r\n\r\nfunction setZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', function (opt) {\r\n        // window.editor.canvas.setBackgroundColor('rgba(255, 73, 64, 0.6)', window.editor.canvas.renderAll.bind(window.editor.canvas));\r\n\r\n        var delta = opt.e.deltaY;\r\n        var zoom = canvas.getZoom();\r\n        zoom *= 0.999 ** delta;\r\n        if (zoom > 20) zoom = 20;\r\n        if (zoom < 0.01) zoom = 0.01;\r\n        // canvas.setZoom(zoom);\r\n        canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\r\n        opt.e.preventDefault();\r\n        opt.e.stopPropagation();\r\n       \r\n    })\r\n\r\n    canvas.on('mouse:down', function (opt) {\r\n        var evt = opt.e;\r\n        if (evt.altKey === true) {\r\n            this.isDragging = true;\r\n            this.selection = false;\r\n            this.lastPosX = evt.clientX;\r\n            this.lastPosY = evt.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:move', function (opt) {\r\n        if (this.isDragging) {\r\n            var e = opt.e;\r\n            var vpt = this.viewportTransform;\r\n            vpt[4] += e.clientX - this.lastPosX;\r\n            vpt[5] += e.clientY - this.lastPosY;\r\n            this.requestRenderAll();\r\n            this.lastPosX = e.clientX;\r\n            this.lastPosY = e.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:up', function (opt) {\r\n        // on mouse up we want to recalculate new interaction\r\n        // for all objects, so we call setViewportTransform\r\n        this.setViewportTransform(this.viewportTransform);\r\n        this.isDragging = false;\r\n        this.selection = true;\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\nuseEffect(() => {\r\n    setTimeout(() => {\r\n        setZoomAndPan(window.editor.canvas);\r\n    }, 2000);\r\n    return () => {\r\n        cancesetZoomAndPan(window.editor.canvas)\r\n    }\r\n}, [])\r\n\r\n  return (<div>\r\n    <FabricJSCanvas className={canvasOutput ? 'canvasOutput' : 'canvas'} onReady={onReady} />\r\n    <ContextMenu editor={editor} />\r\n  </div>);\r\n};\r\nexport default Drawing;\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nconst initialState = {\r\n    element1: []\r\n}\r\nconst reducer1 = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_ELEMENT': return {\r\n            ...state,\r\n            element1: [...state.element1, action.payload]\r\n        }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateOneLiner = {\r\n    onelinerData: [{ id: 1, name: 'Vimlesh Kumar Tanti 1' }, { id: 2, name: 'Vimlesh Kumar Tanti 2' }, { id: 3, name: 'Vimlesh Kumar Tanti 3' }]\r\n}\r\nconst oneLinerReducer = (state = initialStateOneLiner, action) => {\r\n    switch (action.type) {\r\n        case 'UPDATE_ONELINER':\r\n            const updatedOneLinerData = state.onelinerData.map((val) => {\r\n                return val.id === parseInt(action.payload.id) ? { ...val, name: action.payload.name } : val;\r\n            });\r\n            return {\r\n                ...state,\r\n\r\n                onelinerData: [...updatedOneLinerData]\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStateStyle1 = {\r\n    style1: {\r\n        color: 'rgb(255, 255, 255)',\r\n        backgroundColor: 'rgb(80, 3, 124)'\r\n    }\r\n}\r\nconst style1Reducer = (state = initialStateStyle1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_STYLE1':\r\n            return {\r\n                ...state,\r\n\r\n                style1: { ...state.style1, ...action.payload }\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateCanvas1 = { aa:''}\r\n\r\n\r\nconst canvas1Reducer = (state = initialStateCanvas1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_CANVAS1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStatetextEditor1 = { aa: 'Vimlesh Kumar' }\r\n\r\nconst textEditor1Reducer = (state = initialStatetextEditor1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_TEXT1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    reducer1,\r\n    oneLinerReducer,\r\n    style1Reducer,\r\n    canvas1Reducer,\r\n    textEditor1Reducer\r\n\r\n})\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, thunk)))\r\nexport default store","import { useState, useEffect, useRef } from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport Video from './Video';\r\nimport Drawing from './Drawing';\r\nimport { endpoint, address1 } from './common'\r\nimport axios from 'axios'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport DrawingController, { addImage } from './DrawingController';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nexport default function App(props) {\r\n\r\n  const [mediaPath, setmediaPath] = useState();\r\n  // eslint-disable-next-line\r\n  const [remainingTime, setRemainingTime] = useState()\r\n  const [filename, setfilename] = useState('amb');\r\n  const [imageName, setImageName] = useState(`http://${window.location.host}${process.env.PUBLIC_URL}/img/pine-wood-500x500.jpg`)\r\n  const refPreviewContainer = useRef();\r\n  const [media, setMedia] = useState([]);\r\n  const chNumbers = [1, 2, 3, 4, 5, 6];\r\n\r\n  const [chNumber, setChNumber] = useState(1)\r\n\r\n  const animationMethods = [\r\n    'linear',\r\n    'easenone',\r\n    'easeinquad',\r\n    'easeoutquad',\r\n    'easeinoutquad',\r\n    'easeoutinquad',\r\n    'easeincubic',\r\n    'easeoutcubic',\r\n    'easeinoutcubic',\r\n    'easeoutincubic',\r\n    'easeinquart',\r\n    'easeoutquart',\r\n    'easeinoutquart',\r\n    'easeoutinquart',\r\n    'easeinquint',\r\n    'easeoutquint',\r\n    'easeinoutquint',\r\n    'easeoutinquint',\r\n    'easeinsine',\r\n    'easeoutsine',\r\n    'easeinoutsine',\r\n    'easeoutinsine',\r\n    'easeinexpo',\r\n    'easeoutexpo',\r\n    'easeinoutexpo',\r\n    'easeoutinexpo',\r\n    'easeincirc',\r\n    'easeoutcirc',\r\n    'easeinoutcirc',\r\n    'easeoutincirc',\r\n    \"easeinelastic\",\r\n    \"easeoutelastic\",\r\n    \"easeinoutelastic\",\r\n    \"easeoutinelastic\",\r\n    \"easeinback\",\r\n    \"easeoutback\",\r\n    \"easeinoutback\",\r\n    \"easeoutintback\",\r\n    \"easeoutbounce\",\r\n    \"easeinbounce\",\r\n    \"easeinoutbounce\",\r\n    \"easeoutinbounce\",\r\n  ]\r\n  const [animationMethod, setAnimationMethod] = useState('easeinsine')\r\n\r\n  useEffect(() => {\r\n    window.imageName = imageName;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [imageName])\r\n\r\n  useEffect(() => {\r\n    window.animationMethod = animationMethod;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [animationMethod])\r\n\r\n  useEffect(() => {\r\n    window.chNumber = chNumber;\r\n    document.title = `CH #${chNumber} React Caspar Client`;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [chNumber])\r\n\r\n  const connectHandler = () => {\r\n    if (connectbutton.current.style.backgroundColor === \"green\") {\r\n      axios.post(address1 + '/disconnect').then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n    else {\r\n      const data = { host: 'localhost', port: 5250 }\r\n      axios.post(address1 + '/connect', data).then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n\r\n  }\r\n\r\n  const connectbutton = useRef();\r\n\r\n  const refreshMedia = () => {\r\n    axios.post(address1 + '/getmedia').then((aa) => {\r\n      setMedia(aa.data)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(':8080');\r\n    socket.on(\"FromAPI\", data => {\r\n      setRemainingTime(data);\r\n    });\r\n    socket.on(\"Fromccgsocket\", data => {\r\n      setmediaPath(data);\r\n    });\r\n    socket.on(\"connectionStatus\", data => {\r\n      if (data === 'true') {\r\n        connectbutton.current.style.backgroundColor = \"green\";\r\n      }\r\n      else {\r\n        connectbutton.current.style.backgroundColor = \"red\";\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refreshMedia()\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [mediaPath])\r\n\r\n\r\n  const onTabChange = (index, prevIndex) => {\r\n    // console.log(index, prevIndex);\r\n    switch (index) {\r\n      case 0:\r\n        ReactDOM.render(<Provider store={store}><Drawing /></Provider>, document.getElementById('preview-container'))\r\n        break;\r\n      case 1:\r\n        ReactDOM.render(<Video video={address1 + '/media/amb.mp4'} />, document.getElementById('preview-container'))\r\n        break;\r\n      default:\r\n      //nothing\r\n    }\r\n  }\r\n\r\n  const changeAnimationMethod = e => {\r\n    setAnimationMethod(e.target.value);\r\n  }\r\n  const changeChannelNumber = e => {\r\n    setChNumber(e.target.value);\r\n  }\r\n\r\n  return (<React.Fragment>\r\n\r\n    <div className='menu_bar'>\r\n      <button className='connectbutton' style={{}} ref={connectbutton} onClick={connectHandler}>Connect</button> <button className='StopChannelButton' style={{}} onClick={() => endpoint(`clear 1`)}>Stop Channel</button>\r\n      <b> Animation Method: </b><select onChange={e => changeAnimationMethod(e)} value={animationMethod}>\r\n        {animationMethods.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <b>Channel Number:</b>\r\n      <select onChange={e => changeChannelNumber(e)} value={chNumber}>\r\n        {chNumbers.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <span style={{ position: 'absolute', right: '10px' }}><b >Server 2.3 only</b></span>\r\n    </div>\r\n\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      border: '1px dashed blue',\r\n      height: '100vh',\r\n      flexWrap: 'nowrap'\r\n    }}>\r\n      <div style={{ width: '1035px' }} >\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          border: '1px dashed blue',\r\n          height: '100vh',\r\n          flexWrap: 'nowrap'\r\n        }}>\r\n\r\n          <div>\r\n            <div ref={refPreviewContainer} id='preview-container' className='preview-container'>\r\n              <Provider store={store}><Drawing /></Provider>\r\n            </div>\r\n\r\n            <div style={{ backgroundColor: 'grey', border: '2px solid yellow', width: 700, height: 400 }}>\r\n              <h4>Put as below in casparcg.config file and drag screen consumer here</h4>\r\n              <h5>\r\n                &lt;screen&gt;\r\n                &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                &lt;x&gt;0&lt;/x&gt;\r\n                &lt;y&gt;680&lt;/y&gt;\r\n                &lt;width&gt;680&lt;/width&gt;\r\n                &lt;height&gt;325&lt;/height&gt;\r\n\r\n                &lt;/screen&gt;\r\n              </h5>\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div style={{ width: '38vw', minWidth: '400px' }}>\r\n        <Tabs forceRenderTabPanel={true} onSelect={(index, prevIndex) => onTabChange(index, prevIndex)} >\r\n          <TabList>\r\n            <Tab>Drawing</Tab>\r\n            <Tab>Video</Tab>\r\n            <Tab>Help</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <div style={{ border: '4px solid yellow', width: 900 }}>\r\n              <DrawingController />\r\n            </div>\r\n            <b>Select image from casparcg media folder: </b>\r\n            <div style={{ display: 'flex' }}>\r\n\r\n              <div style={{ maxHeight: '200px', overflow: 'scroll', border: '4px solid red' }}>\r\n\r\n                <table border='1' >\r\n                  <tbody>\r\n                    {media.map((val, i) => {\r\n                      return <tr key={i}><td onClick={(e) => {\r\n                        setImageName((address1 + `/media/` + e.target.innerText));\r\n                      }}>{val}</td></tr>\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div style={{ border: '1px solid black' }}>\r\n                <button onClick={refreshMedia}>Refresh Media</button>{media.length} files<br />\r\n                Selected Image  <button onClick={() => addImage(window.editor.canvas)}>Add This Image</button><br />\r\n                <img src={imageName} alt='' width=\"270\" height=\"150\"></img>\r\n              </div>\r\n            </div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Video</h2>\r\n            <div> <input onChange={(e) => setfilename(e.target.value)} value={filename}></input>\r\n              <button className='palyButton' onClick={() => endpoint(`play ${chNumber}-1 \"${filename}\" loop`)}>Play Video</button>\r\n              <button className='stopButton' onClick={() => endpoint(`pause ${chNumber}-1`)}>Pause</button>\r\n              <button className='stopButton' onClick={() => endpoint(`resume ${chNumber}-1`)}>Resume</button>\r\n              <button className='stopButton' onClick={() => endpoint(`stop ${chNumber}-1`)}>Stop</button>\r\n            </div>\r\n            <button onClick={refreshMedia}>Refresh Media</button>{media.length} files<br />\r\n            <div style={{ maxHeight: '300px', maxWidth: '400px', overflow: 'scroll' }}>\r\n              <table border='1' >\r\n                <tbody>\r\n                  {media.map((val, i) => {\r\n                    return <tr key={i}><td onClick={(e) => {\r\n                      setfilename((e.target.innerText).split('.')[0]);\r\n                      var video = document.getElementById('video');\r\n                      var source = document.getElementsByTagName('source')[0];\r\n\r\n                      if ((`${address1}/media/${e.target.innerText}`).match(/\\.(jpeg|jpg|bmp|gif|png)$/) != null) {\r\n                        video.setAttribute(\"poster\", `${address1}/media/${e.target.innerText}`);\r\n                      }\r\n                      else {\r\n                        video.setAttribute(\"poster\", ``);\r\n                        source.setAttribute(\"src\", `${address1}/media/${e.target.innerText}`);\r\n                        video.load();\r\n                      }\r\n                    }\r\n                    }>{val}</td></tr>\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </TabPanel>\r\n\r\n          <TabPanel>\r\n            <h2>Help</h2>\r\n            <ol>\r\n              <li>It works only with server 2.3</li>\r\n              <li> Put as below in casparcg.config file and drag screen consumer below Designer window\r\n                &lt;screen&gt;\r\n                &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                &lt;x&gt;0&lt;/x&gt;\r\n                &lt;y&gt;680&lt;/y&gt;\r\n                &lt;width&gt;690&lt;/width&gt;\r\n                &lt;height&gt;325&lt;/height&gt;\r\n\r\n                &lt;/screen&gt;\r\n              </li>\r\n\r\n              <li>Select same mode and tab menu </li>\r\n              <li>By defalut Drawing mode will open</li>\r\n              <li>In drawing mode first we need to click initialise drawing button</li>\r\n              <li>Select Casparcg Screen Sizes from drop down and click set</li>\r\n              <li>Add some text or rectangle by clicking on buttons and then click Show to Casparcg</li>\r\n\r\n              <li>There is right click menu also for drawing mode. </li>\r\n              <li><a href='https://github.com/vimlesh1975/ReactCasparClient' target='_blank' rel=\"noreferrer\">Github Page</a> </li>\r\n              <li><a href='https://vimlesh1975.github.io/ReactCasparClient/' target='_blank' rel=\"noreferrer\">Github Online Client</a> </li>\r\n\r\n              <li><a href='https://casparcgforum.org/t/react-caspar-client' target='_blank' rel=\"noreferrer\">Casparcg Forum Topic</a> </li>\r\n              <li><a href='https://bit.ly/3jRrhDL' target='_blank' rel=\"noreferrer\">Latest Build</a> </li>\r\n\r\n              <li>test</li>\r\n            </ol>\r\n          </TabPanel>\r\n        </Tabs >\r\n      </div >\r\n\r\n    </div>\r\n\r\n  </React.Fragment>);\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport Drawing from './Drawing';\n\n\nwindow.store = store;\n\nReactDOM.render(\n\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      {/* <Router > */}\n\n      <Switch>\n        <Route exact path='/' render={() => (<App />)} />\n\n        <Route exact path='/drawing' render={() => <Drawing canvasOutput={true} />} />\n      </Switch>\n    </Router>\n  </Provider>,\n\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}