{"version":3,"sources":["common.js","Video.jsx","useContextMenu.js","DrawingController.jsx","ContextMenu.jsx","Drawing.jsx","store.js","CasparcgTools.jsx","ColorGradient.jsx","App.js","reportWebVitals.js","index.js"],"names":["address1","window","location","host","split","endpoint","string","data","axios","post","then","aa","catch","console","log","Video","props","useState","videoWidth","setVideoWidth","videoHeight","setVideoHeight","videoX","setVideoX","videoY","setVideoY","size","width","height","position","x","y","onDrag","e","d","onResize","direction","ref","delta","parseInt","style","className","backgroundColor","id","objectFit","src","video","type","useContextMenu","xPos","setXPos","yPos","setYPos","showMenu","setShowMenu","handleContextMenu","useCallback","clientX","clientY","preventDefault","handleClick","useEffect","document","addEventListener","removeEventListener","fabric","Object","prototype","noScaleCache","screenSizes","Direction","moveSelected","activeObject","editor","canvas","getActiveObject","set","left","top","setCoords","renderAll","util","addListener","body","options","key","which","keyCode","currentMode","currentColor","currentFont","currentFontSize","group","stroke","strokeWidth","shadowOptions","color","blur","offsetX","offsetY","affectStroke","gradient","Gradient","gradientUnits","coords","x1","y1","x2","y2","colorStops","offset","clipPath1","setasClipPath","getActiveObjects","cliptoPath","img","length","forEach","element","shadow","Group","absolutePositioned","sendToBack","remove","requestRenderAll","addClock","sss","Textbox","fill","fontFamily","fontWeight","fontSize","editable","objectCaching","textAlign","add","setActiveObject","setInterval","ss1","Date","toLocaleTimeString","hour12","hour","minute","second","animate","_clipboard","createText","text","Text","padding","onChange","bind","addRoundedCornerImage","imageName1","loadImage","myImg","alert","rect","Rect","rx","ry","Pattern","source","repeat","scaleX","scaleY","createRect","opacity","hasRotatingPoint","strokeUniform","createCircle","circle","Circle","radius","cornerSize","createTriangle","isDrawingMode","triangle","Triangle","deleteSelectedItem","discardActiveObject","deleteAll","getObjects","bringToFront","undo","redo","lock","selectable","unlockAll","ErasedGroup","createClass","original","ErasedPath","initialize","isAlreadyGrouped","this","callSuper","_calcBounds","onlyWidthHeight","aX","aY","jLen","o","j","prop","push","oCoords","_getBounds","EraserBrush","PencilBrush","_finalizeAndAddPath","contextTop","closePath","decimate","_points","decimatePoints","pathData","convertPointsToSVGPath","join","path","createPath","globalCompositeOperation","evented","objects","filter","obj","intersectsWithObject","mergedGroup","newPath","newData","toDataURL","withoutTransform","Image","fromURL","fabricImage","clearContext","_resetShadow","groupObjects","shouldGroup","toGroup","toActiveSelection","changeText","val","toString","chNumber","selectAll","sel","ActiveSelection","copy","clone","cloned","paste","clonedObj","forEachObject","error","DrawingController","fontList","setFontList","setCurrentFont","ss","year","month","day","canvaslist","setCanvaslist","currentPage","setCurentPage","currentscreenSize","setCurrentscreenSize","f0","setF0","f1","setF1","f2","setF2","onlineImageUrl","setOnlineImageUrl","verticalSpeed","setVerticalSpeed","horizontalSpeed","setHorizontalSpeed","ltr","setLtr","currentstrokeLineCap","setCurrentstrokeLineCap","solidcaption1","setSolidcaption1","solidcaption2","setSolidcaption2","logo","setLogo","locationBand","setLocationBand","verticalScroll","setVerticalScroll","horizontalScroll","setHorizontalScroll","clock","setClock","upTimer","setUpTimer","setCurrentMode","onDrawingModeChange","mode","freeDrawingBrush","SprayBrush","strokeLineCap","toggleModeDrawing","fileReader","handleFileRead","result","splice","bb","cc","JSON","parse","currentFile","handleFileRead2","startGraphics","layerNumber","setViewportTransform","animationMethod","setTimeout","toSVG","replaceAll","updateGraphics","stopGraphics","updatePage","useDispatch","useSelector","state","canvas1Reducer","updatedCanvasList","map","i","pageName","toJSON","updatePageName","target","getAttribute","innerText","pageValue","onDoubleClickPageName","event","getSelection","range","createRange","selectNodeContents","removeAllRanges","addRange","localStorage","getItem","item","isEditing","ctrlKey","display","value","setItem","uuidv4","onClick","hh","getBoundingRect","startVerticalScroll","onVerticalSpeedChange","min","max","step","defaultValue","createElement","file","Blob","href","URL","createObjectURL","retVal","prompt","download","appendChild","click","exportVerticalScrollAsHTML","startHorizontalScroll","onHorizontalSpeedChange","exportHorizontalScrollAsHTML","exportClockAsHTML","startTime","diff","getTime","date_diff","toLocaleString","String","getMilliseconds","padStart","addUpTimer","exportUpTimerAsHTML","Tooltip","title","createTextBox","IText","createIText","Ellipse","createEllipse","Line","Blur","createLine","setOpacity1","onFontChange","onSizeChange","onstrokeLineCapChange","changeCurrentColor","changeBackGroundColor","changeStrokeCurrentColor","oldFill","oldStroke","onstrokeSizeChange","border","changeShadowCurrentColor","checked","onBlurSizeChange","onoffsetXChange","onoffsetYChange","colSpan","skewX","onSkewXSizeChange","skewY","onSkewYSizeChange","onRxSizeChange","onRySizeChange","setZoom","getZoom","putat00","arr","Math","alignAllLeft","alignAllRight","alignAllTop","alignAllButtom","accept","reader","FileReader","onload","imgObj","image","scale","readAsDataURL","files","Upload","saveAs","exportHTML1","br","format","exportPng","exportSVG","site_url","loadSVGFromURL","importSVG","stringify","drawingFileSave","name","onloadend","readAsText","overflow","onDragEnd","destination","index","droppableId","provided","snapshot","innerRef","isDraggingOver","droppableProps","draggableId","draggableProps","isDragging","boxShadow","dragHandleProps","minWidth","json","loadFromJSON","recallPage","key1","key2","onDoubleClick","suppressContentEditableWarning","contentEditable","onMouseOut","_","deletePage","pointerEvents","placeholder","ContextMenu","underline","linethrough","Drawing","canvasOutput","useFabricJSEditor","onReady","state1","canvasFromJson","state2","replace","RegExp","fromCharCode","ReadToCasparcgfromStore","on","opt","deltaY","zoom","zoomToPoint","stopPropagation","evt","altKey","selection","lastPosX","lastPosY","vpt","viewportTransform","initialState","element1","initialStateOneLiner","onelinerData","initialStateStyle1","style1","initialStateCanvas1","initialStatetextEditor1","rootReducer","combineReducers","reducer1","action","payload","oneLinerReducer","updatedOneLinerData","style1Reducer","textEditor1Reducer","store","createStore","composeWithDevTools","applyMiddleware","logger","thunk","tools","CasparcgTools","textAreaContent","setTextAreaContent","currentTool","setCurrenttool","rows","cols","marginLeft","ColorGradient","color1","setColor1","color2","setColor2","setDirection","coords1","setCoords1","gradient2","margin","backgroundImage","changeColor1","changeColor2","direction1","htmlFor","r1","r2","App","mediaPath","setmediaPath","setRemainingTime","filename","setfilename","process","imageName","setImageName","refPreviewContainer","useRef","media","setMedia","setChNumber","currentTab","setCurrentTab","searchText","setSearchText","searchText2","setSearchText2","searchedMedia","toLowerCase","search","searchedMedia2","setAnimationMethod","connectbutton","refreshMedia","socket","socketIOClient","current","disconnect","Fragment","port","changeAnimationMethod","changeChannelNumber","right","flexDirection","flexWrap","forceRenderTabPanel","onSelect","prevIndex","onTabChange","maxHeight","maxWidth","getElementById","getElementsByTagName","match","setAttribute","load","alignContent","alignItems","alt","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","exact"],"mappings":"iTACWA,EAAS,UAAaC,OAAOC,SAASC,KAAMC,MAAM,KAAK,GAAI,QAEzDC,EAAW,SAACC,GACrB,IAAMC,EAAO,CAAED,OAAQA,GACvBE,IAAMC,KAAKT,EAAW,YAAaO,GAAMG,MAAK,SAACC,OAE5CC,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,O,eC8B7BI,EAjCD,SAACC,GACX,MAAoCC,mBAAS,MAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAAsCF,mBAAS,KAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAA4BJ,mBAAS,GAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAA4BN,mBAAS,GAArC,mBAAOO,EAAP,KAAeC,EAAf,KAEA,OAAQ,mCACJ,cAAC,IAAD,CACIC,KAAM,CAAEC,MAAOT,EAAYU,OAAQR,GACnCS,SAAU,CAAEC,EAAGR,EAAQS,EAAGP,GAC1BQ,OAAQ,SAACC,EAAGC,GACRX,EAAUW,EAAEJ,GACZL,EAAUS,EAAEH,GACZ1B,EAAS,kBAAD,OAAmB6B,EAAEJ,EAAI,KAAzB,YAAiCI,EAAEH,EAAI,IAAvC,YAA8Cb,EAAa,KAA3D,YAAmEE,EAAc,OAE7Fe,SAAU,SAACF,EAAGG,EAAWC,EAAKC,EAAOT,GAEjCV,EAAcoB,SAASF,EAAIG,MAAMb,QACjCN,EAAekB,SAASF,EAAIG,MAAMZ,SAClCvB,EAAS,kBAAD,OAAmBiB,EAAS,KAA5B,YAAoCE,EAAS,IAA7C,YAAoDe,SAASF,EAAIG,MAAMb,OAAS,KAAhF,YAAwFY,SAASF,EAAIG,MAAMZ,QAAU,OAZrI,SAeI,8BACI,qBAAKa,UAAU,MAAMD,MAAO,CAAEb,MAAOT,EAAYU,OAAQR,EAAasB,gBAAiB,SAAvF,SACI,uBAAOC,GAAG,QAAQhB,MAAOT,EAAYU,OAAQR,EAAaoB,MAAO,CAAEI,UAAW,QAA9E,SACI,wBAAQC,IAAK7B,EAAM8B,MAAOC,KAAK,yB,gBCgBxCC,EA3CQ,WACrB,MAAwB/B,mBAAS,OAAjC,mBAAOgC,EAAP,KAAaC,EAAb,KACA,EAAwBjC,mBAAS,OAAjC,mBAAOkC,EAAP,KAAaC,EAAb,KACA,EAAgCnC,oBAAS,GAAzC,mBAAOoC,EAAP,KAAiBC,EAAjB,KAEMC,EAAoBC,uBACxB,SAACvB,GACKA,EAAEwB,QAAU,MACZxB,EAAEyB,QAAU,MAEhBzB,EAAE0B,iBAEFT,EAAQ,GAAD,OAAIjB,EAAEwB,QAAU,GAAhB,OAEHxB,EAAEyB,QAAU,IAEdN,EAAQ,GAAD,OAAI,GAAJ,OAGPA,EAAQ,GAAD,OAAInB,EAAEyB,QAAU,GAAhB,OAETJ,GAAY,MAGd,CAACJ,EAASE,IAGNQ,EAAcJ,uBAAY,WAC9BH,GAAYC,GAAY,KACvB,CAACD,IAWJ,OATAQ,qBAAU,WAGR,OAFAC,SAASC,iBAAiB,QAASH,GACnCE,SAASC,iBAAiB,cAAeR,GAClC,WACLO,SAASC,iBAAiB,QAASH,GACnCE,SAASE,oBAAoB,cAAeT,OAIzC,CAAEN,OAAME,OAAME,a,wGCzBvBY,SAAOC,OAAOC,UAAUC,cAAe,EAEvC,IAAMC,EAAc,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAI/CC,EACM,EADNA,EAEI,EAFJA,EAGO,EAHPA,EAIM,EAmBV,SAASC,EAAanC,GAClB,IAAIoC,EAAevE,OAAOwE,OAAOC,OAAOC,kBACxC,GAAIH,EAAc,CACd,OAAQpC,GACJ,KAAKkC,EACDE,EAAaI,IAAI,CAAEC,KAAML,EAAaK,KA9BzC,IA+BG,MACJ,KAAKP,EACDE,EAAaI,IAAI,CAAEE,IAAKN,EAAaM,IAjCxC,IAkCG,MACJ,KAAKR,EACDE,EAAaI,IAAI,CAAEC,KAAML,EAAaK,KApCzC,IAqCG,MACJ,KAAKP,EACDE,EAAaI,IAAI,CAAEE,IAAKN,EAAaM,IAvCxC,IA4CLN,EAAaO,YACb9E,OAAOwE,OAAOC,OAAOM,aAnC7Bf,SAAOgB,KAAKC,YAAYpB,SAASqB,KAAM,WAAW,SAAUC,GAIxD,IAAIC,EAAMD,EAAQE,OAASF,EAAQG,QACvB,KAARF,EACAd,EAAaD,GACE,KAARe,EACPd,EAAaD,GACE,KAARe,EACPd,EAAaD,GACE,KAARe,GACPd,EAAaD,MA4BrB,IAAMc,EAAU,CACZI,YAAa,GACbC,aAAc,UACdC,YAAa,QACbC,gBAAiB,GACjBjD,gBAAiB,UAEjBkD,MAAO,GACPC,OAAQ,UACRC,YAAa,GAGJC,EAAgB,CACzBC,MAAO,QACPC,KAAM,GACNC,QAAS,EACTC,QAAS,EACTC,cAAc,GAGPC,EAAW,IAAIpC,SAAOqC,SAAS,CACtCvD,KAAM,SAENwD,cAAe,aACfC,OAAQ,CAAEC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACnCC,WAAY,CACR,CAAEC,OAAQ,EAAGd,MAAO,OACpB,CAAEc,OAAQ,GAAKd,MAAO,UACtB,CAAEc,OAAQ,GAAKd,MAAO,UACtB,CAAEc,OAAQ,GAAKd,MAAO,SACtB,CAAEc,OAAQ,GAAKd,MAAO,QACtB,CAAEc,OAAQ,EAAGd,MAAO,aAIxBe,EAAY,KACHC,EAAgB,SAAAtC,GACzBqC,EAAYrC,EAAOuC,oBAEVC,EAAa,SAAAxC,GACtB,IAAIyC,EAAMzC,EAAOuC,mBACjB,GAAIF,EAAUK,OAAS,GAAKD,EAAIC,OAAS,EAAG,CACxCL,EAAUM,SAAQ,SAAAC,GACdA,EAAQ1C,IAAI,CAAE2C,OAAO,2BAAMxB,GAAP,IAAsBE,KAAM,SAEpD,IAAIL,EAAQ,IAAI3B,SAAOuD,MAAX,YAAqBT,IACjCnB,EAAMhB,IAAI,CAAE6C,oBAAoB,IAChC/C,EAAOgD,WAAW9B,GAClBuB,EAAI,GAAGvC,IAAI,WAAYgB,GACvBmB,EAAUM,SAAQ,SAAAC,GACd5C,EAAOiD,OAAOL,MAElB5C,EAAOkD,qBAIFC,EAAW,SAAAnD,GACpB,IAAMoD,EAAM,IAAI7D,SAAO8D,QAAQ,GAAI,CAC/BR,OAAQxB,EACRlB,KAAM,GACNC,IAAK,IACLnD,MAAO,IACPqG,KAAM,UACNtF,gBAAiB0C,EAAQ1C,gBACzBuF,WAAY7C,EAAQM,YACpBwC,WAAY,OACZC,SAAU/C,EAAQO,gBAClByC,UAAU,EACVC,eAAe,EACfC,UAAW,SACXzC,OAAQ,GACRC,YAAa,EACbnD,GAAI,WAGR+B,EAAO6D,IAAIT,GAAKU,gBAAgBV,GAChCpD,EAAOkD,mBACPa,aAAY,YAqChB,SAAiB/D,EAAQoD,GACrB,IAAIY,GAAM,IAAIC,MAAOC,mBAAmB,QAAS,CAAEC,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC9GlB,EAAIlD,IAAI,CACJ,KAAQ8D,IAEZhE,EAAOkD,mBAzCHqB,CAAQvE,EAAQoD,KACjB,MA0CA,IAuqBHoB,EAvqBSC,EAAa,SAACzE,GAEvB,IAAM0E,EAAO,IAAInF,SAAOoF,KAAK,mKAA2D,CACpF9B,OAAQxB,EACRpD,GAAI,KACJkC,KAAM,IACNC,IAAK,EACLnD,MAAO,IACPqG,KAAM,UAENC,WAAY7C,EAAQM,YACpBwC,WAAY,OACZC,SAAU/C,EAAQO,gBAClByC,UAAU,EACVC,eAAe,EACfC,UAAW,OACXgB,QAAS,IAGb5E,EAAO6D,IAAIa,GAAMZ,gBAAgBY,GACjC1E,EAAOM,YACPoE,EAAKH,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,MAmDlD+E,EAAwB,SAAC/E,EAAQgF,GAE1CzF,SAAOgB,KAAK0E,UAAUD,GAAY,SAAAE,GAE9B,GAAa,MAATA,EACAC,MAAM,cACH,CACH,IAAIC,EAAO,IAAI7F,SAAO8F,KAAK,CACvBlF,KAAM,GACNC,IAAK,GACLe,OAAQ,MACRC,YAAa,EACbnD,GAAI,cACJqH,GAAI,GACJ3B,eAAe,EACfd,OAAQxB,EACRkE,GAAI,KAERvF,EAAO6D,IAAIuB,GAAMtB,gBAAgBsB,GAEjCA,EAAKlF,IAAI,CACLjD,MAAOiI,EAAMjI,MAAOC,OAAQgI,EAAMhI,OAAQoG,KAAM,IAAI/D,SAAOiG,QAAQ,CAAEC,OAAQP,EAAOQ,OAAQ,gBAEhGN,EAAKlF,IAAI,CAAEyF,OAAQ,GAAKC,OAAQ,KAChC5F,EAAOM,iBAoCNuF,EAAa,SAAC7F,GACvB,IAAMoF,EAAO,IAAI7F,SAAO8F,KAAK,CACzBxC,OAAQxB,EACRjB,KAAM,IACND,KAAM,GACNlD,MAAO,IACPC,OAAQ,GACR4I,QAAS,GACTxC,KAAM,kBACNyC,kBAAkB,EAClBpC,eAAe,EACfxC,OAAQT,EAAQS,OAChBC,YAAa,EACb4E,eAAe,EACfV,GAAI,GACJC,GAAI,KAERvF,EAAO6D,IAAIuB,GAAMtB,gBAAgBsB,GACjCpF,EAAOkD,mBACPkC,EAAKb,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,MAwClDiG,EAAe,SAACjG,GACzB,IAAMkG,EAAS,IAAI3G,SAAO4G,OAAO,CAC7BtD,OAAQxB,EACRjB,IAAK,EACLD,KAAM,EACNiG,OAAQ,GACR9C,KAAM,kBACN+C,WAAY,EACZ1C,eAAe,EACfoC,kBAAkB,EAClB5E,OAAQT,EAAQS,OAChBC,YAAa,EACb4E,eAAe,IAGnBhG,EAAO6D,IAAIqC,GAAQpC,gBAAgBoC,GACnClG,EAAOkD,oBAIEoD,EAAiB,SAACtG,GAC3BA,EAAOuG,eAAgB,EACvB,IAAMC,EAAW,IAAIjH,SAAOkH,SAAS,CACjC5D,OAAQxB,EACRjB,IAAK,GACLD,MAAO,IACPlD,MAAO,IACPC,OAAQ,IACRoG,KAAM,kBACN+C,WAAY,EACZ1C,eAAe,EACfoC,kBAAkB,EAClB5E,OAAQT,EAAQS,OAChBC,YAAa,EACb4E,eAAe,IAGnBhG,EAAO6D,IAAI2C,GAAU1C,gBAAgB0C,GACrCxG,EAAOkD,mBACPsD,EAASjC,QAAQ,OAAQ,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,MAuEvD0G,EAAqB,SAAA1G,GAC9BA,EAAOuC,mBAAmBI,SAAQ,SAAAC,GAAa5C,EAAOiD,OAAOL,MAC7D5C,EAAO2G,sBACP3G,EAAOkD,oBAYE0D,EAAY,SAAA5G,GACVA,EAAO6G,aACflE,SAAQ,SAAAC,GAAa5C,EAAOiD,OAAOL,MACtC5C,EAAO2G,sBACP3G,EAAOkD,oBAIE4D,EAAe,SAAA9G,GACxBA,EAAOuC,mBAAmBI,SAAQ,SAAAC,GAAO,OAAI5C,EAAO8G,aAAalE,MACjE5C,EAAO2G,sBACP3G,EAAOkD,oBAGEF,GAAa,SAAAhD,GACtBA,EAAOuC,mBAAmBI,SAAQ,SAAAC,GAAO,OAAI5C,EAAOgD,WAAWJ,MAC/D5C,EAAO2G,sBACP3G,EAAOkD,oBAIE6D,GAAO,SAAA/G,GAAM,OAAIA,EAAO+G,QACxBC,GAAO,SAAAhH,GAAM,OAAIA,EAAOgH,QAUxBC,GAAO,SAAAjH,GAChBA,EAAOuC,mBAAmBI,SAAQ,SAAAC,GAAO,OAAIA,EAAQsE,YAAa,KAClElH,EAAO2G,sBACP3G,EAAOkD,oBAKEiE,GAAY,SAAAnH,GACVA,EAAO6G,aACflE,SAAQ,SAAAC,GAAO,OAAIA,EAAQsE,YAAa,MAGzCE,GAAc7H,SAAOgB,KAAK8G,YAAY9H,SAAOuD,MAAO,CACtDwE,SAAU,KACVC,WAAY,KACZC,WAAY,SAAUF,EAAUC,EAAY7G,EAAS+G,GACjDC,KAAKJ,SAAWA,EAChBI,KAAKH,WAAaA,EAClBG,KAAKC,UAAU,aAAc,CAACD,KAAKJ,SAAUI,KAAKH,YAAa7G,EAAS+G,IAG5EG,YAAa,SAAUC,GACnB,IAAMC,EAAK,GACPC,EAAK,GACLzL,EAAQ,CAAC,KAAM,KAAM,KAAM,MAC3B0L,EAAO1L,EAAMoG,OAGbuF,EAAIP,KAAKJ,SACbW,EAAE5H,WAHe,GAIjB,IAAK,IAAI6H,EAAI,EAAGA,EAAIF,EAAME,IAAK,CAC3B,IAAIC,EAAO7L,EAAM4L,GACjBJ,EAAGM,KAAKH,EAAEI,QAAQF,GAAM/K,GACxB2K,EAAGK,KAAKH,EAAEI,QAAQF,GAAM9K,GAG5BqK,KAAKY,WAAWR,EAAIC,EAAIF,MAG1BU,GAAchJ,SAAOgB,KAAK8G,YAAY9H,SAAOiJ,YAAa,CAO5DC,oBAAqB,WAAa,IAAD,OACnBf,KAAK1H,OAAO0I,WAClBC,YACAjB,KAAKkB,WACLlB,KAAKmB,QAAUnB,KAAKoB,eAAepB,KAAKmB,QAASnB,KAAKkB,WAE1D,IAAIG,EAAWrB,KAAKsB,uBAAuBtB,KAAKmB,SAASI,KAAK,IAC9D,GAAiB,0BAAbF,EAAJ,CAUA,IAAIG,EAAOxB,KAAKyB,WAAWJ,GAC3BG,EAAKE,yBAA2B,kBAChCF,EAAKhC,YAAa,EAClBgC,EAAKG,SAAU,EACfH,EAAKnG,oBAAqB,EAG1B,IAAMuG,EAAU5B,KAAK1H,OAAO6G,aAAa0C,QAAO,SAACC,GAG7C,QAAKA,aAAejK,SAAO8F,MAAqB,gBAAXmE,EAAIvL,OACpCuL,EAAIC,qBAAqBP,MAIlC,GAAII,EAAQ5G,OAAS,EAAG,CAEpB,IAAMgH,EAAc,IAAInK,SAAOuD,MAAMwG,GAC/BK,EAAU,IAAIvC,GAAYsC,EAAaR,GACvC/I,EAAOwJ,EAAQxJ,KACfC,EAAMuJ,EAAQvJ,IAEdwJ,EAAUD,EAAQE,UAAU,CAC9BC,kBAAkB,IAEtBvK,SAAOwK,MAAMC,QAAQJ,GAAS,SAACK,GAAiB,IAAD,EAC3CA,EAAY/J,IAAI,CACZC,KAAMA,EACNC,IAAKA,EACLyC,OAAO,2BAAMxB,GAAP,IAAsBE,KAAM,OAGtC,IAAKvB,QAAOiD,OAAZ,oBAAsBqG,IACtB,EAAKtJ,OAAO6D,IAAIoG,MAIxBvC,KAAK1H,OAAOkK,aAAaxC,KAAK1H,OAAO0I,YACrChB,KAAK1H,OAAOM,YACZoH,KAAKyC,oBA5CDzC,KAAK1H,OAAOkD,sBA+KXkH,GAAe,SAACpK,EAAQqK,GACjC,GAAIA,EAAa,CACb,IAAKrK,EAAOC,kBACR,OAEJ,GAAsC,oBAAlCD,EAAOC,kBAAkB5B,KACzB,OAEJ2B,EAAOC,kBAAkBqK,UAAUpK,IAAI,CAAE2C,OAAQxB,IACjDrB,EAAOkD,uBAGN,CACD,IAAKlD,EAAOC,kBACR,OAEJ,GAAsC,UAAlCD,EAAOC,kBAAkB5B,KACzB,OAEJ2B,EAAOC,kBAAkBsK,oBACdvK,EAAO6G,aACflE,SAAQ,SAAAC,GAAO,OAAIA,EAAQ1C,IAAI,CAAEyD,eAAe,EAAOd,OAAQxB,OAClErB,EAAOkD,qBAoDTsH,GAAa,SAAC7J,EAAK8J,GACrBlP,OAAOwE,OAAOC,OAAO6G,aAAalE,SAAQ,SAACC,GACnCA,EAAQ3E,KAAO0C,IACfiC,EAAQ1C,IAAI,CAAEwE,KAAM+F,EAAIC,aACxBnP,OAAOwE,OAAOC,OAAOkD,uBAG7BvH,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,yFAAwGhK,EAAxG,iCAAoI8J,EAApI,uDAGCG,GAAY,SAAC5K,GACtBA,EAAO2G,sBACP,IAAIkE,EAAM,IAAItL,SAAOuL,gBAAgB9K,EAAO6G,aAAc,CACtD7G,OAAQA,IAEZA,EAAO8D,gBAAgB+G,GACvB7K,EAAOkD,oBAQE6H,GAAO,WAAO,IAAD,EACtB,UAAAxP,OAAOwE,OAAOC,OAAOC,yBAArB,SAAwC+K,OAAM,SAAAC,GAC1CzG,EAAayG,IACd,CAAC,QAGKC,GAAQ,WACjB,IAAK,IAAD,EAGU,QAAV,EAAA1G,SAAA,SAAYwG,OAAM,SAAAG,GACd5P,OAAOwE,OAAOC,OAAO2G,sBACrBwE,EAAUjL,IAAI,CACVC,KAAMgL,EAAUhL,KAAO,GACvBC,IAAK+K,EAAU/K,IAAM,GACrBiJ,SAAS,EACT1F,eAAe,IAEI,oBAAnBwH,EAAU9M,MAEV8M,EAAUnL,OAASzE,OAAOwE,OAAOC,OACjCmL,EAAUC,eAAc,SAAA5B,GACpBjO,OAAOwE,OAAOC,OAAO6D,IAAI2F,MAG7B2B,EAAU9K,aAEV9E,OAAOwE,OAAOC,OAAO6D,IAAIsH,GAE7B3G,EAAWpE,KAAO,GAClBoE,EAAWrE,MAAQ,GACnB5E,OAAOwE,OAAOC,OAAO8D,gBAAgBqH,GACrC5P,OAAOwE,OAAOC,OAAOkD,qBACtB,CAAC,OACN,MAAOmI,GACLlG,MAAMkG,KAqkCCC,GAjkCW,SAAC,GAAiB,EAAfX,SAAgB,IAAD,EACxC,EAAgCpO,mBAAS,CACrC,YACA,UACA,SACA,WACA,kBACA,QACA,UACA,UACA,WACA,kBACA,OACA,SAZJ,mBAAOgP,EAAP,KAAiBC,EAAjB,KAeA,EAAsCjP,mBAAS,SAA/C,mBAAOyE,EAAP,KAAoByK,EAApB,KACIC,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAChK,EAAoC/H,mBAAS,CAAC,CAAE,SAAYmP,EAAK,YAAa,UAAa,MAA3F,mBAAOI,EAAP,KAAmBC,EAAnB,KAEA,EAAqCxP,mBAAS,GAA9C,mBAAOyP,EAAP,KAAoBC,EAApB,KACA,EAAkD1P,mBAAS,MAA3D,mBAAO2P,EAAP,KAA0BC,GAA1B,KACA,GAAoB5P,mBAAS,iBAA7B,qBAAO6P,GAAP,MAAWC,GAAX,MACA,GAAoB9P,mBAAS,mBAA7B,qBAAO+P,GAAP,MAAWC,GAAX,MACA,GAAoBhQ,mBAAS,iBAA7B,qBAAOiQ,GAAP,MAAWC,GAAX,MACA,GAA4ClQ,mBAAS,gFAArD,qBAAOmQ,GAAP,MAAuBC,GAAvB,MACA,GAA0CpQ,mBAAS,IAAnD,qBAAOqQ,GAAP,MAAsBC,GAAtB,MACA,GAA8CtQ,mBAAS,IAAvD,qBAAOuQ,GAAP,MAAwBC,GAAxB,MACA,GAAsBxQ,oBAAS,GAA/B,qBAAOyQ,GAAP,MAAYC,GAAZ,MAGA,GAAwD1Q,mBAAS,SAAjE,qBAAO2Q,GAAP,MAA6BC,GAA7B,MAMA,GAA0C5Q,mBAAS,IAAnD,qBAAO6Q,GAAP,MAAsBC,GAAtB,MACA,GAA0C9Q,mBAAS,IAAnD,qBAAO+Q,GAAP,MAAsBC,GAAtB,MACA,GAAwBhR,mBAAS,IAAjC,qBAAOiR,GAAP,MAAaC,GAAb,MACA,GAAwClR,mBAAS,IAAjD,qBAAOmR,GAAP,MAAqBC,GAArB,MAEA,GAA4CpR,mBAAS,IAArD,qBAAOqR,GAAP,MAAuBC,GAAvB,MACA,GAAgDtR,mBAAS,IAAzD,qBAAOuR,GAAP,MAAyBC,GAAzB,MACA,GAA0BxR,mBAAS,IAAnC,qBAAOyR,GAAP,MAAcC,GAAd,MACA,GAA8B1R,mBAAS,IAAvC,qBAAO2R,GAAP,MAAgBC,GAAhB,MAGA,GAAsC5R,mBAAS,QAA/C,qBAAOuE,GAAP,MAAoBsN,GAApB,MAGMC,GAAsB,SAACC,EAAMtO,GAC/BoO,GAAeE,GACF,SAATA,GAIAtO,EAAOuG,eAAgB,EAId,WAAT+H,GACAtO,EAAOuO,iBAAmB,IAAIhP,SAAOiJ,YAAYxI,GACjDA,EAAOuO,iBAAiBjN,MAAQZ,EAAQS,OACxCnB,EAAOuO,iBAAiBtR,MAAQyD,EAAQU,aAE1B,UAATkN,GACLtO,EAAOuO,iBAAmB,IAAIhP,SAAOiP,WAAWxO,GAChDA,EAAOuO,iBAAiBjN,MAAQZ,EAAQS,OACxCnB,EAAOuO,iBAAiBtR,MAAQyD,EAAQU,aAG1B,UAATkN,IACLtO,EAAOuO,iBAAmB,IAAIhG,GAAYvI,GAC1CA,EAAOuO,iBAAiBjN,MAAQ,QAChCtB,EAAOuO,iBAAiBtR,MAAQyD,EAAQU,aAE5CpB,EAAOuO,iBAAiBE,cAAgBvB,IAvBpClN,EAAOuG,eAAgB,GA0B/BhL,OAAO8S,oBAAsBA,GAK7B9S,OAAOmT,kBAJmB,SAAC1O,GACvBA,EAAOuG,eAAgB,EACvB6H,GAAe,SAInB,IAyDIO,GAzDE1Q,GAAK,KA0DL2Q,GAAiB,SAACrR,GACpB,IACItB,EADY0S,GAAWE,OACVnT,MAAM,QACvBO,EAAG6S,QAAQ,GACX,IAAIC,EAAK,GACT9S,EAAG0G,SAAQ,SAAAC,GACP,IAAIoM,EAAKC,KAAKC,MAAMtM,GACpBmM,EAAG3G,KAAK4G,MAEZjD,EAAc,GAAD,OAAKgD,KAElBI,GAAc,MAmBZC,GAAkB,SAAC7R,GACrB,IACItB,EADY0S,GAAWE,OACVnT,MAAM,QACvBO,EAAG6S,QAAQ,GACX,IAAIC,EAAE,YAAOjD,GACb7P,EAAG0G,SAAQ,SAAAC,GACP,IAAIoM,EAAKC,KAAKC,MAAMtM,GACpBmM,EAAG3G,KAAK4G,MAEZjD,EAAc,YAAIgD,KAgYhBM,GAAgB,SAACrP,EAAQsP,GAE3BtP,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAE5C5T,EAAS,SAAD,OAAUJ,OAAOoP,SAAjB,YAA6B2E,EAA7B,2BAA2D/T,OAAOiU,kBAC1EC,YAAW,WACP9T,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,YAA4B2E,EAA5B,uBACT,KAEHG,YAAW,WACP9T,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,YAA4B2E,EAA5B,0IAGStP,EAAO0P,QAASC,WAAW,IAAK,OAHzC,iLAO6B,IAApBzD,EAPT,sFAUT,KAEHuD,YAAW,WACP9T,EAAS,SAAD,OAAUJ,OAAOoP,SAAjB,YAA6B2E,EAA7B,4BAA4D/T,OAAOiU,oBAC5E,MAGDI,GAAiB,SAAC5P,EAAQsP,GAC5B3T,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,YAA4B2E,EAA5B,0CACatP,EAAO0P,QAASC,WAAW,IAAK,OAD7C,wBAINE,GAAe,SAAAP,GACjB3T,EAAS,SAAD,OAAUJ,OAAOoP,SAAjB,YAA6B2E,EAA7B,4BAA4D/T,OAAOiU,kBAC3EC,YAAW,WACP9T,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,YAA4B2E,MACrC,MAkCDQ,IA9BWC,cAMFC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,eAAejU,MAwBtC,SAAC+D,GAChB,IAAMmQ,EAAoBrE,EAAWsE,KAAI,SAAC3F,EAAK4F,GAC3C,OAAQA,IAAMrE,EAAe,CAAE,SAAYvB,EAAI6F,SAAU,UAAatQ,EAAOuQ,OAAO,CAAC,QAAW9F,KAEpGsB,EAAc,YAAIoE,MAGhBK,GAAiB,SAAAjT,GACnB,IAAM4S,EAAoBrE,EAAWsE,KAAI,SAAC3F,EAAK4F,GAC3C,OAAQA,IAAMxS,SAASN,EAAEkT,OAAOC,aAAa,SAAY,CAAE,SAAYnT,EAAEkT,OAAOE,UAAW,UAAalG,EAAImG,WAAcnG,KAE9HsB,EAAc,YAAIoE,KAEhBU,GAAwB,SAACC,GAC3BA,EAAM7R,iBACN,IAAI4L,EAAMtP,OAAOwV,eACbC,EAAQ5R,SAAS6R,cACrBD,EAAME,mBAAmBJ,EAAML,QAC/B5F,EAAIsG,kBACJtG,EAAIuG,SAASJ,IAkEjB,OApDA7R,qBAAU,WAKN,OAJAgN,GAAqBkF,aAAaC,QAAQ,0BAC1CxV,IAAMC,KAAK,kCAAkCC,MAAK,SAACC,GAC/CuP,EAAYvP,EAAGJ,SAChBK,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,MACjC,eAER,IAcHkD,qBAAU,WA0BN,OAzBA5D,OAAO8D,iBAAiB,WAAW,SAAA9B,GAE/B,IAAIA,EAAEmI,OAAN,CAUA,GANc,WAAVnI,EAAEoD,KACFpF,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAEvB,YAAdA,EAAKlT,MAAuBkT,EAAKC,WAAcjW,OAAOwE,OAAOC,OAAOiD,OAAOsO,MAGtFhU,EAAEkU,SAAqB,MAAVlU,EAAEoD,IAAa,CAC5B,IAAM4Q,EAAOhW,OAAOwE,OAAOC,OAAOuC,mBAAmB,GAC/B,aAAX,OAAJgP,QAAI,IAAJA,OAAA,EAAAA,EAAMlT,QAAP,OAA8BkT,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAMC,YAAczG,KAE5D,GAAIxN,EAAEkU,SAAqB,MAAVlU,EAAEoD,IAAa,CAC5B,IAAM4Q,EAAOhW,OAAOwE,OAAOC,OAAOuC,mBAAmB,GAC/B,aAAX,OAAJgP,QAAI,IAAJA,OAAA,EAAAA,EAAMlT,QAAP,OAA8BkT,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAMC,YAActG,KAExD3N,EAAEkU,SAAqB,MAAVlU,EAAEoD,KACfpF,OAAOwE,OAAOC,OAAO+G,WAItB,WACHxL,OAAO+D,oBAAoB,UAAW,SAE3C,IAGC,sBAAKxB,MAAO,CAAE4T,QAAS,QAAvB,UACI,sBAAK5T,MAAO,CAAEb,MAAO,IAAKe,gBAAiB,WAA3C,UACI,sBAAKD,UAAU,kBAAf,UACI,gDADJ,0BAE2B,yBAAQ4T,MAAOzF,EAAmBrH,SAAU,SAAAtH,GAC/D4O,GAAqB5O,EAAEkT,OAAOkB,OAC9BN,aAAaO,QAAQ,wBAAyBrU,EAAEkT,OAAOkB,QAFpC,eAIlBhS,EAAYyQ,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,kBAJ7B,UAO3B,sBAAK9T,UAAU,kBAAf,UACI,mDAEA,wBAAQ+T,QAAS,WAAO,IAAD,EACnBzC,GAAc9T,OAAOwE,OAAOC,OAAQ,KACpCqN,GAAgB,UAACvB,EAAWE,UAAZ,aAAC,EAAyBsE,WAF9C,SAIE,cAAC,IAAD,MACF,wBAAQwB,QAAS,kBAAMlC,GAAerU,OAAOwE,OAAOC,OAAQ,MAA5D,oBACA,wBAAQjC,UAAU,aAAa+T,QAAS,WACpCjC,GAAa,KACbxC,GAAiB,KAFrB,SAII,cAAC,IAAD,MACJ,qCAAQD,GAAR,UAEJ,sBAAKrP,UAAU,kBAAf,UACI,mDACA,yBAAQ+T,QAAS,WAAO,IAAD,EACnBzC,GAAc9T,OAAOwE,OAAOC,OAAQ,KACpCuN,GAAgB,UAACzB,EAAWE,UAAZ,aAAC,EAAyBsE,WAF9C,UAIE,cAAC,IAAD,IAJF,QAFJ,KAM6B,wBAAQwB,QAAS,kBAAMlC,GAAerU,OAAOwE,OAAOC,OAAQ,MAA5D,oBACzB,wBAAQjC,UAAU,aAAa+T,QAAS,WACpCjC,GAAa,KACbtC,GAAiB,KAFrB,SAGI,cAAC,IAAD,MACJ,qCAAQD,GAAR,UAGJ,sBAAKvP,UAAU,kBAAf,UACI,wCAEA,yBAAQ+T,QAAS,WAAO,IAAD,EACnBzC,GAAc9T,OAAOwE,OAAOC,OAAQ,KACpCyN,GAAO,UAAC3B,EAAWE,UAAZ,aAAC,EAAyBsE,WAFrC,UAIE,cAAC,IAAD,IAJF,QAKA,wBAAQwB,QAAS,kBAAMlC,GAAerU,OAAOwE,OAAOC,OAAQ,MAA5D,oBACA,wBAAQjC,UAAU,aAAa+T,QAAS,WACpCjC,GAAa,KACbpC,GAAQ,KAFZ,SAGI,cAAC,IAAD,MACJ,qCAAQD,GAAR,UAGJ,sBAAKzP,UAAU,kBAAf,UACI,iDACA,yBAAQ+T,QAAS,WAAO,IAAD,EACnBzC,GAAc9T,OAAOwE,OAAOC,OAAQ,KACpC2N,GAAe,UAAC7B,EAAWE,UAAZ,aAAC,EAAyBsE,WAF7C,UAIE,cAAC,IAAD,IAJF,QAKA,wBAAQwB,QAAS,kBAAMlC,GAAerU,OAAOwE,OAAOC,OAAQ,MAA5D,oBACA,wBAAQjC,UAAU,aAAa+T,QAAS,WACpCjC,GAAa,KACblC,GAAgB,KAFpB,SAGI,cAAC,IAAD,MACJ,qCAAQD,GAAR,UAGJ,sBAAK3P,UAAU,kBAAf,UACI,4CADJ,KACwB,yBAAQ+T,QAAS,WAAO,IAAD,KA5U/B,SAAC9R,GAAY,IAAD,EACpCA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAI+R,GAAK,UAAC/R,EAAOC,yBAAR,eAA4B+R,kBAAkB9U,QAAS,IAChEvB,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,yBACRhP,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,kIAGS3K,EAAO0P,QAASC,WAAW,IAAK,OAHzC,qHAKgDoC,EALhD,gGAMmEA,EANnE,qEAQ6B,IAApB7F,EART,wFAUGU,GAVH,kIAwUQqF,CAAmB,UAAC1W,OAAOwE,cAAR,aAAC,EAAeC,QACnC6N,GAAiB,UAAC/B,EAAWE,UAAZ,aAAC,EAAyBsE,WAF3B,UAGjB,cAAC,IAAD,IAHiB,OAIpB,wBAAQwB,QAAS,kBAAMnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,oBAA/B,SAA0E,cAAC,IAAD,MAC1E,yBAAQmH,QAAS,kBAAMnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,uBAAuCiC,GAAvC,OAA/B,cAA0F,cAAC,IAAD,OAC1F,wBAAQ7O,UAAU,aAAa+T,QAAS,WACpCnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,SACRkD,GAAkB,KAFtB,SAGI,cAAC,IAAD,MAVR,SAWU,uBAAO/P,MAAO,CAAEb,MAAO,QAAU4H,SAAU,SAAAtH,GAAC,OA5mBpC,SAACA,GAC3BsP,GAAiBtP,EAAEkT,OAAOkB,OAC1BhW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,uBAAuCpN,EAAEkT,OAAOkB,MAAhD,MA0mB0DO,CAAsB3U,IAAIc,KAAK,SAAS8T,IAAI,IAAIC,IAAI,IAAIC,KAAK,OAAOC,aAAa,QAEvI,wBAAQR,QAAS,kBArhBE,SAAA9R,GAAW,IAAD,EACzCA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAI+R,GAAK,UAAC/R,EAAOC,yBAAR,eAA4B+R,kBAAkB9U,QAAS,IAC1D0F,EAAUxD,SAASmT,cAAc,KACnCtW,EAAE,uUAUNA,GAAM,QAAU+D,EAAO0P,QAAU,SACjCzT,GAAE,+LAIsD8V,EAJtD,gGAKyEA,EALzE,qEAOmC,IAApB7F,EAPf,wFASSU,GATT,uKAeF3Q,GAAE,6CAGF,IAAMuW,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,cACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GACnC,IAAI9G,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EAAS,QAC5BzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SA4euBC,CAA2B3X,OAAOwE,OAAOC,SAAhE,qBACA,qCAAQ4N,GAAR,UAEJ,sBAAK7P,UAAU,kBAAf,UACI,4CACA,wBAAQ+T,QAAS,WAAO,IAAD,KAvUT,SAAC9R,GAAY,IAAD,EACtCA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAI+R,EAAE,UAAI/R,EAAOC,yBAAX,aAAG,EAA4B+R,kBAAkB/U,MACvDtB,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,yBACRhP,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,kIAGS3K,EAAO0P,QAASC,WAAW,IAAK,OAHzC,oHAK+CoC,EAL/C,2FAM8DA,EAN9D,2CAO6B,IAApB7F,EAPT,0FASIY,GATJ,2BAUDE,GAVC,8OAc6C+E,EAd7C,kIAkBaA,EAlBb,yKAqBoC7F,EArBpC,4BAqByE6F,EArBzE,iDAmUQoB,CAAqB,UAAC5X,OAAOwE,cAAR,aAAC,EAAeC,QACrC+N,GAAmB,UAACjC,EAAWE,UAAZ,aAAC,EAAyBsE,WAFjD,SAGG,cAAC,IAAD,MACH,yBAAQwB,QAAS,kBAAMnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,oBAA/B,cAA2E,cAAC,IAAD,OAC3E,yBAAQmH,QAAS,kBAAMnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,uBAAuCmC,GAAvC,OAA/B,cAA4F,cAAC,IAAD,OAC5F,wBAAQ/O,UAAU,aAAa+T,QAAS,WACpCnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,SACRoD,GAAoB,KAFxB,SAGI,cAAC,IAAD,MAXR,SAYU,uBAAOjQ,MAAO,CAAEb,MAAO,QAAU4H,SAAU,SAAAtH,GAAC,OAznBlC,SAACA,GAC7BwP,GAAmBxP,EAAEkT,OAAOkB,OAC5BhW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,uBAAuCpN,EAAEkT,OAAOkB,MAAhD,MAunB0DyB,CAAwB7V,IAAIc,KAAK,SAAS8T,IAAI,IAAIC,IAAI,IAAIC,KAAK,OAAOC,aAAa,QACzI,wBAAQR,QAAS,kBAzfI,SAAA9R,GAAW,IAAD,EAC3CA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAI+R,GAAK,UAAC/R,EAAOC,yBAAR,eAA4B+R,kBAAkB/U,OAAQ,IACzD2F,EAAUxD,SAASmT,cAAc,KACnCtW,EAAE,uUAUNA,GAAM,QAAU+D,EAAO0P,QAAU,SACjCzT,GAAE,8LAIqD8V,EAJrD,2FAKoEA,EALpE,2CAMmC,IAApB7F,EANf,wFAQSY,GART,2BASKE,GATL,oNAa6C+E,EAb7C,6GAiBmBA,EAjBnB,sLAoB6CA,EApB7C,4BAoBmEA,EApBnE,sEAyBF9V,GAAE,6CAGF,IAAMuW,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,cACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GACnC,IAAI9G,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EAAS,QAC5BzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SAscuBI,CAA6B9X,OAAOwE,OAAOC,SAAlE,qBACA,uBAdJ,IAcW,mDAdX,KAcyC,uBAAO3B,KAAK,WAAWsT,MAAO3E,GAAKnI,SAAU,SAAAtH,GAAC,OAAI0P,IAAO,SAAAxC,GAAG,OAAKA,QACtG,qCAAQqD,GAAR,UAEJ,sBAAK/P,UAAU,kBAAf,UACI,wCACA,wBAAQ+T,QAAS,kBAAM3O,EAAS5H,OAAOwE,OAAOC,SAA9C,4BACA,wBAAQ8R,QAAS,WAAO,IAAD,EAzTnB9R,KA0TWzE,OAAOwE,OAAOC,QAzTlCuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GAEVrE,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,yBACRhP,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,kIAGS3K,EAAO0P,QAASC,WAAW,IAAK,OAHzC,mKAQ6B,IAApBzD,EART,qYAsTQ+B,GAAQ,UAACnC,EAAWE,UAAZ,aAAC,EAAyBsE,WAFtC,SAGG,cAAC,IAAD,MACH,wBAAQvS,UAAU,aAAa+T,QAAS,WACpCnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,SACRsD,GAAS,KAFb,SAGI,cAAC,IAAD,MACJ,wBAAQ6D,QAAS,kBAldP,SAAA9R,GACtBA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C,IAAM3M,EAAUxD,SAASmT,cAAc,KACnCtW,EAAE,iVAWNA,GAAM,QAAU+D,EAAO0P,QAAU,SACjCzT,GAAE,+UAUuC,IAApBiQ,EAVnB,6YAmBF,IAAMsG,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,cACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GACnC,IAAI9G,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EAAS,QAC5BzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SAyauBK,CAAkB/X,OAAOwE,OAAOC,SAAvD,qBACA,qCAAQgO,GAAR,UAEJ,sBAAKjQ,UAAU,kBAAf,UACI,iDACA,wBAAQ+T,QAAS,kBAnkDX,SAAA9R,GACtB,IAAMoD,EAAM,IAAI7D,SAAO8D,QAAQ,GAAI,CAC/BR,OAAQxB,EACRlB,KAAM,GACNC,IAAK,IACLnD,MAAO,IACPqG,KAAM,UACNtF,gBAAiB0C,EAAQ1C,gBACzBuF,WAAY7C,EAAQM,YACpBwC,WAAY,OACZC,SAAU/C,EAAQO,gBAClByC,UAAU,EACVC,eAAe,EACfC,UAAW,SACXzC,OAAQ,GACRC,YAAa,EACbnD,GAAI,aAER+B,EAAO6D,IAAIT,GAAKU,gBAAgBV,GAChCpD,EAAOkD,mBACP,IAAIqQ,EAAY,IAAItP,KACpBF,aAAY,WACR,IAAIyP,GAAQ,IAAIvP,MAAQwP,UAAYF,EAAUE,UAC1CC,EAAY,IAAIzP,KAAKuP,EAAO,MAC5BxP,EAAM0P,EAAUC,eAAe,QAAS,CAAEtP,OAAQ,UAAWC,OAAQ,YAAe,IAAMsP,OAAOF,EAAUG,mBAAmBC,SAAS,EAAG,KAC9I1Q,EAAIlD,IAAI,CACJ,KAAQ8D,IAEZhE,EAAOkD,qBACR,IAsiDoC6Q,CAAWxY,OAAOwE,OAAOC,SAAhD,4BACA,wBAAQ8R,QAAS,WAAO,IAAD,EA/SjB9R,KAgTWzE,OAAOwE,OAAOC,QA/SpCuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACVrE,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,yBACRhP,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,kIAGS3K,EAAO0P,QAASC,WAAW,IAAK,OAHzC,iKAO6B,IAApBzD,EAPT,qkBA6SQiC,GAAU,UAACrC,EAAWE,UAAZ,aAAC,EAAyBsE,WAFxC,SAGG,cAAC,IAAD,MACH,wBAAQvS,UAAU,aAAa+T,QAAS,WACpCnW,EAAS,QAAD,OAASJ,OAAOoP,SAAhB,SACRwD,GAAW,KAFf,SAGI,cAAC,IAAD,MACJ,wBAAQ2D,QAAS,kBApbL,SAAA9R,GACxBA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C,IAAM3M,EAAUxD,SAASmT,cAAc,KACnCtW,EAAE,iVAWNA,GAAM,QAAU+D,EAAO0P,QAAU,SACjCzT,GAAE,2UAQuC,IAApBiQ,EARnB,mkBAoBF,IAAMsG,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,cACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GACnC,IAAI9G,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EAAS,QAC5BzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SA0YuBe,CAAoBzY,OAAOwE,OAAOC,SAAzD,qBACA,qCAAQkO,GAAR,UAEJ,sBAAKnQ,UAAU,kBAAf,UACI,oDACA,yBAAQ+T,QAAS,kBAAMjM,EAAWtK,OAAOwE,OAAOC,SAAhD,cAA0D,cAAC,IAAD,OAC1D,cAACiU,EAAA,EAAD,CAASC,MAAM,qBAAf,SAAoC,wBAAQpC,QAAS,kBA3/C5C,SAAC9R,GAE1B,IAAM0E,EAAO,IAAInF,SAAO8D,QAAQ,mKAA2D,CACvFR,OAAQxB,EACRpD,GAAI,KACJkC,KAAM,IACNC,IAAK,EACLnD,MAAO,IACPqG,KAAM,UAENC,WAAY7C,EAAQM,YACpBwC,WAAY,OACZC,SAAU/C,EAAQO,gBAClByC,UAAU,EACVC,eAAe,EACfC,UAAW,OACXgB,QAAS,IAGb5E,EAAO6D,IAAIa,GAAMZ,gBAAgBY,GACjC1E,EAAOM,YACPoE,EAAKH,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,KAs+CgBmU,CAAc5Y,OAAOwE,OAAOC,SAAnD,kBACpC,cAACiU,EAAA,EAAD,CAASC,MAAM,uBAAf,SAAsC,wBAAQpC,QAAS,kBArhDhD,SAAC9R,GAExB,IAAM0E,EAAO,IAAInF,SAAO6U,MAAM,mKAA2D,CACrFvR,OAAQxB,EACRpD,GAAI,KACJkC,KAAM,IACNC,IAAK,EACLnD,MAAO,IACPqG,KAAM,UAENC,WAAY7C,EAAQM,YACpBwC,WAAY,OACZC,SAAU/C,EAAQO,gBAClByC,UAAU,EACVC,eAAe,EACfC,UAAW,OACXgB,QAAS,IAGb5E,EAAO6D,IAAIa,GAAMZ,gBAAgBY,GACjC1E,EAAOM,YACPoE,EAAKH,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,KAggDkBqU,CAAY9Y,OAAOwE,OAAOC,SAAjD,kBACtC,cAACiU,EAAA,EAAD,CAASC,MAAM,oCAAf,SAAmD,wBAAQpC,QAAS,kBAAMrN,EAAWlJ,OAAOwE,OAAOC,SAAhD,iBACnD,yBAAQ8R,QAAS,wBAAM7L,EAAY,UAAC1K,OAAOwE,cAAR,aAAC,EAAeC,SAAnD,eAA8D,cAAC,IAAD,OAC9D,wBAAQ8R,QAAS,kBAAMxL,EAAe/K,OAAOwE,OAAOC,SAApD,SAA6D,cAAC,IAAD,MAC7D,wBAAQ8R,QAAS,kBAv5CR,SAAC9R,GAC1B,IAAMoF,EAAO,IAAI7F,SAAO+U,QAAQ,CAC5BzR,OAAQxB,EACRjB,KAAM,IACND,KAAM,IACNmF,GAAI,GACJC,GAAI,GACJO,QAAS,GACTxC,KAAM,OACNyC,kBAAkB,EAClBpC,eAAe,EACfxC,OAAQT,EAAQS,OAChBC,YAAa,EACb4E,eAAe,IAEnBhG,EAAO6D,IAAIuB,GAAMtB,gBAAgBsB,GACjCpF,EAAOkD,mBACPkC,EAAKb,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,KAs4CpBuU,CAAchZ,OAAOwE,OAAOC,SAAnD,qBACA,wBAAQ8R,QAAS,kBAr4CX,SAAC9R,GACvB,IAAMoF,EAAO,IAAI7F,SAAOiV,KAAK,CAAC,IAAK,IAAK,IAAK,WAAY,CACrD3R,OAAO,2BAAMxB,GAAP,IAAsBoT,KAAM,KAClCrU,KAAM,IACND,KAAM,GACNjD,OAAQ,EACR4I,QAAS,GACTxC,KAAM,OACNyC,kBAAkB,EAClBpC,eAAe,EACfxC,OAAQ,SACRC,YAAa,EACb4E,eAAe,IAEnBhG,EAAO6D,IAAIuB,GAAMtB,gBAAgBsB,GACjCpF,EAAOkD,mBACPkC,EAAKb,QAAQ,MAAO,IAAK,CAAEM,SAAU7E,EAAOM,UAAUwE,KAAK9E,KAq3CpB0U,CAAWnZ,OAAOwE,OAAOC,SAAhD,qBAIJ,sBAAKjC,UAAU,kBAAf,UACI,0CAAgB,uBAAOA,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OA9tClD,SAACyC,EAAQzC,GAChCyC,EAAOuC,mBAAmBI,SAAQ,SAAAC,GAAO,OAAIA,EAAQ1C,IAAI,CAAE,QAAW3C,EAAEkT,OAAOkB,WAC/E3R,EAAOkD,mBA4tCsEyR,CAAYpZ,OAAOwE,OAAOC,OAAQzC,IAAIc,KAAK,QAAQ8T,IAAI,IAAIC,IAAI,IAAIC,KAAK,MAAMC,aAAa,SAE5J,sBAAKvU,UAAU,kBAAf,UACI,wCADJ,UAEW,wBAAQ8G,SAAU,SAAAtH,GAAC,OAlxBrB,SAACA,GAClBmD,EAAQM,YAAczD,EAAEkT,OAAOkB,MAC/BlG,EAAelO,EAAEkT,OAAOkB,OACxBpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKhO,WAAahG,EAAEkT,OAAOkB,SACnFpW,OAAOwE,OAAOC,OAAOkD,mBA8wBqB0R,CAAarX,IAAIoU,MAAO3Q,EAA/C,SACFuK,EAAS6E,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,oBAEjD,uBALJ,SAKgB,uBAAO9T,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OA7/BpD,SAACA,GAClBmD,EAAQO,gBAAkB1D,EAAEkT,OAAOkB,MACnCpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAK9N,SAAWlG,EAAEkT,OAAOkB,SACjFpW,OAAOwE,OAAOC,OAAOkD,mBA0/BoD2R,CAAatX,IAAIc,KAAK,QAAQ8T,IAAI,IAAIC,IAAI,MAAMC,KAAK,IAAIC,aAAa,UAEnI,sBAAKvU,UAAU,kBAAf,UACI,gDADJ,UAEW,wBAAQ8G,SAAU,SAAAtH,GAAC,OAAI8Q,GAAoB9Q,EAAEkT,OAAOkB,MAAOpW,OAAOwE,OAAOC,SAAS2R,MAAO7Q,GAAzF,SAp0BT,CAAC,SAAU,QAAS,QAAS,QAq0BhBsP,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,oBAHlD,SAMU,wBAAQhN,SAAU,SAAAtH,GAAC,OAvxBX,SAAAA,GAC1BhC,OAAOwE,OAAOC,OAAOuO,iBAAiBE,cAAgBlR,EAAEkT,OAAOkB,MAC/DxE,GAAwB5P,EAAEkT,OAAOkB,OAqxBQmD,CAAsBvX,IAAIoU,MAAOzE,GAAxD,SAx1BC,CAAC,OAAQ,QAAS,UAy1BLkD,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,uBAI3D,sBAAK9T,UAAU,kBAAf,UACI,0CADJ,QAES,uBAAOM,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OAroCpD,SAACA,GACxBmD,EAAQK,aAAexD,EAAEkT,OAAOkB,MAChCpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKjO,KAAO/F,EAAEkT,OAAOkB,SAC7EpW,OAAOwE,OAAOC,OAAOkD,mBAkoC0D6R,CAAmBxX,MAFtF,MAGO,uBAAOc,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OAhoC/C,SAACA,GAC3BmD,EAAQ1C,gBAAkBT,EAAEkT,OAAOkB,MACnCpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKvT,gBAAkBT,EAAEkT,OAAOkB,SACxFpW,OAAOwE,OAAOC,OAAOkD,mBA6nCwD8R,CAAsBzX,MAHvF,SAIU,uBAAOc,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OA3nC/C,SAAAA,GAC7BmD,EAAQS,OAAS5D,EAAEkT,OAAOkB,MAC1BpW,OAAOwE,OAAOC,OAAOuO,iBAAiBjN,MAAQ/D,EAAEkT,OAAOkB,MACvDpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKpQ,OAAS5D,EAAEkT,OAAOkB,SAC/EpW,OAAOwE,OAAOC,OAAOkD,mBAunC2D+R,CAAyB1X,MACzF,wBAAQuU,QAAS,kBA5xCE9R,EA4xC4BzE,OAAOwE,OAAOC,QA3xCtEuC,mBAAmBI,SAAQ,SAAAC,GAC9B,IAAIsS,EAAUtS,EAAQU,KAClB6R,EAAYvS,EAAQzB,OACxByB,EAAQU,KAAO6R,EACfvS,EAAQzB,OAAS+T,UAErBlV,EAAOkD,mBAP4B,IAAAlD,GA4xCnB,oCALJ,sBAOI,uBAAOjC,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OA7lClC,SAAAA,GACvBmD,EAAQU,YAAcvD,SAASN,EAAEkT,OAAOkB,OACxCpW,OAAOwE,OAAOC,OAAOuO,iBAAiBtR,MAAQY,SAASN,EAAEkT,OAAOkB,OAChEpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKnQ,YAAcvD,SAASN,EAAEkT,OAAOkB,UAC7FpW,OAAOwE,OAAOC,OAAOkD,mBAylCwCkS,CAAmB7X,IAAIc,KAAK,QAAQJ,GAAG,gBAAgBkU,IAAI,IAAIC,IAAI,MAAMC,KAAK,IAAIC,aAAa,SAEhJ,sBAAKxU,MAAO,CAAE4T,QAAS,QAAvB,UACI,8BACI,uBAAO2D,OAAO,IAAd,SACI,kCACI,+BAAI,mCAAK,6CAAqB,wCAAU,uBAAOhX,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OA7nC7F,SAAAA,GAC7B8D,EAAcC,MAAQ/D,EAAEkT,OAAOkB,MAC/BpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAcA,EAAK1O,SAAU0O,EAAK1O,OAAOvB,MAAQ/D,EAAEkT,OAAOkB,UAC1GpW,OAAOwE,OAAOC,OAAOkD,mBA0nCyGoS,CAAyB/X,MAA7F,YAC9B,+BAAI,8CAAqB,6BAAI,uBAAOc,KAAK,WAAWwG,SAAU,SAACtH,GAAD,OAzmCzE,SAAAA,GACjB8D,EAAcK,aAAenE,EAAEkT,OAAO8E,QACtCha,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAcA,EAAK1O,SAAU0O,EAAK1O,OAAOnB,aAAenE,EAAEkT,OAAO8E,YACjHha,OAAOwE,OAAOC,OAAOkD,mBAsmC4ExB,CAAanE,WAClF,+BAAI,sCAAa,mCAAK,uBAAOQ,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OA1nCtE,SAAAA,GACrB8D,EAAcE,KAAOhE,EAAEkT,OAAOkB,MAC9BpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAcA,EAAK1O,SAAU0O,EAAK1O,OAAOtB,KAAOhE,EAAEkT,OAAOkB,UACzGpW,OAAOwE,OAAOC,OAAOkD,mBAunC0EsS,CAAiBjY,IAAIc,KAAK,QAAQ8T,IAAI,IAAIC,IAAI,MAAMC,KAAK,IAAIC,aAAa,OAA5H,UACjB,+BAAI,yCAAgB,mCAAK,uBAAOvU,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OAtnC1E,SAAAA,GACpB8D,EAAcG,QAAUjE,EAAEkT,OAAOkB,MACjCpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAcA,EAAK1O,SAAU0O,EAAK1O,OAAOrB,QAAUjE,EAAEkT,OAAOkB,UAC5GpW,OAAOwE,OAAOC,OAAOkD,mBAmnC6EuS,CAAgBlY,IAAIc,KAAK,QAAQ8T,IAAI,OAAOC,IAAI,MAAMC,KAAK,IAAIC,aAAa,YAClJ,+BAAI,0CAAiB,6BAAI,uBAAOvU,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OAjnC1E,SAAAA,GACpB8D,EAAcI,QAAUlE,EAAEkT,OAAOkB,MACjCpW,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAcA,EAAK1O,SAAU0O,EAAK1O,OAAOpB,QAAUlE,EAAEkT,OAAOkB,UAC5GpW,OAAOwE,OAAOC,OAAOkD,mBA8mC6EwS,CAAgBnY,IAAIc,KAAK,QAAQ8T,IAAI,OAAOC,IAAI,MAAMC,KAAK,IAAIC,aAAa,kBAK9J,8BAEI,uBAAO+C,OAAO,IAAd,SACI,kCACI,6BAAI,qBAAIM,QAAQ,IAAZ,cAAiB,6CACrB,+BAAI,wCAAe,mCAAK,uBAAO5X,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OA3mCvE,SAAAA,GACtBhC,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKqE,MAAQ/X,SAASN,EAAEkT,OAAOkB,UACvFpW,OAAOwE,OAAOC,OAAOkD,mBAymC4E2S,CAAkBtY,IAAIc,KAAK,QAAQJ,GAAG,QAAQkU,IAAI,MAAMC,IAAI,KAAKC,KAAK,IAAIC,aAAa,YAC5J,+BAAI,wCAAe,mCAAK,uBAAOvU,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OAxmCvE,SAAAA,GACtBhC,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKuE,MAAQjY,SAASN,EAAEkT,OAAOkB,UACvFpW,OAAOwE,OAAOC,OAAOkD,mBAsmC4E6S,CAAkBxY,IAAIc,KAAK,QAAQJ,GAAG,QAAQkU,IAAI,MAAMC,IAAI,KAAKC,KAAK,IAAIC,aAAa,YAC5J,+BAAI,qCAAY,oCAAM,uBAAOvU,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OArmCxE,SAAAA,GACnBhC,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5CA,EAAKjM,GAAKzH,SAASN,EAAEkT,OAAOkB,UAEhCpW,OAAOwE,OAAOC,OAAOkD,mBAimC0E8S,CAAezY,IAAIc,KAAK,QAAQJ,GAAG,KAAKkU,IAAI,OAAOC,IAAI,MAAMC,KAAK,IAAIC,aAAa,OAAtI,YAChB,+BAAI,sCAAa,6BAAI,uBAAOvU,UAAU,aAAa8G,SAAU,SAAAtH,GAAC,OAhmCvE,SAAAA,GACnBhC,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAAI,OAAIA,EAAKhM,GAAK1H,SAASN,EAAEkT,OAAOkB,UACpFpW,OAAOwE,OAAOC,OAAOkD,mBA8lCyE+S,CAAe1Y,IAAIc,KAAK,QAAQJ,GAAG,KAAKkU,IAAI,OAAOC,IAAI,MAAMC,KAAK,IAAIC,aAAa,sBAQrK,sBAAKvU,UAAU,kBAAf,UACI,+CACA,wBAAQ+T,QAAS,kBAAMvW,OAAOwE,OAAOC,OAAOkW,QAAQ,IAApD,wBACA,wBAAQpE,QAAS,kBAAMvW,OAAOwE,OAAOC,OAAOuP,qBAAqB,CAAChU,OAAOwE,OAAOC,OAAOmW,UAAW,EAAG,EAAG5a,OAAOwE,OAAOC,OAAOmW,UAAW,EAAG,KAA3I,uBACA,wBAAQrE,QAAS,kBAxmCrB,SAAC9R,GAAY,IAAD,EAExBA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,UAAAA,EAAOC,yBAAP,SAA0BC,IAAI,CAAEC,KAAM,EAAGC,IAAK,IAomCPgW,CAAQ7a,OAAOwE,OAAOC,SAA7C,0CAGJ,sBAAKjC,UAAU,kBAAf,UACI,wCACA,wBAAQ+T,QAAS,kBAvmChB,WACjB,IAAMuE,EAAM,GACZ9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5C8E,EAAIjO,KAAKmJ,EAAKpR,SAElB,IAAMgS,EAAMmE,KAAKnE,IAAL,MAAAmE,KAAYD,GACxB9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5CA,EAAKpR,KAAOgS,KAEhB5W,OAAOwE,OAAOC,OAAOkD,mBA8lCkBqT,IAAvB,SAAuC,cAAC,IAAD,MACvC,wBAAQzE,QAAS,kBAhlCf,WAClB,IAAMuE,EAAM,GACZ9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5C8E,EAAIjO,KAAKmJ,EAAKpR,KAAQoR,EAAKtU,MAAQsU,EAAK5L,WAE5C,IAAMyM,EAAMkE,KAAKlE,IAAL,MAAAkE,KAAYD,GACxB9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5CA,EAAKpR,KAAOiS,EAAOb,EAAKtU,MAAQsU,EAAK5L,UAEzCpK,OAAOwE,OAAOC,OAAOkD,mBAukCkBsT,IAAvB,SAAwC,cAAC,IAAD,MACxC,yBAAQ1E,QAAS,kBA7lCjB,WAChB,IAAMuE,EAAM,GACZ9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5C8E,EAAIjO,KAAKmJ,EAAKnR,QAElB,IAAM+R,EAAMmE,KAAKnE,IAAL,MAAAmE,KAAYD,GACxB9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5CA,EAAKnR,IAAM+R,KAEf5W,OAAOwE,OAAOC,OAAOkD,mBAolCkBuT,IAAvB,UAAsC,cAAC,IAAD,IAAtC,IAAoE,cAAC,IAAD,IAApE,OACA,yBAAQ3E,QAAS,kBAvkCd,WACnB,IAAMuE,EAAM,GACZ9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5C8E,EAAIjO,KAAKmJ,EAAKnR,IAAOmR,EAAKrU,OAASqU,EAAK3L,WAE5C,IAAMwM,EAAMkE,KAAKlE,IAAL,MAAAkE,KAAYD,GACxB9a,OAAOwE,OAAOC,OAAOuC,mBAAmBI,SAAQ,SAAA4O,GAC5CA,EAAKnR,IAAMgS,EAAOb,EAAKrU,OAASqU,EAAK3L,UAEzCrK,OAAOwE,OAAOC,OAAOkD,mBA8jCkBwT,IAAvB,UAAyC,cAAC,IAAD,IAAgC,cAAC,IAAD,OACzE,yBAAQ5E,QAAS,kBAAMpL,EAAmBnL,OAAOwE,OAAOC,SAAxD,UAAiE,cAAC,IAAD,IAAjE,eACA,yBAAQ8R,QAAS,kBAAMlL,EAAUrL,OAAOwE,OAAOC,SAA/C,UAAwD,cAAC,IAAD,IAAxD,UACA,wBAAQ8R,QAAS,kBAAM7K,GAAK1L,OAAOwE,OAAOC,SAA1C,SAAmD,cAAC,IAAD,MACnD,yBAAQ8R,QAAS,kBAAM3K,GAAU5L,OAAOwE,OAAOC,SAA/C,UAAwD,cAAC,IAAD,IAAxD,UACA,yBAAQ8R,QAAS,kBAAM/K,GAAKxL,OAAOwE,OAAOC,SAA1C,UAAmD,cAAC,IAAD,IAAnD,WACA,yBAAQ8R,QAAS,kBAAM9K,GAAKzL,OAAOwE,OAAOC,SAA1C,UAAmD,cAAC,IAAD,IAAnD,WACA,wBAAQ8R,QAAS,kBAAM/G,GAAKxP,OAAOwE,OAAOC,SAA1C,mBACA,wBAAQ8R,QAAS,kBAAM5G,GAAM3P,OAAOwE,OAAOC,SAA3C,oBACA,wBAAQ8R,QAAS,kBAAMlH,GAAUrP,OAAOwE,OAAOC,SAA/C,yBACA,wBAAQ8R,QAAS,kBAp+BT9R,EAo+B2BzE,OAAOwE,OAAOC,QAn+B1D2G,2BACP3G,EAAOkD,mBAFgB,IAAClD,GAo+BR,2BAEA,wBAAQ8R,QAAS,kBAAM9O,GAAWzH,OAAOwE,OAAOC,SAAhD,2BACA,wBAAQ8R,QAAS,kBAAMhL,EAAavL,OAAOwE,OAAOC,SAAlD,gCAKJ,sBAAKjC,UAAU,kBAAf,UACI,kDACA,uBAAO8G,SAAU,SAACtH,GAAD,OAAOoP,GAAkBpP,EAAEkT,OAAOkB,QAAQ3U,KAAK,KAAKqB,KAAK,OAAOiU,aAAc5F,KAC/F,wBAAQoF,QAAS,kBAAM/M,EAAsBxJ,OAAOwE,OAAOC,OAAQ0M,KAAnE,oBAEJ,sBAAK3O,UAAU,kBAAf,UACI,uDACA,uBAAOM,KAAK,OAAOsY,OAAO,UAAU9R,SAAU,SAAAtH,GAAC,OAhjDpD,SAAAA,GACX,IAAIqZ,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAUhG,GACtB,IAAIiG,EAAS,IAAIhN,MACjBgN,EAAO5Y,IAAM2S,EAAML,OAAO5B,OAC1BkI,EAAOD,OAAS,WACZ,IAAIE,EAAQ,IAAIzX,SAAOwK,MAAMgN,GAC7BC,EACK9W,IAAI,CACDC,KAAM,GACNC,IAAK,GACLyC,OAAQxB,EACRF,OAAQ,QACRC,YAAa,EACb4E,eAAe,EACfrC,eAAe,IAElBsT,MAAM,IAEX1b,OAAOwE,OAAOC,OAAO6D,IAAImT,GAAOlT,gBAAgBkT,KAGxDJ,EAAOM,cAAc3Z,EAAEkT,OAAO0G,MAAM,IA0hD+BC,CAAO7Z,SAE9D,sBAAKQ,UAAU,kBAAf,UACI,iDACA,wBAAQ+T,QAAS,kBAzuBb,SAAA9R,GAChBA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAI0L,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACxD,GAAe,OAAXmH,EAAiB,CACjB,IAAI5W,EAAE,4ZASM+D,EAAO0P,QATb,uUAgBmC,IAApBxD,EAhBf,oEAmBAsG,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,cACpCgZ,iBAAO7E,EAAMK,EAAS,UA+sBSyE,CAAY/b,OAAOwE,OAAOC,SAAjD,qBACA,wBAAQ8R,QAAS,kBA7sBf,SAAA9R,GAAW,IAAD,EACxBA,EAAOuP,qBAAqB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5C3E,GAAU5K,GACV,IAAIuX,EAAE,UAAIvX,EAAOC,yBAAX,aAAG,EAA4B+R,kBACjCtG,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,6BAA8BpH,EAAK,aACvD,GAAe,OAAXmH,EACA,IACIwE,iBAAOrX,EAAO6J,UAAU,CACpB2N,OAAQ,MACRrX,KAAMoX,EAAGpX,KACTC,IAAKmX,EAAGnX,IACRnD,MAAOsa,EAAGta,MACVC,OAAQqa,EAAGra,SACX2V,EAAS,QAEf,MAAOxH,GACLlG,MAAMkG,IA4rBqBoM,CAAUlc,OAAOwE,OAAOC,SAA/C,oBACA,wBAAQ8R,QAAS,kBAzwBf,SAAA9R,GACd,IAAM4C,EAAUxD,SAASmT,cAAc,KACnCtW,EAAK+D,EAAO0P,QACV8C,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,aACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GACnC,IAAI9G,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EACnBzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SA+vBuByE,CAAUnc,OAAOwE,OAAOC,SAA/C,oBACA,uBALJ,IAKW,8CALX,IAKmC,uBAAO3B,KAAK,OAAON,UAAU,aAAa4Y,OAAO,YAAY9R,SAAU,SAAAtH,GAAC,OA1vBrG,SAAAiV,GACd,GAAIA,EAAM,CACN,IAAImF,EAAWhF,IAAIC,gBAAgBJ,GACnCjT,SAAOqY,eAAeD,GAAU,SAAUrO,GAC/B,OAAPA,QAAO,IAAPA,KAAS3G,SAAQ,SAAAC,GACbrH,OAAOwE,OAAOC,OAAO6D,IAAIjB,GACzBA,EAAQe,eAAgB,EACxBf,EAAQC,OAASxB,QAGzB9F,OAAOwE,OAAOC,OAAOM,aAgvB8FuX,CAAUta,EAAEkT,OAAO0G,MAAM,UAExI,sBAAKpZ,UAAU,kBAAf,UACI,wBAAQ+T,QAAS,kBAAMxP,EAAc/G,OAAOwE,OAAOC,SAAnD,4BACA,wBAAQ8R,QAAS,kBAAMtP,EAAWjH,OAAOwE,OAAOC,SAAhD,6BAEJ,sBAAKlC,MAAO,CAAE4T,QAAS,QAAvB,UACI,uBAAOrT,KAAK,OAAOrB,KAAK,KAAK6H,SAAU,SAACtH,GAAD,OAAO8O,GAAM9O,EAAEkT,OAAOkB,QAAQA,MAAOvF,KADhF,MAC+F,yBAAQ0F,QAAS,kBAAMtH,GAAWvM,GAAImO,KAAtC,oBAAmDnO,GAAnD,YAD/F,IACqK,uBACjK,uBAAOI,KAAK,OAAOrB,KAAK,KAAK6H,SAAU,SAACtH,GAAD,OAAOgP,GAAMhP,EAAEkT,OAAOkB,QAAQA,MAAOrF,KAFhF,MAE+F,yBAAQwF,QAAS,kBAAMtH,GAAWvM,GAAIqO,KAAtC,oBAAmDrO,GAAnD,YAAqE,uBAChK,uBAAOI,KAAK,OAAOrB,KAAK,KAAK6H,SAAU,SAACtH,GAAD,OAAOkP,GAAMlP,EAAEkT,OAAOkB,QAAQA,MAAOnF,KAHhF,MAG+F,yBAAQsF,QAAS,kBAAMtH,GAAWvM,GAAIuO,KAAtC,oBAAmDvO,GAAnD,YAAqE,6BAGxK,sBAAKH,MAAO,CAAEb,MAAO,IAAKe,gBAAiB,WAA3C,UACI,gCACI,sBAAKD,UAAU,kBAAf,UACI,wCACA,yBAAQ+T,QAAS,kBAAqBvW,OAAOwE,OAAOC,YAh1BpE+L,EAAc,KAg1BE,sBAAsE,cAAC,IAAD,OACtE,yBAAQ+F,QAAS,kBAz2Bb,WACpBhC,GAAWvU,OAAOwE,OAAOC,QACzB,IAAM4C,EAAUxD,SAASmT,cAAc,KACnCtW,EAAK,GACT6P,EAAWnJ,SAAQ,SAAA8H,GACfxO,GAAMgT,KAAK6I,UAAU,CAAE,SAAYrN,EAAI6F,SAAU,UAAa7F,EAAImG,YAAe,UAErF,IAEIlF,EAFE8G,EAAO,IAAIC,KAAK,CAACxW,GAAK,CAAEoC,KAAM,eACpCuE,EAAQ8P,KAAOC,IAAIC,gBAAgBJ,GAG/B9G,EADgB,QAAhByD,IACK,IAAIlL,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAEvJ6K,GAGT,IAAI0D,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjQ,EAAQmQ,SAAWF,EACnBzT,SAASqB,KAAKuS,YAAYpQ,GAC1BA,EAAQqQ,SAq1B2B8E,CAAgBxc,OAAOwE,OAAOC,SAArD,uBAAwE,cAAC,IAAD,OAAmB,0BAE/F,sBAAKjC,UAAU,kBAAf,UACI,8CADJ,KAC6B,uBACrBM,KAAK,OACLJ,GAAG,OACHF,UAAU,aACV4Y,OAAO,OACP9R,SAAU,SAAAtH,GAAC,OAx0BTiV,EAw0B8BjV,EAAEkT,OAAO0G,MAAM,GAv0BnEhI,GAAcqD,EAAKwF,UACfxF,IACAvG,EAAc,KACd0C,GAAa,IAAIkI,YACNoB,UAAYrJ,GACvBD,GAAWuJ,WAAW1F,KANL,IAACA,KAy0BJ,0BAEN,sBAAKzU,UAAU,kBAAf,UACI,6CADJ,KAC4B,uBACpBM,KAAK,OACLJ,GAAG,OACHF,UAAU,aACV4Y,OAAO,OACP9R,SAAU,SAAAtH,GAx0BR,IAACiV,KAw0B8BjV,EAAEkT,OAAO0G,MAAM,MAt0BhElL,EAAc,KACd0C,GAAa,IAAIkI,YACNoB,UAAY7I,GACvBT,GAAWuJ,WAAW1F,OAo0BR,0BAEN,sBAAKzU,UAAU,kBAAf,UAEI,yCACA,wBAAQ+T,QAAS,WACb,IAEqB,IAFjBpG,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACAjM,EAAS,UAACrL,OAAOwE,cAAR,aAAC,EAAeC,QACzB+L,EAAc,GAAD,mBAAKD,GAAL,CAAiB,CAAE,SAAY+G,EAAQ,UAAY,GAAZ,OAAgB5D,KAAK6I,UAAL,UAAgBvc,OAAOwE,cAAvB,aAAgB,EAAeC,OAAOuQ,OAAO,CAAC,aAElHtE,EAAcH,EAAWpJ,UAPjC,6BAYA,yBAAQoP,QAAS,WACb,IAEqB,EAFjBpG,GAAK,IAAIzH,MAAOC,mBAAmB,QAAS,CAAEyH,KAAM,UAAWC,MAAO,UAAWC,IAAK,UAAW1H,QAAQ,EAAOC,KAAM,UAAWC,OAAQ,UAAWC,OAAQ,YAC5JuO,EAASC,OAAO,8BAA+BpH,EAAK,aACzC,OAAXmH,IACA9G,EAAc,GAAD,mBAAKD,GAAL,CAAiB,CAAE,SAAY+G,EAAQ,UAAY,GAAZ,OAAgB5D,KAAK6I,UAAL,UAAgBvc,OAAOwE,cAAvB,aAAgB,EAAeC,OAAOuQ,OAAO,CAAC,aAClHtE,EAAcH,EAAWpJ,UALjC,UASC,cAAC,IAAD,IATD,kBAWA,wBAAQoP,QAAS,wBAAMhC,GAAU,UAACvU,OAAOwE,cAAR,aAAC,EAAeC,SAAjD,+BAGR,qBAAKlC,MAAO,CAAEZ,OAAQ,IAAKD,MAAO,IAAKkb,SAAU,SAAU9C,OAAQ,mBAAnE,SAEI,cAAC,IAAD,CAAiB+C,UA76Bf,SAACvJ,GACf,IACgC,cAGc,EAJxC5S,EAAE,YAAO6P,GACW,MAAtB+C,EAAOwJ,cACPpc,EAAG6S,OAAH,UAAUD,EAAOwJ,mBAAjB,aAAU,EAAoBC,MAAO,EAAGrc,EAAG6S,OAAH,UAAUD,EAAOpJ,cAAjB,aAAU,EAAe6S,MAAO,GAAG,IAC3EvM,EAAc9P,GACV+P,KAAW,UAAK6C,EAAOpJ,cAAZ,aAAK,EAAe6S,OAC/BrM,EAAa,UAAC4C,EAAOwJ,mBAAR,aAAC,EAAoBC,OAE5BtM,IAAW,UAAI6C,EAAOwJ,mBAAX,aAAI,EAAoBC,QAAWtM,GAAW,UAAG6C,EAAOpJ,cAAV,aAAG,EAAe6S,OACjFrM,GAAc,SAAAD,GAAW,OAAIA,EAAc,KAErCA,IAAW,UAAI6C,EAAOwJ,mBAAX,aAAI,EAAoBC,QAAWtM,GAAW,UAAG6C,EAAOpJ,cAAV,aAAG,EAAe6S,QACjFrM,GAAc,SAAAD,GAAW,OAAIA,EAAc,OAi6BvC,SACI,cAAC,IAAD,CAAWuM,YAAY,cAAcla,KAAK,SAA1C,SACK,SAACma,EAAUC,GAAX,OACG,6CACI9a,IAAK6a,EAASE,SACd5a,MAAO,CAAEE,gBAAiBya,EAASE,eAAiB,SAAW,gBAC3DH,EAASI,gBAHjB,aAKI,uBAAOvD,OAAO,IAAd,SACI,kCACKvJ,EAAWsE,KAAI,SAAC3F,EAAK4F,GAClB,OACI,cAAC,IAAD,CAAWwI,YAAa,YAAcxI,EAAiBiI,MAAOjI,EAA9D,SACK,SAACmI,EAAUC,GAAX,OACG,6CACI9a,IAAK6a,EAASE,UACVF,EAASM,gBAFjB,IAGIhb,MAAK,2BACE0a,EAASM,eAAehb,OAD1B,IAEDE,gBAAiBya,EAASM,WAAa,MAAQ,QAC/CC,UAAWP,EAASM,WAAa,iBAAmB,SAN5D,UAUI,8CAAQP,EAASS,iBAAjB,aAAkC,cAAC,IAAD,OAAgB,oBAAInb,MAAO,CAAEob,SAAU,QAASlb,gBAAiBgO,IAAgBqE,EAAI,QAAU,QAAS/O,MAAO0K,IAAgBqE,EAAI,QAAU,SAAWyB,QAAS,SAACvU,IA3b7O,SAAC4b,EAAMnZ,EAAQqQ,GAC9BpE,EAAcoE,GACdrQ,EAAOoZ,aAAaD,GAAM,WACXnZ,EAAO6G,aACflE,SAAQ,SAAAC,GACP,IACIA,EAAQ1C,IAAI,CAAEyD,eAAe,IAC/B,MAAO0H,GAEL,YADAlG,MAAMkG,OAIdrL,EAAOM,eAgbiD+Y,CAAW5O,EAAImG,UAAWrV,OAAOwE,OAAOC,OAAQqQ,IACjDiJ,KAAMjJ,EAAGkJ,KAAM,UAAWC,cAAe3I,GAAuB4I,gCAAgC,EAAMC,iBAAe,EAACC,WAAYnJ,GAFnF,SAEoG/F,EAAI6F,WAAc,6BAAI,yBAAQgJ,KAAMjJ,EAAGyB,QAAS,SAACvU,GAAD,OAxZ/O,SAAAA,GACXyO,EAAczO,EAAEkT,OAAOC,aAAa,QACpCzE,GAAc,SAAAD,GAAW,OAAIA,EAAc,KAEtCA,IAAgBnO,SAASN,EAAEkT,OAAOC,aAAa,UACpDzE,EAAc,MAElB,IAAMkE,EAAoBrE,EAAWvC,QAAO,SAACqQ,EAAGvJ,GAC5C,OAAQxS,SAASN,EAAEkT,OAAOC,aAAa,WAAaL,KAExDtE,EAAc,YAAIoE,IA8YmP0J,CAAWtc,IAA5C,eAAkD,cAAC,IAAD,CAAUO,MAAO,CAAEgc,cAAe,qBAd9NrP,EAAM4F,MAqB3DmI,EAASuB,2BAzF1C,4BAkGoBjO,EAAWE,UAlG/B,aAkGoB,EAAyBsE,gBCx3D1C0J,GA5EK,SAAC,GAAgB,IAAdja,EAAa,EAAbA,OACrB,EAAiCzB,IAAzBC,EAAR,EAAQA,KAAME,EAAd,EAAcA,KAAME,EAApB,EAAoBA,SAEpB,OADApD,OAAOoD,SAAWA,EACV,8BACLA,EAAY,qBAAKZ,UAAU,iBAAiBD,MAAO,CAAEX,SAAU,WAAYgD,KAAM5B,EAAM6B,IAAK3B,EAAM6C,MAAO,SAA7F,SACX,+BACE,qBAAIwQ,QAAS,kBAAMpL,EAAmB3G,EAAOC,SAA7C,6BAAsE,cAAC,IAAD,IACpE,6BACE,oBAAI8R,QAAS,kBAAMlL,EAAU7G,EAAOC,SAApC,6BAGJ,oBAAI8R,QAAS,kBAAMhL,EAAa/G,EAAOC,SAAvC,4BACA,oBAAI8R,QAAS,kBAAM9O,GAAWjD,EAAOC,SAArC,0BAEA,oBAAI8R,QAAS,kBAAMxP,EAAcvC,EAAOC,SAAxC,6BACA,oBAAI8R,QAAS,kBAAMtP,EAAWzC,EAAOC,SAArC,0BAEA,qBAAI8R,QAAS,kBAAM7K,GAAKlH,EAAOC,SAA/B,kBAA6C,cAAC,IAAD,OAC7C,qBAAI8R,QAAS,kBAAM3K,GAAUpH,EAAOC,SAApC,wBAAwD,cAAC,IAAD,OACxD,oBAAI8R,QAAS,kBAAM1H,GAAarK,EAAOC,QAAQ,IAA/C,4BACA,oBAAI8R,QAAS,kBAAM1H,GAAarK,EAAOC,QAAQ,IAA/C,8BACA,qCAAO,+BACL,oBAAI8R,QAAS,kBAAMrN,EAAW1E,EAAOC,SAArC,oBACA,qBAAI8R,QAAS,kBAAMjM,EAAW9F,EAAOC,SAArC,uBAAwD,cAAC,IAAD,OACxD,qBAAI8R,QAAS,kBAAM7L,EAAalG,EAAOC,SAAvC,oBAAuD,cAAC,IAAD,OACvD,qBAAI8R,QAAS,kBAAMxL,EAAevG,EAAOC,SAAzC,sBAA2D,cAAC,IAAD,aAG7D,4CAAc,+BACZ,oBAAI8R,QAAS,kBDsYE9R,ECtYcD,EAAOC,QDuYnCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,YAAa,gBACxEF,EAAOkD,mBAFc,IAAAlD,GCtYf,kBACA,oBAAI8R,QAAS,kBD0YG9R,EC1YcD,EAAOC,QD2YpCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,YAAa,iBACxEF,EAAOkD,mBAFe,IAAAlD,GC1YhB,mBACA,oBAAI8R,QAAS,kBD8YI9R,EC9YcD,EAAOC,QD+YrCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,YAAa,kBACxEF,EAAOkD,mBAFgB,IAAAlD,GC9YjB,0BAEF,iDAAmB,+BACjB,oBAAI8R,QAAS,kBDgZM9R,EChZcD,EAAOC,QDiZvCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,aAAc0C,EAAQqX,mBACjFja,EAAOkD,mBAFkB,IAAAlD,GChZnB,8BACA,oBAAI8R,QAAS,kBDoZQ9R,ECpZcD,EAAOC,QDqZzCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,eAAgB0C,EAAQsX,qBACnFla,EAAOkD,mBAFoB,IAAAlD,GCpZrB,gCACA,oBAAI8R,QAAS,kBDuZG9R,ECvZcD,EAAOC,QDwZpCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,YAAa,kBACxEF,EAAOkD,mBAFe,IAAAlD,GCvZhB,qBACA,oBAAI8R,QAAS,kBD0ZA9R,EC1ZcD,EAAOC,QD2ZjCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,aAAc,gBACzEF,EAAOkD,mBAFY,IAAAlD,GC1Zb,kBACA,oBAAI8R,QAAS,kBD8ZG9R,EC9ZcD,EAAOC,QD+ZpCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,aAAc,kBACzEF,EAAOkD,mBAFe,IAAAlD,GC9ZhB,0BAEF,wCAAU,+BACR,oBAAI8R,QAAS,kBDsaG9R,ECtacD,EAAOC,QDuapCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,OAAQ,YACnEF,EAAOkD,mBAFe,IAAAlD,GCtahB,mBACA,oBAAI8R,QAAS,kBD+ZC9R,EC/ZcD,EAAOC,QDgalCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,kBAAmB,YAC9EF,EAAOkD,mBAFa,IAAAlD,GC/Zd,iBACA,oBAAI8R,QAAS,kBDyaK9R,ECzacD,EAAOC,QD2atCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,cAAe,WAC1EF,EAAOkD,mBAHiB,IAAAlD,GCzalB,qBACA,oBAAI8R,QAAS,kBD8aK9R,EC9acD,EAAOC,QD+atCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,SAAZ,2BAA2BmB,GAA3B,IAA0CE,KAAM,aAC/FvB,EAAOkD,mBAFiB,IAAAlD,GC9alB,2BAGF,8CAAgB,+BACd,oBAAI8R,QAAS,kBD8aK9R,EC9acD,EAAOC,QD+atCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,OAAQyB,WACnE3B,EAAOkD,mBAFiB,IAAAlD,GC9alB,mBACA,oBAAI8R,QAAS,kBDibO9R,ECjbcD,EAAOC,QDkbxCuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,SAAUyB,WACrE3B,EAAOkD,mBAFmB,IAAAlD,GCjbpB,2BAGF,qBAAI8R,QAAS,kBAAM9K,GAAKjH,EAAOC,SAA/B,kBAA6C,cAAC,IAAD,OAC7C,qBAAI8R,QAAS,kBAAM/K,GAAKhH,EAAOC,SAA/B,kBAA6C,cAAC,IAAD,OAC7C,oBAAI8R,QAAS,kBAAM/G,MAAnB,kBACA,oBAAI+G,QAAS,kBAAM5G,MAAnB,mBACA,8CAAgB,+BACd,qBAAI4G,QAAS,kBAAMvW,OAAOmT,kBAAkB3O,EAAOC,SAAnD,gBAA+D,cAAC,IAAD,OAC/D,qBAAI8R,QAAS,WACX/R,EAAOC,OAAOuG,eAAgB,EAC9BhL,OAAO8S,oBAAoB,SAAUtO,EAAOC,SAF9C,oBAGU,cAAC,IAAD,OACV,qBAAI8R,QAAS,WACX/R,EAAOC,OAAOuG,eAAgB,EAC9BhL,OAAO8S,oBAAoB,QAAStO,EAAOC,SAF7C,mBAGS,cAAC,IAAD,OACT,qBAAI8R,QAAS,WACX/R,EAAOC,OAAOuG,eAAgB,EAC9BhL,OAAO8S,oBAAoB,QAAStO,EAAOC,SAF7C,mBAGS,cAAC,IAAD,kBAGL,MCOCma,GAjFC,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACjB,EAA4BC,cAApBta,EAAR,EAAQA,OAAQua,EAAhB,EAAgBA,QACVC,EAASvK,aAAY,SAAAC,GAAK,OAAIA,EAAMC,eAAejU,MACnDue,EAAiB,SAACxa,GACtB,IAAIya,EAASF,EAAOG,QAAQ,IAAIC,OAAO/G,OAAOgH,aAAa,GAAI,KAAM,KAAKF,QAAQ,IAAIC,OAAO/G,OAAOgH,aAAa,GAAI,KAAM,KAAKF,QAAQ,IAAIC,OAAO/G,OAAOgH,aAAa,GAAI,KAAM,KAAKF,QAAQ,IAAIC,OAAO/G,OAAOgH,aAAa,GAAI,KAAM,KACjO/e,EAAQoT,KAAKC,MAAMuL,GACzBza,EAAOoZ,aAAavd,GACpBmE,EAAOkD,oBAqET,OAnEA3H,OAAOsf,wBAA0B,kBAAML,EAAeza,EAAOC,SAC7DzE,OAAOif,eAAiBA,EACxBjf,OAAOwE,OAASA,EAwDlBZ,qBAAU,WAIN,OAHAsQ,YAAW,WAjDf,IAAuBzP,KAkDDzE,OAAOwE,OAAOC,QAjDzB8a,GAAG,eAAe,SAAUC,GAG/B,IAAInd,EAAQmd,EAAIxd,EAAEyd,OACdC,EAAOjb,EAAOmW,WAClB8E,GAAI,SAAI,KAASrd,IACN,KAAIqd,EAAO,IAClBA,EAAO,MAAMA,EAAO,KAExBjb,EAAOkb,YAAY,CAAE9d,EAAG2d,EAAIxd,EAAEiE,QAASnE,EAAG0d,EAAIxd,EAAEkE,SAAWwZ,GAC3DF,EAAIxd,EAAE0B,iBACN8b,EAAIxd,EAAE4d,qBAIVnb,EAAO8a,GAAG,cAAc,SAAUC,GAC9B,IAAIK,EAAML,EAAIxd,GACK,IAAf6d,EAAIC,SACJ3T,KAAKqR,YAAa,EAClBrR,KAAK4T,WAAY,EACjB5T,KAAK6T,SAAWH,EAAIrc,QACpB2I,KAAK8T,SAAWJ,EAAIpc,YAG5BgB,EAAO8a,GAAG,cAAc,SAAUC,GAC9B,GAAIrT,KAAKqR,WAAY,CACjB,IAAIxb,EAAIwd,EAAIxd,EACRke,EAAM/T,KAAKgU,kBACfD,EAAI,IAAMle,EAAEwB,QAAU2I,KAAK6T,SAC3BE,EAAI,IAAMle,EAAEyB,QAAU0I,KAAK8T,SAC3B9T,KAAKxE,mBACLwE,KAAK6T,SAAWhe,EAAEwB,QAClB2I,KAAK8T,SAAWje,EAAEyB,YAG1BgB,EAAO8a,GAAG,YAAY,SAAUC,GAG5BrT,KAAK6H,qBAAqB7H,KAAKgU,mBAC/BhU,KAAKqR,YAAa,EAClBrR,KAAK4T,WAAY,OAUlB,KACI,WA3DT,IAA4Btb,KA4DHzE,OAAOwE,OAAOC,QA3D9B8a,GAAG,cAAe,MACzB9a,EAAO8a,GAAG,aAAc,MACxB9a,EAAO8a,GAAG,aAAc,MACxB9a,EAAO8a,GAAG,WAAY,SA0DvB,IAEO,gCACN,cAAC,IAAD,CAAgB/c,UAAWqc,EAAe,eAAiB,SAAUE,QAASA,IAC9E,cAAC,GAAD,CAAava,OAAQA,Q,iEC3EnB4b,GAAe,CACjBC,SAAU,IAaRC,GAAuB,CACzBC,aAAc,CAAC,CAAE7d,GAAI,EAAG+Z,KAAM,yBAA2B,CAAE/Z,GAAI,EAAG+Z,KAAM,yBAA2B,CAAE/Z,GAAI,EAAG+Z,KAAM,2BAmBhH+D,GAAqB,CACvBC,OAAQ,CACJ1a,MAAO,qBACPtD,gBAAiB,oBAgBnBie,GAAsB,CAAEhgB,GAAG,IAe3BigB,GAA0B,CAAEjgB,GAAI,iBAahCkgB,GAAcC,2BAAgB,CAChCC,SA/Ea,WAAmC,IAAlCpM,EAAiC,uDAAzB0L,GAAcW,EAAW,uCAC/C,OAAQA,EAAOje,MACX,IAAK,cAAe,OAAO,2BACpB4R,GADa,IAEhB2L,SAAS,GAAD,mBAAM3L,EAAM2L,UAAZ,CAAsBU,EAAOC,YAGzC,QAAS,OAAOtM,IAyEpBuM,gBAlEoB,WAA2C,IAA1CvM,EAAyC,uDAAjC4L,GAAsBS,EAAW,uCAC9D,OAAQA,EAAOje,MACX,IAAK,kBACD,IAAMoe,EAAsBxM,EAAM6L,aAAa1L,KAAI,SAAC3F,GAChD,OAAOA,EAAIxM,KAAOJ,SAASye,EAAOC,QAAQte,IAAnC,2BAA8CwM,GAA9C,IAAmDuN,KAAMsE,EAAOC,QAAQvE,OAASvN,KAE5F,OAAO,2BACAwF,GADP,IAGI6L,aAAa,YAAKW,KAG1B,QAAS,OAAOxM,IAuDpByM,cA5CkB,WAAyC,IAAxCzM,EAAuC,uDAA/B8L,GAAoBO,EAAW,uCAC1D,OAAQA,EAAOje,MACX,IAAK,gBACD,OAAO,2BACA4R,GADP,IAGI+L,OAAO,2BAAM/L,EAAM+L,QAAWM,EAAOC,WAG7C,QAAS,OAAOtM,IAoCpBC,eA7BmB,WAA0C,IAAzCD,EAAwC,uDAAhCgM,GAAqBK,EAAW,uCAC5D,OAAQA,EAAOje,MACX,IAAK,iBACD,OAAO,2BACA4R,GADP,IAEIhU,GAAIqgB,EAAOC,UAEnB,QAAS,OAAOtM,IAuBpB0M,mBAhBuB,WAA8C,IAA7C1M,EAA4C,uDAApCiM,GAAyBI,EAAW,uCACpE,OAAQA,EAAOje,MACX,IAAK,eACD,OAAO,2BACA4R,GADP,IAEIhU,GAAIqgB,EAAOC,UAEnB,QAAS,OAAOtM,MAaT2M,GADDC,uBAAYV,GAAaW,+BAAoBC,2BAAgBC,KAAQC,QC3FtEC,GAAQ,CAAC,cAAe,mBAAoB,mBAAoB,kCAAmC,uBAAwB,uCAAwC,kCAAmC,uBAAwB,YAAa,qBAAsB,kCAAmC,oBAAqB,iBAAkB,4BAA6B,6BAA8B,iCAAkC,0BAA2B,8BAA+B,qCAAsC,0BAA2B,qBAAsB,iBAAkB,qBAAsB,qBAAsB,MAAO,+BAAgC,kBAAmB,kBAAmB,wBAAyB,uBAAwB,uBAAwB,eAAgB,MAAO,YAAa,sBAAuB,wBAAyB,wCAAyC,OAAQ,MAAO,QAAS,UAAW,OAAQ,YAAa,OAAQ,SAAU,WAAY,aAAc,aAAc,eAAgB,cAAe,aAAc,cAAe,cAAe,cAAe,eAAgB,OAAQ,wBAAyB,eAAgB,iBAAkB,kBAAmB,kBAAmB,kBAAmB,iBAAkB,kBAAmB,oBAAqB,oBAAqB,kBAAmB,gBAAiB,kCAAmC,kCAAmC,iBAAkB,WAAY,2CAA4C,6CAA8C,8CAA+C,oCAAqC,8BAA+B,UAAW,iBAAkB,sBAAuB,sBAAuB,0BAA2B,gBAAiB,eAAgB,eAAgB,uBAAwB,kBAAmB,kBAAmB,uCAAwC,eAAgB,kBAAmB,eAAgB,eAAgB,UAAW,aAAc,2BAA4B,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,uBAAwB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,sBAAuB,0BAA2B,0BAA2B,0BAA2B,0BAA2B,0BAA2B,0BAA2B,kBAAmB,iBAAkB,eAAgB,yBAA0B,iBAAkB,MAAO,gBAAiB,iBAAkB,qBAiC77FC,GA/BO,WAClB,MAA8C5gB,mBAAS,qBAAvD,mBAAO6gB,EAAP,KAAwBC,EAAxB,KACA,EAAsC9gB,mBAAS,IAA/C,mBAAO+gB,EAAP,KAAoBC,EAApB,KASA,OACI,gCACI,+CACA,sBAAKzf,MAAO,CAAE4T,QAAS,QAAvB,UACI,8BACI,0BAAU8L,KAAK,IAAIC,KAAK,KAAK5Y,SAAU,SAAAtH,GAAC,OAAI8f,EAAmB9f,EAAEkT,OAAOkB,QAAQW,aAAa,wBAEjG,8BACI,wBAAQxU,MAAO,CAAEZ,OAAQ,GAAIwgB,WAAY,IAAM5L,QAfvC,WACJsL,EAAgB1hB,MAAM,OAC5BiH,SAAQ,SAAAC,GACdjH,EAAS,GAAD,OAAIiH,QAYJ,+BAGR,wBAAQ7E,UAAU,cAAc8G,SAAU,SAAAtH,GAAC,OAAIggB,EAAehgB,EAAEkT,OAAOkB,QAAQA,MAAO2L,EAAtF,SACKJ,GAAM9M,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,oBAE9C,uBAAO9T,UAAU,cAAc8G,SAAU,SAAAtH,GAAC,OAAIggB,EAAehgB,EAAEkT,OAAOkB,QAAQA,MAAO2L,IACrF,wBAAQxf,MAAO,CAAE4f,WAAY,QAAU5L,QAAS,kBAAMnW,EAAS,GAAD,OAAI2hB,KAAlE,8BC2EGK,GAvGO,WAClB,MAA4BphB,mBAAS,OAArC,mBAAOqhB,EAAP,KAAeC,EAAf,KACA,EAA4BthB,mBAAS,SAArC,mBAAOuhB,EAAP,KAAeC,EAAf,KACA,EAAkCxhB,mBAAS,YAA3C,mBAAOmB,EAAP,KAAkBsgB,EAAlB,KAEA,EAA8BzhB,mBAAS,CAAEwF,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAAlE,mBAAO+b,EAAP,KAAgBC,EAAhB,KAkBA,IAAMC,EAAY,IAAI5e,SAAOqC,SAAS,CAClCvD,KAAM,SACNwD,cAAe,aACfC,OAAQmc,EACR9b,WAAY,CACR,CAAEC,OAAQ,EAAGd,MAAOsc,GACpB,CAAExb,OAAQ,EAAGd,MAAOwc,MA0C5B,OAAQ,qCACJ,+CACA,qBAAKhgB,MAAO,CAAEsgB,OAAQ,EAAG/I,OAAQ,iBAAkBpY,MAAO,IAAKC,OAAQ,IAAKmhB,gBAAgB,mBAAD,OAAqB3gB,EAArB,aAAmCkgB,EAAnC,aAA8CE,EAA9C,QAC3F,2CACY,uBAAOzf,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OAzCjD,SAAAA,GACjBsgB,EAAUtgB,EAAEkT,OAAOkB,OAwCmD2M,CAAa/gB,MADnF,WAEY,uBAAOc,KAAK,QAAQiU,aAAa,UAAUzN,SAAU,SAAAtH,GAAC,OAvCjD,SAAAA,GACjBwgB,EAAUxgB,EAAEkT,OAAOkB,OAsCmD4M,CAAahhB,SAxEpE,CAAC,WAAY,YAAa,mBA0E7B6S,KAAI,SAAC3F,EAAK4F,GAClB,OAAQ,mCACJ,sBAAoBvS,MAAO,CAAEsgB,OAAQ,GAArC,UACI,uBAAO7I,QAAS7X,IAAc+M,EAC1B5F,SACI,SAAAtH,GACIygB,EAAazgB,EAAEkT,OAAOkB,OA7ElD,SAAmB6M,GACf,OAAQA,GACJ,IAAK,WACDN,EAAW,CAAEnc,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IACtC,MACJ,IAAK,YACDgc,EAAW,CAAEnc,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IACtC,MACJ,IAAK,kBACDgc,EAAW,CAAEnc,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,KAqEtB7B,CAAU9C,EAAEkT,OAAOkB,QAEzBtT,KAAK,QAAQsT,MAAOlH,EAAKxM,GAAIwM,IACnC,uBAAOgU,QAAShU,EAAhB,SAAsBA,MARhBoH,oBAYlB,sBAAK/T,MAAO,CAAEsgB,OAAQ,GAAtB,UACI,wBAAQtD,IAAE,EAAChJ,QAAS,kBArDH9R,EAqD0BzE,OAAOwE,OAAOC,QApDtDuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,OAAQie,WACnEne,EAAOkD,mBAFc,IAAAlD,GAqDjB,+BACA,wBAAQ8a,IAAE,EAAChJ,QAAS,kBA3BD9R,EA2B0BzE,OAAOwE,OAAOC,QA1BxDuC,mBAAmBI,SAAQ,SAAAC,GAAaA,EAAQ1C,IAAI,SAAUie,WACrEne,EAAOkD,mBAFgB,IAAAlD,GA2BnB,iCAEA,wBAAQ8a,IAAE,EAAChJ,QAAS,kBApDH9R,EAoD0BzE,OAAOwE,OAAOC,QAnDtDuC,mBAAmBI,SAAQ,SAAAC,GAC9BA,EAAQ1C,IAAI,OAAQ,IAAIX,SAAOqC,SAAS,CACpCvD,KAAM,SACNwD,cAAe,QACfC,OAAQ,CACJC,GAAIa,EAAQ3F,MAAQ,EACpB+E,GAAIY,EAAQ1F,OAAS,EACrBwhB,GAAI9b,EAAQ3F,MAAQ,EACpBgF,GAAIW,EAAQ3F,MAAQ,EACpBiF,GAAIU,EAAQ1F,OAAS,EACrByhB,GAAI/b,EAAQ3F,MAAQ,GAGxBkF,WAAY,CACR,CAAEC,OAAQ,EAAGd,MAAOsc,GACpB,CAAExb,OAAQ,EAAGd,MAAOwc,eAIhC9d,EAAOkD,mBApBc,IAAAlD,GAoDjB,6CCmRG4e,GApWH,SAACtiB,GACX,MAAkCC,qBAAlC,mBAAOsiB,EAAP,KAAkBC,EAAlB,KAEA,EAA0CviB,qBAA1C,mBAAsBwiB,GAAtB,WACA,EAAgCxiB,mBAAS,OAAzC,mBAAOyiB,EAAP,KAAiBC,EAAjB,KACA,EAAkC1iB,mBAAS,UAAD,OAAWhB,OAAOC,SAASC,MAA3B,OAAkCyjB,qBAAlC,+BAA1C,mBAAOC,EAAP,KAAkBC,EAAlB,KACMC,EAAsBC,mBAC5B,EAA0B/iB,mBAAS,IAAnC,mBAAOgjB,EAAP,KAAcC,EAAd,KAGA,EAAgCjjB,mBAAS,GAAzC,mBAAOoO,EAAP,KAAiB8U,EAAjB,KACA,EAAoCljB,mBAAS,WAA7C,mBAAOmjB,EAAP,KAAmBC,EAAnB,KACA,EAAoCpjB,mBAAS,IAA7C,mBAAOqjB,EAAP,KAAmBC,EAAnB,KACA,EAAsCtjB,mBAAS,IAA/C,mBAAOujB,EAAP,KAAoBC,EAApB,KAGMC,EACJT,EAAMhW,QAAO,SAACoI,GACZ,OAAQA,EAAMsO,cAAcC,OAAON,EAAWK,gBAAkB,KAG9DE,EACJZ,EAAMhW,QAAO,SAACoI,GACZ,OAAQA,EAAMsO,cAAcC,OAAOJ,EAAYG,gBAAkB,KAgDrE,EAA8C1jB,mBAAS,cAAvD,mBAAOiT,EAAP,KAAwB4Q,GAAxB,KAEAjhB,qBAAU,WAER,OADA5D,OAAO4jB,UAAYA,EACZ,eAGN,CAACA,IAEJhgB,qBAAU,WAER,OADA5D,OAAOiU,gBAAkBA,EAClB,eAGN,CAACA,IAEJrQ,qBAAU,WAGR,OAFA5D,OAAOoP,SAAWA,EAClBvL,SAAS8U,MAAT,cAAwBvJ,EAAxB,gBA3Fc,UA4FP,eAGN,CAACA,IAEJ,IAeM0V,GAAgBf,mBAEhBgB,GAAe,WACnBxkB,IAAMC,KAAKT,EAAW,aAAaU,MAAK,SAACC,GACvCujB,EAASvjB,EAAGJ,SACXK,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,OAG1CkD,qBAAU,WACR,IAAMohB,EAASC,IAAe,SAe9B,OAdAD,EAAOzF,GAAG,WAAW,SAAAjf,GACnBkjB,EAAiBljB,MAEnB0kB,EAAOzF,GAAG,iBAAiB,SAAAjf,GACzBijB,EAAajjB,MAEf0kB,EAAOzF,GAAG,oBAAoB,SAAAjf,GAE1BwkB,GAAcI,QAAQ3iB,MAAME,gBADjB,SAATnC,EAC4C,QAGA,SAG3C,WACL0kB,EAAOG,gBAER,IAEHvhB,qBAAU,WAER,OADAmhB,KACO,eAGN,CAACzB,IAsBJ,OAAQ,eAAC,IAAM8B,SAAP,WAEN,sBAAK5iB,UAAU,WAAf,UACE,wBAAQA,UAAU,gBAAgBD,MAAO,GAAIH,IAAK0iB,GAAevO,QA1E9C,WACrB,GAAoD,UAAhDuO,GAAcI,QAAQ3iB,MAAME,gBAC9BlC,IAAMC,KAAKT,EAAW,eAAeU,MAAK,SAACC,OAExCC,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,UAErC,CAEHH,IAAMC,KAAKT,EAAW,WADT,CAAEG,KAAM,YAAamlB,KAAM,OACA5kB,MAAK,SAACC,OAE3CC,OAAM,SAACD,GAASE,QAAQC,IAAI,QAASH,QAgExC,qBADF,IAC6G,wBAAQ8B,UAAU,oBAAoBD,MAAO,GAAIgU,QAAS,kBAAMnW,EAAS,SAAD,OAAUgP,KAAlF,0BAC3G,oDAA0B,wBAAQ9F,SAAU,SAAAtH,GAAC,OAXnB,SAAAA,GAC5B6iB,GAAmB7iB,EAAEkT,OAAOkB,OAUuBkP,CAAsBtjB,IAAIoU,MAAOnC,EAAxD,SAhJL,CACvB,SACA,WACA,aACA,cACA,gBACA,gBACA,cACA,eACA,iBACA,iBACA,cACA,eACA,iBACA,iBACA,cACA,eACA,iBACA,iBACA,aACA,cACA,gBACA,gBACA,aACA,cACA,gBACA,gBACA,aACA,cACA,gBACA,gBACA,gBACA,iBACA,mBACA,mBACA,aACA,cACA,gBACA,iBACA,gBACA,eACA,kBACA,mBAuGsBY,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,oBAEvD,gDACA,wBAAQhN,SAAU,SAAAtH,GAAC,OAZK,SAAAA,GAC1BkiB,EAAYliB,EAAEkT,OAAOkB,OAWImP,CAAoBvjB,IAAIoU,MAAOhH,EAAtD,SAtKc,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAuKjByF,KAAI,SAAC3F,GAAU,OAAO,wBAAuBkH,MAAOlH,EAA9B,SAAoCA,GAAvBoH,oBAEhD,wBAAQC,QAAS,kBAAMnW,EAAS,aAAhC,2BAEA,sBAAMmC,MAAO,CAAEX,SAAU,WAAY4jB,MAAO,QAA5C,SAAsD,oEAExD,sBAAKjjB,MAAO,CACV4T,QAAS,OACTsP,cAAe,MACf3L,OAAQ,kBACRnY,OAAQ,QACR+jB,SAAU,UALZ,UAOE,qBAAKnjB,MAAO,CAAEb,MAAO,UAArB,SACE,qBAAKa,MAAO,CACV4T,QAAS,OACTsP,cAAe,MACf3L,OAAQ,kBACRnY,OAAQ,QACR+jB,SAAU,UALZ,SAOE,gCACE,sBAAKtjB,IAAK0hB,EAAqBphB,GAAG,oBAAoBF,UAAU,oBAAhE,UACE,sBAAKD,MAAO,CAAE4T,QAAyB,YAAfgO,EAA4B,OAAS,SAA7D,cAAyE,cAAC,EAAD,CAAOthB,MAAO9C,EAAW,sBAA0B,qBAAKwC,MAAO,CAAE4T,QAAyB,YAAfgO,EAA4B,QAAU,QAA9D,SAAwE,cAAC,IAAD,CAAU9C,MAAOA,GAAjB,SAAwB,cAAC,GAAD,WAE9N,sBAAK9e,MAAO,CAAE4T,QAAS,QAAvB,UACE,sBAAK5T,MAAO,CAAEE,gBAAiB,OAAQqX,OAAQ,mBAAoBpY,MAAO,IAAKC,OAAQ,KAAvF,UACE,oGACA,uJAWF,8BACE,cAAC,GAAD,gBAOV,qBAAKY,MAAO,CAAEb,MAAO,OAAQic,SAAU,SAAvC,SACE,eAAC,KAAD,CAAMgI,qBAAqB,EAAMC,SAAU,SAAC7I,EAAO8I,GAAR,OA7E7B,SAAC9I,EAAO8I,GAC1B,OAAQ9I,GACN,KAAK,EACHqH,EAAc,WACd,MACF,KAAK,EACHA,EAAc,UAuEmD0B,CAAY/I,IAA7E,UACE,eAAC,KAAD,WACE,cAAC,KAAD,uBACA,cAAC,KAAD,oBACA,cAAC,KAAD,6BACA,cAAC,KAAD,sBAEF,cAAC,KAAD,UACE,qBAAKxa,MAAO,CAAEuX,OAAQ,kBAAmBpY,MAAO,KAAhD,SACE,cAAC,GAAD,QAGJ,eAAC,KAAD,WACE,uCACA,oCAAM,uBAAO4H,SAAU,SAACtH,GAAD,OAAO0hB,EAAY1hB,EAAEkT,OAAOkB,QAAQA,MAAOqN,IAChE,wBAAQjhB,UAAU,aAAa+T,QAAS,kBAAMnW,EAAS,QAAD,OAASgP,EAAT,eAAwBqU,EAAxB,OAAtD,iBACA,wBAAQjhB,UAAU,aAAa+T,QAAS,kBAAMnW,EAAS,QAAD,OAASgP,EAAT,eAAwBqU,EAAxB,YAAtD,kBACA,wBAAQjhB,UAAU,aAAa+T,QAAS,kBAAMnW,EAAS,SAAD,OAAUgP,EAAV,QAAtD,mBACA,wBAAQ5M,UAAU,aAAa+T,QAAS,kBAAMnW,EAAS,UAAD,OAAWgP,EAAX,QAAtD,oBACA,wBAAQ5M,UAAU,aAAa+T,QAAS,kBAAMnW,EAAS,QAAD,OAASgP,EAAT,QAAtD,qBAEF,wBAAQmH,QAASwO,GAAjB,2BAAsDN,EAActd,OATtE,SASmF,uBACjF,2CAAoB,uBAAOrE,KAAK,OAAOwG,SAAU,SAAAtH,GAAC,OAAIsiB,EAActiB,EAAEkT,OAAOkB,UAC7E,qBAAK7T,MAAO,CAAEwjB,UAAW,QAASC,SAAU,QAASpJ,SAAU,UAA/D,SACE,uBAAO9C,OAAO,IAAd,SACE,gCACG2K,EAAc5P,KAAI,SAAC3F,EAAK4F,GACvB,OAAO,6BAAmB,oBAAIyB,QAAS,SAACvU,GACtC0hB,EAAa1hB,EAAEkT,OAAOE,UAAWjV,MAAM,KAAK,IAC5C,IAAI0C,EAAQgB,SAASoiB,eAAe,SAChC/b,EAASrG,SAASqiB,qBAAqB,UAAU,GAEiC,MAAlF,UAAInmB,EAAJ,kBAAsBiC,EAAEkT,OAAOE,WAAa+Q,MAAM,6BACpDtjB,EAAMujB,aAAa,SAAnB,UAAgCrmB,EAAhC,kBAAkDiC,EAAEkT,OAAOE,aAG3DvS,EAAMujB,aAAa,SAAnB,IACAlc,EAAOkc,aAAa,MAApB,UAA8BrmB,EAA9B,kBAAgDiC,EAAEkT,OAAOE,YACzDvS,EAAMwjB,SAXgB,SAcvBnX,KAdaoH,2BAsB1B,eAAC,KAAD,WACE,gDACA,cAAC,GAAD,IAEA,gCACE,0EAAgD,uBAChD,wBAAQC,QAASwO,GAAjB,2BAAsDH,EAAezd,OAFvE,SAEoF,uBAClF,2CAAoB,uBAAOrE,KAAK,OAAOwG,SAAU,SAAAtH,GAAC,OAAIwiB,EAAexiB,EAAEkT,OAAOkB,UAE9E,sBAAK7T,MAAO,CAAE4T,QAAS,OAAQsP,cAAe,UAA9C,UACE,qBAAKljB,MAAO,CAAEwjB,UAAW,QAASC,SAAU,QAASpJ,SAAU,SAAU9C,OAAQ,iBAAjF,SACE,uBAAOA,OAAO,IAAd,SACE,gCACG8K,EAAe/P,KAAI,SAAC3F,EAAK4F,GACxB,OAAO,6BAAY,oBAAIyB,QAAS,SAACvU,GAC/B6hB,EAAc9jB,EAAQ,UAAeiC,EAAEkT,OAAOE,YAD7B,SAEflG,KAFY4F,YAOxB,sBAAKvS,MAAO,CAAEuX,OAAQ,gBAAiB3D,QAAS,OAAQmQ,aAAc,SAAUC,WAAY,UAA5F,UACE,8BACE,qBAAK3jB,IAAKghB,EAAW4C,IAAI,GAAG9kB,MAAM,MAAMC,OAAO,MAAMY,MAAO,CAAEuX,OAAQ,sBAExE,wDACuB,uBACrB,wBAAQvD,QAAS,kBAAM/M,EAAsBxJ,OAAOwE,OAAOC,OAAQzE,OAAO4jB,YAA1E,sCAQV,eAAC,KAAD,WACE,sCACA,+BACE,qEACA,yOAWA,6EACA,mHAEA,mFAGA,+BAAI,mBAAGzM,KAAK,mDAAmDjC,OAAO,SAASuR,IAAI,aAA/E,yBAAJ,OACA,+BAAI,mBAAGtP,KAAK,mDAAmDjC,OAAO,SAASuR,IAAI,aAA/E,kCAAJ,OAEA,+BAAI,mBAAGtP,KAAK,kDAAkDjC,OAAO,SAASuR,IAAI,aAA9E,kCAAJ,OACA,+BAAI,mBAAGtP,KAAK,yBAAyBjC,OAAO,SAASuR,IAAI,aAArD,0BAAJ,OAEA,yCAIF,0CACA,+BACE,gEACA,0EACA,oEACA,iGC/VCC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBnmB,MAAK,YAAkD,IAA/ComB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,kBCMd3mB,OAAOqhB,MAAQA,GAEf6F,IAASC,OAEP,cAAC,IAAD,CAAU9F,MAAOA,GAAjB,SACE,cAAC,KAAD,CAAQ+F,SAAUzD,qBAAlB,SAGE,eAAC,KAAD,WACE,cAAC,KAAD,CAAO0D,OAAK,EAAC1Z,KAAK,IAAIwZ,OAAQ,kBAAO,cAAC,GAAD,OAErC,cAAC,KAAD,CAAOE,OAAK,EAAC1Z,KAAK,WAAWwZ,OAAQ,kBAAM,cAAC,GAAD,CAAStI,cAAc,cAKxEhb,SAASoiB,eAAe,SAM1BS,O","file":"static/js/main.705b8d5d.chunk.js","sourcesContent":["import axios from 'axios'\r\nexport var address1='http://' + (window.location.host).split(':')[0] +':8080' ;\r\n\r\nexport const endpoint = (string) => {\r\n    const data = { string: string }\r\n    axios.post(address1 + '/endpoint', data).then((aa) => {\r\n    //    console.log(aa)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n}\r\n","import React, { useState } from 'react';\r\nimport { endpoint } from './common';\r\nimport { Rnd } from 'react-rnd';\r\n\r\nconst Video = (props) => {\r\n    const [videoWidth, setVideoWidth] = useState(1024);\r\n    const [videoHeight, setVideoHeight] = useState(576);\r\n    const [videoX, setVideoX] = useState(0);\r\n    const [videoY, setVideoY] = useState(0);\r\n\r\n    return (<>\r\n        <Rnd\r\n            size={{ width: videoWidth, height: videoHeight }}\r\n            position={{ x: videoX, y: videoY }}\r\n            onDrag={(e, d) => {\r\n                setVideoX(d.x);\r\n                setVideoY(d.y)\r\n                endpoint(`mixer 1-1 fill ${d.x / 1024} ${d.y / 576} ${videoWidth / 1024} ${videoHeight / 576}`)\r\n            }}\r\n            onResize={(e, direction, ref, delta, position) => {\r\n\r\n                setVideoWidth(parseInt(ref.style.width));\r\n                setVideoHeight(parseInt(ref.style.height));\r\n                endpoint(`mixer 1-1 fill ${videoX / 1024} ${videoY / 576} ${parseInt(ref.style.width) / 1024} ${parseInt(ref.style.height) / 576}`)\r\n            }}\r\n        >\r\n            <div>\r\n                <div className=\"box\" style={{ width: videoWidth, height: videoHeight, backgroundColor: 'white' }} >\r\n                    <video id='video' width={videoWidth} height={videoHeight} style={{ objectFit: 'fill' }}>\r\n                        <source src={props.video} type=\"video/mp4\" />\r\n                    </video>\r\n                </div>\r\n            </div>\r\n        </Rnd>\r\n    </>)\r\n}\r\n\r\nexport default Video\r\n","import { useEffect, useState, useCallback } from \"react\";\r\n\r\nconst useContextMenu = () => {\r\n  const [xPos, setXPos] = useState(\"0px\");\r\n  const [yPos, setYPos] = useState(\"0px\");\r\n  const [showMenu, setShowMenu] = useState(false);\r\n\r\n  const handleContextMenu = useCallback(\r\n    (e) => {\r\n      if (e.clientX > 1024) return\r\n      if (e.clientY > 610) return\r\n\r\n      e.preventDefault();\r\n\r\n      setXPos(`${e.clientX - 60}px`);\r\n\r\n      if (e.clientY > 145) {\r\n\r\n        setYPos(`${30}px`);\r\n      }\r\n      else {\r\n        setYPos(`${e.clientY - 50}px`);\r\n      }\r\n      setShowMenu(true)\r\n\r\n    },\r\n    [setXPos, setYPos]\r\n  );\r\n\r\n  const handleClick = useCallback(() => {\r\n    showMenu && setShowMenu(false);\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick);\r\n    document.addEventListener(\"contextmenu\", handleContextMenu);\r\n    return () => {\r\n      document.addEventListener(\"click\", handleClick);\r\n      document.removeEventListener(\"contextmenu\", handleContextMenu);\r\n    };\r\n  });\r\n\r\n  return { xPos, yPos, showMenu };\r\n};\r\n\r\nexport default useContextMenu","import React, { useEffect, useState } from 'react'\r\n\r\nimport axios from 'axios';\r\nimport { fabric } from \"fabric\";\r\nimport { endpoint } from './common'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport \"fabric-history\";\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscLock, VscUnlock, VscTrash, VscMove } from \"react-icons/vsc\";\r\nimport { FaAlignLeft, FaAlignRight, FaSave, FaPlay, FaPause, FaStop } from \"react-icons/fa\";\r\nimport { GrResume } from 'react-icons/gr';\r\nimport { AiOutlineVerticalAlignTop, AiOutlineVerticalAlignBottom, AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\nimport { FiFile } from \"react-icons/fi\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { saveAs } from 'file-saver';\r\nimport Tooltip from '@mui/material/Tooltip';\r\n\r\nfabric.Object.prototype.noScaleCache = false;\r\n\r\nconst screenSizes = [1024, 1280, 1920, 2048, 3840, 4096]\r\n\r\nconst STEP = 5;\r\n\r\nvar Direction = {\r\n    LEFT: 0,\r\n    UP: 1,\r\n    RIGHT: 2,\r\n    DOWN: 3\r\n};\r\n\r\n\r\nfabric.util.addListener(document.body, 'keydown', function (options) {\r\n    // if (options.repeat) {\r\n    //     return;\r\n    // }\r\n    var key = options.which || options.keyCode; // key detection\r\n    if (key === 37) { // handle Left key\r\n        moveSelected(Direction.LEFT);\r\n    } else if (key === 38) { // handle Up key\r\n        moveSelected(Direction.UP);\r\n    } else if (key === 39) { // handle Right key\r\n        moveSelected(Direction.RIGHT);\r\n    } else if (key === 40) { // handle Down key\r\n        moveSelected(Direction.DOWN);\r\n    }\r\n});\r\nfunction moveSelected(direction) {\r\n    var activeObject = window.editor.canvas.getActiveObject();\r\n    if (activeObject) {\r\n        switch (direction) {\r\n            case Direction.LEFT:\r\n                activeObject.set({ left: activeObject.left - STEP });\r\n                break;\r\n            case Direction.UP:\r\n                activeObject.set({ top: activeObject.top - STEP });\r\n                break;\r\n            case Direction.RIGHT:\r\n                activeObject.set({ left: activeObject.left + STEP });\r\n                break;\r\n            case Direction.DOWN:\r\n                activeObject.set({ top: activeObject.top + STEP });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n        activeObject.setCoords();\r\n        window.editor.canvas.renderAll();\r\n\r\n    }\r\n}\r\n\r\nconst options = {\r\n    currentMode: \"\",\r\n    currentColor: \"#ffffff\",\r\n    currentFont: 'Arial',\r\n    currentFontSize: 25,\r\n    backgroundColor: \"#50037c\",\r\n    // currentWidth: 5,\r\n    group: {},\r\n    stroke: '#ffffff',\r\n    strokeWidth: 3,\r\n};\r\n\r\nexport const shadowOptions = {\r\n    color: 'black',\r\n    blur: 30,\r\n    offsetX: 0,\r\n    offsetY: 0,\r\n    affectStroke: false\r\n};\r\n\r\nexport var gradient = new fabric.Gradient({\r\n    type: 'linear',\r\n    // gradientUnits: 'pixels', // or 'percentage'\r\n    gradientUnits: 'percentage', // or 'percentage'\r\n    coords: { x1: 0, y1: 0, x2: 1, y2: 0 },\r\n    colorStops: [\r\n        { offset: 0, color: 'red' },\r\n        { offset: 0.2, color: 'orange' },\r\n        { offset: 0.4, color: 'yellow' },\r\n        { offset: 0.6, color: 'green' },\r\n        { offset: 0.8, color: 'blue' },\r\n        { offset: 1, color: 'purple' }\r\n    ]\r\n});\r\n\r\nvar clipPath1 = null;\r\nexport const setasClipPath = canvas => {\r\n    clipPath1 = canvas.getActiveObjects();\r\n}\r\nexport const cliptoPath = canvas => {\r\n    var img = canvas.getActiveObjects();\r\n    if (clipPath1.length > 0 && img.length > 0) {\r\n        clipPath1.forEach(element => {\r\n            element.set({ shadow: { ...shadowOptions, blur: 0 } });\r\n        });\r\n        var group = new fabric.Group([...clipPath1]);\r\n        group.set({ absolutePositioned: true });\r\n        canvas.sendToBack(group);\r\n        img[0].set('clipPath', group)\r\n        clipPath1.forEach(element => {\r\n            canvas.remove(element);\r\n        });\r\n        canvas.requestRenderAll();\r\n    }\r\n}\r\n\r\nexport const addClock = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'clock1',\r\n\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    setInterval(() => {\r\n        animate(canvas, sss)\r\n    }, 1000);\r\n}\r\n\r\nexport const addUpTimer = canvas => {\r\n    const sss = new fabric.Textbox('', {\r\n        shadow: shadowOptions,\r\n        left: 10,\r\n        top: 530,\r\n        width: 100,\r\n        fill: '#ffffff',\r\n        backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'center',\r\n        stroke: '',\r\n        strokeWidth: 0,\r\n        id: 'uptimer1',\r\n    });\r\n    canvas.add(sss).setActiveObject(sss);\r\n    canvas.requestRenderAll();\r\n    var startTime = new Date();\r\n    setInterval(() => {\r\n        var diff = (new Date()).getTime() - startTime.getTime();\r\n        var date_diff = new Date(diff - 30 * 60 * 1000);\r\n        var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n        sss.set({\r\n            'text': ss1,\r\n        })\r\n        canvas.requestRenderAll();\r\n    }, 40);\r\n}\r\n\r\nfunction animate(canvas, sss) {\r\n    var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n    sss.set({\r\n        'text': ss1,\r\n    })\r\n    canvas.requestRenderAll();\r\n}\r\nexport const createText = (canvas) => {\r\n\r\n    const text = new fabric.Text(\"    Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 243, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createIText = (canvas) => {\r\n\r\n    const text = new fabric.IText(\"    Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 343, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\n\r\nexport const createTextBox = (canvas) => {\r\n\r\n    const text = new fabric.Textbox(\"    Vimlesh Kumar From Doordarshan\", {\r\n        shadow: shadowOptions,\r\n        id: 'f0',\r\n        left: 100,\r\n        top: 0,\r\n        width: 480,\r\n        fill: '#ffffff',\r\n        // backgroundColor: options.backgroundColor,\r\n        fontFamily: options.currentFont,\r\n        fontWeight: 'bold',\r\n        fontSize: options.currentFontSize,\r\n        editable: true,\r\n        objectCaching: false,\r\n        textAlign: 'left',\r\n        padding: 5,\r\n\r\n    });\r\n    canvas.add(text).setActiveObject(text);\r\n    canvas.renderAll();\r\n    text.animate('top', 443, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const addRoundedCornerImage = (canvas, imageName1) => {\r\n\r\n    fabric.util.loadImage(imageName1, myImg => {\r\n        // fabric.Image.fromURL(imageName1,  myImg => {\r\n        if (myImg == null) {\r\n            alert(\"Error!\");\r\n        } else {\r\n            var rect = new fabric.Rect({\r\n                left: 10,\r\n                top: 10,\r\n                stroke: 'red',\r\n                strokeWidth: 3,\r\n                id: 'rectwithimg',\r\n                rx: 30,\r\n                objectCaching: false,\r\n                shadow: shadowOptions,\r\n                ry: 30\r\n            });\r\n            canvas.add(rect).setActiveObject(rect);\r\n\r\n            rect.set({\r\n                width: myImg.width, height: myImg.height, fill: new fabric.Pattern({ source: myImg, repeat: 'no-repeat' })\r\n            });\r\n            rect.set({ scaleX: 0.5, scaleY: 0.5 })\r\n            canvas.renderAll();\r\n        }\r\n    });\r\n}\r\n\r\nconst Upload = e => {\r\n    var reader = new FileReader();\r\n    reader.onload = function (event) {\r\n        var imgObj = new Image();\r\n        imgObj.src = event.target.result;\r\n        imgObj.onload = function () {\r\n            var image = new fabric.Image(imgObj);\r\n            image\r\n                .set({\r\n                    left: 10,\r\n                    top: 10,\r\n                    shadow: shadowOptions,\r\n                    stroke: 'white',\r\n                    strokeWidth: 3,\r\n                    strokeUniform: true,\r\n                    objectCaching: false,\r\n                })\r\n                .scale(0.5);\r\n\r\n            window.editor.canvas.add(image).setActiveObject(image);\r\n        };\r\n    };\r\n    reader.readAsDataURL(e.target.files[0]);\r\n\r\n}\r\n\r\nexport const setGradientColor = canvas => {\r\n    canvas.getActiveObjects().forEach(element => element.fill = gradient);\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const createRect = (canvas) => {\r\n    const rect = new fabric.Rect({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 90,\r\n        width: 500,\r\n        height: 80,\r\n        opacity: 0.9,\r\n        fill: 'rgb(80, 3, 124)',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n        rx: 10,\r\n        ry: 10\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 430, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createEllipse = (canvas) => {\r\n    const rect = new fabric.Ellipse({\r\n        shadow: shadowOptions,\r\n        top: -100,\r\n        left: 180,\r\n        rx: 50,\r\n        ry: 80,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 330, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\nexport const createLine = (canvas) => {\r\n    const rect = new fabric.Line([500, 450, 800, 450.00001], {\r\n        shadow: { ...shadowOptions, Blur: 10 },\r\n        top: -100,\r\n        left: 90,\r\n        height: 1,\r\n        opacity: 0.9,\r\n        fill: 'blue',\r\n        hasRotatingPoint: true,\r\n        objectCaching: false,\r\n        stroke: 'yellow',\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n    canvas.add(rect).setActiveObject(rect);\r\n    canvas.requestRenderAll();\r\n    rect.animate('top', 230, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const createCircle = (canvas) => {\r\n    const circle = new fabric.Circle({\r\n        shadow: shadowOptions,\r\n        top: 0,\r\n        left: 0,\r\n        radius: 50,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(circle).setActiveObject(circle);;\r\n    canvas.requestRenderAll();\r\n    // circle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n};\r\n\r\nexport const createTriangle = (canvas) => {\r\n    canvas.isDrawingMode = false;\r\n    const triangle = new fabric.Triangle({\r\n        shadow: shadowOptions,\r\n        top: 50,\r\n        left: -100,\r\n        width: 100,\r\n        height: 100,\r\n        fill: 'rgb(80, 3, 124)',\r\n        cornerSize: 7,\r\n        objectCaching: false,\r\n        hasRotatingPoint: true,\r\n        stroke: options.stroke,\r\n        strokeWidth: 3,\r\n        strokeUniform: true,\r\n    });\r\n\r\n    canvas.add(triangle).setActiveObject(triangle);;\r\n    canvas.requestRenderAll();\r\n    triangle.animate('left', 150, { onChange: canvas.renderAll.bind(canvas) })\r\n\r\n};\r\nexport const alignLeft = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'left') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const alignRight = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'right') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const alignCenter = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('textAlign', 'center') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textUnderline = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('underline', !element.underline) });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textLineThrough = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('linethrough', !element.linethrough) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const textItalic = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontStyle', 'italic') });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const txtBold = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontWeight', 'bold') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const textNormal = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fontWeight', 'normal') });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const removeBg = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('backgroundColor', '') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\n\r\nexport const removeFill = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fill', '') });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const removeStroke = canvas => {\r\n\r\n    canvas.getActiveObjects().forEach(element => { element.set('strokeWidth', 0) });\r\n    canvas.requestRenderAll();\r\n\r\n};\r\nexport const removeShadow = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('shadow', { ...shadowOptions, blur: 0 }) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const gradientFill = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('fill', gradient) });\r\n    canvas.requestRenderAll();\r\n};\r\nexport const gradientStroke = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { element.set('stroke', gradient) });\r\n    canvas.requestRenderAll();\r\n};\r\n\r\nexport const deleteSelectedItem = canvas => {\r\n    canvas.getActiveObjects().forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const swapFaceandStrokeColors = canvas => {\r\n    canvas.getActiveObjects().forEach(element => {\r\n        var oldFill = element.fill;\r\n        var oldStroke = element.stroke;\r\n        element.fill = oldStroke;\r\n        element.stroke = oldFill;\r\n    });\r\n    canvas.requestRenderAll();\r\n}\r\nexport const deleteAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => { canvas.remove(element) });\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n\r\n}\r\n\r\nexport const bringToFront = canvas => {\r\n    canvas.getActiveObjects().forEach(element => canvas.bringToFront(element));\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nexport const sendToBack = canvas => {\r\n    canvas.getActiveObjects().forEach(element => canvas.sendToBack(element));\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\n\r\nexport const undo = canvas => canvas.undo()\r\nexport const redo = canvas => canvas.redo()\r\n\r\nexport const setOpacity = (canvas, val = 0.5) => {\r\n    canvas.getActiveObjects().forEach(element => element.set({ 'opacity': val }));\r\n    canvas.requestRenderAll();\r\n}\r\nexport const setOpacity1 = (canvas, e) => {\r\n    canvas.getActiveObjects().forEach(element => element.set({ 'opacity': e.target.value }));\r\n    canvas.requestRenderAll();\r\n}\r\nexport const lock = canvas => {\r\n    canvas.getActiveObjects().forEach(element => element.selectable = false);\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n\r\n}\r\n\r\n\r\nexport const unlockAll = canvas => {\r\n    const aa = canvas.getObjects()\r\n    aa.forEach(element => element.selectable = true);\r\n}\r\n\r\nconst ErasedGroup = fabric.util.createClass(fabric.Group, {\r\n    original: null,\r\n    ErasedPath: null,\r\n    initialize: function (original, ErasedPath, options, isAlreadyGrouped) {\r\n        this.original = original;\r\n        this.ErasedPath = ErasedPath;\r\n        this.callSuper('initialize', [this.original, this.ErasedPath], options, isAlreadyGrouped);\r\n    },\r\n\r\n    _calcBounds: function (onlyWidthHeight) {\r\n        const aX = [],\r\n            aY = [],\r\n            props = ['tr', 'br', 'bl', 'tl'],\r\n            jLen = props.length,\r\n            ignoreZoom = true;\r\n\r\n        let o = this.original;\r\n        o.setCoords(ignoreZoom);\r\n        for (let j = 0; j < jLen; j++) {\r\n            var prop = props[j];\r\n            aX.push(o.oCoords[prop].x);\r\n            aY.push(o.oCoords[prop].y);\r\n        }\r\n\r\n        this._getBounds(aX, aY, onlyWidthHeight);\r\n    },\r\n});\r\nconst EraserBrush = fabric.util.createClass(fabric.PencilBrush, {\r\n\r\n    /**\r\n     * On mouseup after drawing the path on contextTop canvas\r\n     * we use the points captured to create an new fabric path object\r\n     * and add it to the fabric canvas.\r\n     */\r\n    _finalizeAndAddPath: function () {\r\n        var ctx = this.canvas.contextTop;\r\n        ctx.closePath();\r\n        if (this.decimate) {\r\n            this._points = this.decimatePoints(this._points, this.decimate);\r\n        }\r\n        var pathData = this.convertPointsToSVGPath(this._points).join('');\r\n        if (pathData === 'M 0 0 Q 0 0 0 0 L 0 0') {\r\n            // do not create 0 width/height paths, as they are\r\n            // rendered inconsistently across browsers\r\n            // Firefox 4, for example, renders a dot,\r\n            // whereas Chrome 10 renders nothing\r\n            this.canvas.requestRenderAll();\r\n            return;\r\n        }\r\n\r\n        // use globalCompositeOperation to 'fake' Eraser\r\n        var path = this.createPath(pathData);\r\n        path.globalCompositeOperation = 'destination-out';\r\n        path.selectable = false;\r\n        path.evented = false;\r\n        path.absolutePositioned = true;\r\n\r\n        // grab all the objects that intersects with the path\r\n        const objects = this.canvas.getObjects().filter((obj) => {\r\n            // if (obj instanceof fabric.Textbox) return false;\r\n            // if (obj instanceof fabric.IText) return false;\r\n            if ((obj instanceof fabric.Rect) && (obj.id === 'rectwithimg')) { return false }\r\n            if (!obj.intersectsWithObject(path)) return false;\r\n            return true;\r\n        });\r\n\r\n        if (objects.length > 0) {\r\n            // merge those objects into a group\r\n            const mergedGroup = new fabric.Group(objects);\r\n            const newPath = new ErasedGroup(mergedGroup, path);\r\n            const left = newPath.left;\r\n            const top = newPath.top;\r\n            // convert it into a dataURL, then back to a fabric image\r\n            const newData = newPath.toDataURL({\r\n                withoutTransform: true\r\n            });\r\n            fabric.Image.fromURL(newData, (fabricImage) => {\r\n                fabricImage.set({\r\n                    left: left,\r\n                    top: top,\r\n                    shadow: { ...shadowOptions, blur: 0 },\r\n                });\r\n                // remove the old objects then add the new image\r\n                this.canvas.remove(...objects);\r\n                this.canvas.add(fabricImage);\r\n            });\r\n        }\r\n\r\n        this.canvas.clearContext(this.canvas.contextTop);\r\n        this.canvas.renderAll();\r\n        this._resetShadow();\r\n    },\r\n});\r\n\r\nconst changeCurrentColor = (e) => {\r\n    options.currentColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fill = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n};\r\n\r\nconst changeBackGroundColor = (e) => {\r\n    options.backgroundColor = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.backgroundColor = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeStrokeCurrentColor = e => {\r\n    options.stroke = e.target.value;\r\n    window.editor.canvas.freeDrawingBrush.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.stroke = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst changeShadowCurrentColor = e => {\r\n    shadowOptions.color = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.color = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onBlurSizeChange = e => {\r\n    shadowOptions.blur = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.blur = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onoffsetXChange = e => {\r\n    shadowOptions.offsetX = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.offsetX = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst onoffsetYChange = e => {\r\n    shadowOptions.offsetY = e.target.value;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.offsetY = e.target.value } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst affectStroke = e => {\r\n    shadowOptions.affectStroke = e.target.checked;\r\n    window.editor.canvas.getActiveObjects().forEach(item => { if (item.shadow) { item.shadow.affectStroke = e.target.checked } })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onstrokeSizeChange = e => {\r\n    options.strokeWidth = parseInt(e.target.value);\r\n    window.editor.canvas.freeDrawingBrush.width = parseInt(e.target.value);\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.strokeWidth = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewXSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewX = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSkewYSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.skewY = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRxSizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.rx = parseInt(e.target.value)\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onRySizeChange = e => {\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.ry = parseInt(e.target.value))\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst putat00 = (canvas) => {\r\n    // canvas.setZoom(1)\r\n    canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n    selectAll(canvas);\r\n    canvas.getActiveObject()?.set({ left: 0, top: 0 });\r\n}\r\nconst alignAllLeft = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllTop = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top)\r\n    })\r\n    const min = Math.min(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = min;\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nconst alignAllRight = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.left + (item.width * item.scaleX))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.left = max - (item.width * item.scaleX);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst alignAllButtom = () => {\r\n    const arr = [];\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        arr.push(item.top + (item.height * item.scaleY))\r\n    })\r\n    const max = Math.max(...arr);\r\n    window.editor.canvas.getActiveObjects().forEach(item => {\r\n        item.top = max - (item.height * item.scaleY);\r\n    })\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\nconst onSizeChange = (e) => {\r\n    options.currentFontSize = e.target.value\r\n    window.editor.canvas.getActiveObjects().forEach(item => item.fontSize = e.target.value)\r\n    window.editor.canvas.requestRenderAll();\r\n}\r\n\r\nexport const groupObjects = (canvas, shouldGroup) => {\r\n    if (shouldGroup) {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'activeSelection') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toGroup().set({ shadow: shadowOptions });\r\n        canvas.requestRenderAll();\r\n\r\n    }\r\n    else {\r\n        if (!canvas.getActiveObject()) {\r\n            return;\r\n        }\r\n        if (canvas.getActiveObject().type !== 'group') {\r\n            return;\r\n        }\r\n        canvas.getActiveObject().toActiveSelection();\r\n        const aa = canvas.getObjects();\r\n        aa.forEach(element => element.set({ objectCaching: false, shadow: shadowOptions }));\r\n        canvas.requestRenderAll();\r\n    }\r\n};\r\n\r\nexport const savetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n\r\n    endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    }, 100);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 1000);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 1100);\r\n}\r\n\r\nexport const savetoCasparcgStoreClock = () => {\r\n    var dd = window.editor.canvas.toJSON()\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-120 store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 0 1 12 ${window.animationMethod}`)\r\n    }, 200);\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-120 ReadToCasparcgfromStore()`)\r\n    }, 680);\r\n    setTimeout(() => {\r\n        endpoint(`mixer ${window.chNumber}-120 fill 0 0 1 1 12 ${window.animationMethod}`)\r\n    }, 700);\r\n}\r\n\r\n\r\nexport const updatetoCasparcgStore = (layerNumber) => {\r\n    var dd = window.editor.canvas.toJSON(['id'])\r\n    const data = (JSON.stringify(dd)).replaceAll('\"', String.fromCharCode(2)).replaceAll(' ', String.fromCharCode(3)).replaceAll('/', String.fromCharCode(4)).replaceAll('%', String.fromCharCode(5))\r\n    endpoint(`call ${window.chNumber}-${layerNumber} store.dispatch({type:'CHANGE_CANVAS1',payload:'${data}'})`)\r\n\r\n    setTimeout(() => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} ReadToCasparcgfromStore()`)\r\n    }, 200);\r\n\r\n}\r\n// const removeFromCaspar = (layerNumber) => {\r\n//     endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n// }\r\n\r\nconst changeText = (key, val) => {\r\n    window.editor.canvas.getObjects().forEach((element) => {\r\n        if (element.id === key) {\r\n            element.set({ text: val.toString() })\r\n            window.editor.canvas.requestRenderAll();\r\n        }\r\n    })\r\n    endpoint(`call ${window.chNumber}-109 \"window.editor.canvas.getObjects().forEach((element)=>{if(element.id==='${key}'){element.set({text:'${val}'});window.editor.canvas.requestRenderAll();}})\"`)\r\n\r\n}\r\nexport const selectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    var sel = new fabric.ActiveSelection(canvas.getObjects(), {\r\n        canvas: canvas,\r\n    });\r\n    canvas.setActiveObject(sel);\r\n    canvas.requestRenderAll();\r\n}\r\nexport const deSelectAll = (canvas) => {\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n}\r\n\r\nvar _clipboard;\r\nexport const copy = () => {\r\n    window.editor.canvas.getActiveObject()?.clone(cloned => {\r\n        _clipboard = cloned;\r\n    }, ['id']);\r\n}\r\n\r\nexport const paste = () => {\r\n    try {\r\n\r\n\r\n        _clipboard?.clone(clonedObj => {\r\n            window.editor.canvas.discardActiveObject();\r\n            clonedObj.set({\r\n                left: clonedObj.left + 10,\r\n                top: clonedObj.top + 10,\r\n                evented: true,\r\n                objectCaching: false,\r\n            });\r\n            if (clonedObj.type === 'activeSelection') {\r\n                // active selection needs a reference to the canvas.\r\n                clonedObj.canvas = window.editor.canvas;\r\n                clonedObj.forEachObject(obj => {\r\n                    window.editor.canvas.add(obj);\r\n                });\r\n                // this should solve the unselectability\r\n                clonedObj.setCoords();\r\n            } else {\r\n                window.editor.canvas.add(clonedObj);\r\n            }\r\n            _clipboard.top += 10;\r\n            _clipboard.left += 10;\r\n            window.editor.canvas.setActiveObject(clonedObj);\r\n            window.editor.canvas.requestRenderAll();\r\n        }, ['id']);\r\n    } catch (error) {\r\n        alert(error)\r\n    }\r\n}\r\n\r\nconst DrawingController = ({ chNumber }) => {\r\n    const [fontList, setFontList] = useState([\r\n        'Helvetica',\r\n        'Calibri',\r\n        'Futura',\r\n        'Garamond',\r\n        'Times New Roman',\r\n        'Arial',\r\n        'Cambria',\r\n        'Verdana',\r\n        'Rockwell',\r\n        'Franklin Gothic',\r\n        'ARVO',\r\n        'Gigi'\r\n    ])\r\n\r\n    const [currentFont, setCurrentFont] = useState('Arial')\r\n    var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n    const [canvaslist, setCanvaslist] = useState([{ 'pageName': ss + '_pageName', 'pageValue': '' }])\r\n\r\n    const [currentPage, setCurentPage] = useState(0)\r\n    const [currentscreenSize, setCurrentscreenSize] = useState(1024)\r\n    const [f0, setF0] = useState('Ganesh Tiwari');\r\n    const [f1, setF1] = useState('Suresh Malhotra');\r\n    const [f2, setF2] = useState('Mahesh prasad');\r\n    const [onlineImageUrl, setOnlineImageUrl] = useState('https://fixthephoto.com/images/content/shirt-fabric-texture-471614080378.jpg')\r\n    const [verticalSpeed, setVerticalSpeed] = useState(0.3)\r\n    const [horizontalSpeed, setHorizontalSpeed] = useState(0.3)\r\n    const [ltr, setLtr] = useState(false);\r\n\r\n    const strokeLineCaps = [\"butt\", \"round\", \"square\"];\r\n    const [currentstrokeLineCap, setCurrentstrokeLineCap] = useState('round');\r\n\r\n\r\n\r\n\r\n\r\n    const [solidcaption1, setSolidcaption1] = useState('');\r\n    const [solidcaption2, setSolidcaption2] = useState('');\r\n    const [logo, setLogo] = useState('');\r\n    const [locationBand, setLocationBand] = useState('');\r\n\r\n    const [verticalScroll, setVerticalScroll] = useState('');\r\n    const [horizontalScroll, setHorizontalScroll] = useState('');\r\n    const [clock, setClock] = useState('');\r\n    const [upTimer, setUpTimer] = useState('');\r\n    const modes = ['Pencil', 'Spray', 'Erase', 'none'];\r\n\r\n    const [currentMode, setCurrentMode] = useState('none');\r\n    // window.currentMode = currentMode;\r\n\r\n    const onDrawingModeChange = (mode, canvas) => {\r\n        setCurrentMode(mode);\r\n        if (mode === 'none') {\r\n            canvas.isDrawingMode = false;\r\n            return;\r\n        } else {\r\n            canvas.isDrawingMode = true;\r\n        }\r\n\r\n\r\n        if (mode === 'Pencil') {\r\n            canvas.freeDrawingBrush = new fabric.PencilBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.stroke;\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n        else if (mode === 'Spray') {\r\n            canvas.freeDrawingBrush = new fabric.SprayBrush(canvas);\r\n            canvas.freeDrawingBrush.color = options.stroke;\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n\r\n        else if (mode === 'Erase') {\r\n            canvas.freeDrawingBrush = new EraserBrush(canvas);\r\n            canvas.freeDrawingBrush.color = 'white';\r\n            canvas.freeDrawingBrush.width = options.strokeWidth;\r\n        }\r\n        canvas.freeDrawingBrush.strokeLineCap = currentstrokeLineCap;\r\n\r\n    }\r\n    window.onDrawingModeChange = onDrawingModeChange;\r\n    const toggleModeDrawing = (canvas) => {\r\n        canvas.isDrawingMode = false;\r\n        setCurrentMode('none');\r\n    }\r\n    window.toggleModeDrawing = toggleModeDrawing;\r\n\r\n    const id = 'f0';\r\n\r\n    const onFontChange = (e) => {\r\n        options.currentFont = e.target.value;\r\n        setCurrentFont(e.target.value);\r\n        window.editor.canvas.getActiveObjects().forEach(item => item.fontFamily = e.target.value)\r\n        window.editor.canvas.requestRenderAll();\r\n    }\r\n    const onstrokeLineCapChange = e => {\r\n        window.editor.canvas.freeDrawingBrush.strokeLineCap = e.target.value;\r\n        setCurrentstrokeLineCap(e.target.value);\r\n    }\r\n\r\n    const onDragEnd = (result) => {\r\n        const aa = [...canvaslist]\r\n        if (result.destination != null) {\r\n            aa.splice(result.destination?.index, 0, aa.splice(result.source?.index, 1)[0])\r\n            setCanvaslist(aa)\r\n            if (currentPage === result.source?.index) {\r\n                setCurentPage(result.destination?.index)\r\n            }\r\n            else if ((currentPage >= result.destination?.index) && (currentPage < result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage + 1)\r\n            }\r\n            else if ((currentPage <= result.destination?.index) && (currentPage > result.source?.index)) {\r\n                setCurentPage(currentPage => currentPage - 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    const drawingFileSave = () => {\r\n        updatePage(window.editor.canvas);\r\n        const element = document.createElement(\"a\");\r\n        var aa = ''\r\n        canvaslist.forEach(val => {\r\n            aa += JSON.stringify({ 'pageName': val.pageName, 'pageValue': val.pageValue }) + '\\r\\n'\r\n        });\r\n        const file = new Blob([aa], { type: 'text/plain' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss\r\n        if (currentFile === 'new') {\r\n            ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        } else {\r\n            ss = currentFile;\r\n        }\r\n\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const drawingFileNew = () => {\r\n        setCanvaslist([]);\r\n    }\r\n\r\n    let fileReader;\r\n    const handleFileRead = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = []\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n    var currentFile = 'new';\r\n\r\n    const handleFileChosen = (file) => {\r\n        currentFile = file.name\r\n        if (file) {\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead;\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n    const handleFileChosen2 = (file) => {\r\n        if (file) {\r\n            setCurentPage('')\r\n            fileReader = new FileReader();\r\n            fileReader.onloadend = handleFileRead2;\r\n            fileReader.readAsText(file);\r\n        }\r\n    };\r\n    const handleFileRead2 = (e) => {\r\n        const content = fileReader.result;\r\n        var aa = content.split('\\r\\n')\r\n        aa.splice(-1)\r\n        var bb = [...canvaslist]\r\n        aa.forEach(element => {\r\n            var cc = JSON.parse(element)\r\n            bb.push(cc)\r\n        });\r\n        setCanvaslist([...bb])\r\n    };\r\n\r\n    const onVerticalSpeedChange = (e) => {\r\n        setVerticalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-110 \"speed=${e.target.value}\"`);\r\n    }\r\n    const onHorizontalSpeedChange = (e) => {\r\n        setHorizontalSpeed(e.target.value)\r\n        endpoint(`call ${window.chNumber}-111 \"speed=${e.target.value}\"`);\r\n    }\r\n    const exportSVG = canvas => {\r\n        const element = document.createElement(\"a\");\r\n        var aa = canvas.toSVG()\r\n        const file = new Blob([aa], { type: 'text/xml' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal;\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const importSVG = file => {\r\n        if (file) {\r\n            var site_url = URL.createObjectURL(file);\r\n            fabric.loadSVGFromURL(site_url, function (objects) {\r\n                objects?.forEach(element => {\r\n                    window.editor.canvas.add(element);\r\n                    element.objectCaching = false;\r\n                    element.shadow = shadowOptions;\r\n                });\r\n            });\r\n            window.editor.canvas.renderAll();\r\n        }\r\n    }\r\n\r\n    const exportHTML1 = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            var aa = `<!DOCTYPE html>\r\n                <html lang=\"en\">\r\n                <head>\r\n                    <meta charset=\"UTF-8\">\r\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                    <title>Document</title>\r\n                </head>\r\n                <body>\r\n                <div> ${canvas.toSVG()}  </div>\r\n                 </body>\r\n                 <script>\r\n                document.body.style.margin='0';\r\n                document.body.style.padding='0';\r\n                document.body.style.overflow='hidden';\r\n                var aa = document.getElementsByTagName('div')[0];\r\n                aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n                </script>\r\n                </html>`\r\n            const file = new Blob([aa], { type: 'text/html' });\r\n            saveAs(file, retVal + '.html')\r\n        }\r\n    }\r\n    const exportPng = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var br = (canvas.getActiveObject())?.getBoundingRect();\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            try {\r\n                saveAs(canvas.toDataURL({\r\n                    format: 'png',\r\n                    left: br.left,\r\n                    top: br.top,\r\n                    width: br.width,\r\n                    height: br.height\r\n                }), retVal + '.png')\r\n\r\n            } catch (error) {\r\n                alert(error)\r\n            }\r\n        }\r\n    }\r\n\r\n    const exportVerticalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n          setInterval(function(){\r\n              aa.style.top =(aa.getBoundingClientRect().top-speed)+'px';\r\n             }, 1);\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportHorizontalScrollAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width + 100;\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n         <script>\r\n        var aa = document.getElementsByTagName('div')[0];\r\n        aa.style.position='absolute';\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${horizontalSpeed};\r\n        if (${!ltr}){\r\n          aa.style.left='100%';\r\n          setInterval(function(){\r\n              aa.style.left =(aa.getBoundingClientRect().left-speed)+'px';\r\n              if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n           }, 1);\r\n        }\r\n        else{\r\n            aa.style.left=-${hh};\r\n            setInterval(function(){\r\n                aa.style.left =(aa.getBoundingClientRect().left+speed)+'px';\r\n                if (aa.getBoundingClientRect().left >${hh}){aa.style.left=-${hh}};\r\n             }, 1);\r\n        }\r\n         </script>\r\n         `;\r\n        aa += `\r\n            </body>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportClockAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            setInterval(function() {\r\n                var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n             cc.textContent  =ss1;\r\n              }, 1000);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n    const exportUpTimerAsHTML = canvas => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        const element = document.createElement(\"a\");\r\n        var aa = `<!DOCTYPE html>\r\n        <html lang=\"en\">\r\n        <head>\r\n            <meta charset=\"UTF-8\">\r\n            <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n            <title>Document</title>\r\n        </head>\r\n        \r\n        <body>\r\n        `;\r\n        aa += '<div>' + canvas.toSVG() + '</div>';\r\n        aa += `\r\n            </body>\r\n            <script>\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            document.body.style.overflow='hidden';\r\n            var aa = document.getElementsByTagName('div')[0];\r\n            aa.style.position='absolute';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            var cc=document.getElementsByTagName('tspan')[0];\r\n            cc.textContent='';\r\n            var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n              </script>\r\n            </html>`\r\n        const file = new Blob([aa], { type: 'text/html' });\r\n        element.href = URL.createObjectURL(file);\r\n        var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n        var retVal = prompt(\"Enter  file name to save : \", ss + \"_FileName\");\r\n        if (retVal !== null) {\r\n            element.download = retVal + '.html';\r\n            document.body.appendChild(element); // Required for this to work in FireFox\r\n            element.click();\r\n        }\r\n    }\r\n\r\n\r\n    const startVerticalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().height + 100;\r\n        endpoint(`play ${window.chNumber}-110 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-110 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.height='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 1024 ${hh}');\r\n        aa.style.top='100%';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n       document.body.style.overflow='hidden';\r\n       var speed=${verticalSpeed};\r\n       setInterval(function() {\r\n         aa.style.top =aa.getBoundingClientRect().top-speed;\r\n          }, 1);\r\n        \"`)\r\n    }\r\n\r\n    const startHorizontalScroll = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        var hh = (canvas.getActiveObject())?.getBoundingRect().width;\r\n        endpoint(`play ${window.chNumber}-111 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-111 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.getElementsByTagName('svg')[0].style.width='${hh}';\r\n        document.getElementsByTagName('svg')[0].setAttribute('viewBox','0 0 ${hh} 576');\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var speed=${horizontalSpeed};\r\n        if (${!ltr}){\r\n                    aa.style.left='100%';\r\n                    setInterval(function() {\r\n                    aa.style.left =aa.getBoundingClientRect().left-speed;\r\n                    if (aa.getBoundingClientRect().left < -${hh}){aa.style.left='100%'};\r\n                    }, 1);\r\n                    }\r\n        else{\r\n            aa.style.left=-${hh};\r\n            setInterval(function() {\r\n            aa.style.left =aa.getBoundingClientRect().left+speed;\r\n            if (aa.getBoundingClientRect().left > ${currentscreenSize}){aa.style.left=-${hh}};\r\n            }, 1);\r\n        }\r\n        \"`)\r\n    }\r\n\r\n    const startClock = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n\r\n        endpoint(`play ${window.chNumber}-112 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-112 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        setInterval(function() {\r\n            var ss1 = new Date().toLocaleTimeString('en-US', { hour12: false, hour: 'numeric', minute: 'numeric', second: 'numeric' });\r\n         cc.textContent  =ss1;\r\n          }, 1000);\r\n        \"`)\r\n    }\r\n    const startUpTimer = (canvas) => {\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        selectAll(canvas);\r\n        endpoint(`play ${window.chNumber}-115 [HTML] xyz.html`);\r\n        endpoint(`call ${window.chNumber}-115 \"\r\n        var aa = document.createElement('div');\r\n        aa.style.position='absolute';\r\n        aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n        document.body.appendChild(aa);\r\n        document.body.style.margin='0';\r\n        document.body.style.padding='0';\r\n        aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n        document.body.style.overflow='hidden';\r\n        var cc=document.getElementsByTagName('tspan')[0];\r\n        cc.textContent='';\r\n        var startTime = new Date();\r\n        setInterval(function() {\r\n            var diff = (new Date()).getTime() - startTime.getTime();\r\n            var date_diff = new Date(diff - 30 * 60 * 1000);\r\n            var ss1 = date_diff.toLocaleString('en-US', { minute: '2-digit', second: '2-digit' }) + ':' + String(date_diff.getMilliseconds()).padStart(3, '0');\r\n            cc.textContent  =ss1;\r\n          }, 40);\r\n        \"`)\r\n    }\r\n\r\n    const startGraphics = (canvas, layerNumber) => {\r\n\r\n        canvas.setViewportTransform([1, 0, 0, 1, 0, 0]);\r\n        // selectAll(canvas);\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 6 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`play ${window.chNumber}-${layerNumber} [HTML] xyz.html`);\r\n        }, 250);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            var aa = document.createElement('div');\r\n            aa.style.position='absolute';\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            document.body.appendChild(aa);\r\n            document.body.style.margin='0';\r\n            document.body.style.padding='0';\r\n            aa.style.zoom=(${currentscreenSize * 100}/1024)+'%';\r\n            document.body.style.overflow='hidden';\r\n            \"`)\r\n        }, 300);\r\n\r\n        setTimeout(() => {\r\n            endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 1 1 10 ${window.animationMethod}`)\r\n        }, 800);\r\n\r\n    }\r\n    const updateGraphics = (canvas, layerNumber) => {\r\n        endpoint(`call ${window.chNumber}-${layerNumber} \"\r\n            aa.innerHTML='${(canvas.toSVG()).replaceAll('\"', '\\\\\"')}';\r\n            \"`)\r\n    }\r\n    const stopGraphics = layerNumber => {\r\n        endpoint(`mixer ${window.chNumber}-${layerNumber} fill 0 0 0 1 12 ${window.animationMethod}`)\r\n        setTimeout(() => {\r\n            endpoint(`stop ${window.chNumber}-${layerNumber}`)\r\n        }, 1000);\r\n\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    // eslint-disable-next-line\r\n    const canvasToJson = (canvas) => {\r\n        dispatch({ type: 'CHANGE_CANVAS1', payload: (JSON.stringify(canvas.toJSON(['id']))) })\r\n    };\r\n\r\n    const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n    // eslint-disable-next-line\r\n    const canvasFromJson = (canvas) => {\r\n        var state2 = state1.replace(new RegExp('asdfgh', \"g\"), ' ')\r\n        const data = JSON.parse(state2);\r\n        canvas.loadFromJSON(data);\r\n        canvas.requestRenderAll();\r\n    };\r\n    const recallPage = (json, canvas, i) => {\r\n        setCurentPage(i)\r\n        canvas.loadFromJSON(json, function () {\r\n            const aa = canvas.getObjects();\r\n            aa.forEach(element => {\r\n                try {\r\n                    element.set({ objectCaching: false })\r\n                } catch (error) {\r\n                    alert(error);\r\n                    return;\r\n                }\r\n            });\r\n            canvas.renderAll();\r\n        });\r\n\r\n    }\r\n    const updatePage = (canvas) => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === currentPage) ? { 'pageName': val.pageName, 'pageValue': canvas.toJSON(['id']) } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n\r\n    const updatePageName = e => {\r\n        const updatedCanvasList = canvaslist.map((val, i) => {\r\n            return (i === parseInt(e.target.getAttribute('key1'))) ? { 'pageName': e.target.innerText, 'pageValue': val.pageValue } : val;\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    const onDoubleClickPageName = (event) => {\r\n        event.preventDefault();\r\n        var sel = window.getSelection();\r\n        var range = document.createRange();\r\n        range.selectNodeContents(event.target);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n    const deletePage = e => {\r\n        if (currentPage > e.target.getAttribute('key1')) {\r\n            setCurentPage(currentPage => currentPage - 1)\r\n        }\r\n        else if (currentPage === parseInt(e.target.getAttribute('key1'))) {\r\n            setCurentPage(null)\r\n        }\r\n        const updatedCanvasList = canvaslist.filter((_, i) => {\r\n            return (parseInt(e.target.getAttribute('key1')) !== i)\r\n        });\r\n        setCanvaslist([...updatedCanvasList])\r\n    }\r\n    useEffect(() => {\r\n        setCurrentscreenSize(localStorage.getItem('RCC_currentscreenSize'))\r\n        axios.post('http://localhost:8080/getfonts').then((aa) => {\r\n            setFontList(aa.data)\r\n        }).catch((aa) => { console.log('Error', aa) });\r\n        return () => {\r\n        }\r\n    }, [])\r\n\r\n\r\n    // useEffect(() => {\r\n    //     const autoPageUpdate = setInterval((\r\n    //     ) => {\r\n    //         updatePage(window.editor?.canvas)\r\n    //     }, 1000);\r\n    //     return () => {\r\n    //         clearInterval(autoPageUpdate)\r\n    //     }\r\n    // }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', e => {\r\n            // console.log(e.key);\r\n            if (e.repeat) {\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'Delete') {\r\n                window.editor.canvas.getActiveObjects().forEach(item => {\r\n                    //  alert(item.type);\r\n                    if (!((item.type === 'textbox') && item.isEditing)) { window.editor.canvas.remove(item); }\r\n                });\r\n            }\r\n            if (e.ctrlKey && e.key === 'c') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { copy() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'v') {\r\n                const item = window.editor.canvas.getActiveObjects()[0];\r\n                if (!((item?.type === 'textbox') && item?.isEditing)) { paste() }\r\n            }\r\n            if (e.ctrlKey && e.key === 'z') {\r\n                window.editor.canvas.undo();\r\n            }\r\n\r\n        });\r\n        return () => {\r\n            window.removeEventListener('keydown', null)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div style={{ display: 'flex' }}>\r\n            <div style={{ width: 475, backgroundColor: '#f4f0e7' }}>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Screen Setup: </b>\r\n                    Casparcg Screen Sizes  <select value={currentscreenSize} onChange={e => {\r\n                        setCurrentscreenSize(e.target.value);\r\n                        localStorage.setItem('RCC_currentscreenSize', e.target.value)\r\n                    }\r\n                    }>  {screenSizes.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })} </select>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Solid Caption 1: </b>\r\n\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 108);\r\n                        setSolidcaption1(canvaslist[currentPage]?.pageName);\r\n                    }\r\n                    }><FaPlay /></button>\r\n                    <button onClick={() => updateGraphics(window.editor.canvas, 108)}>Update</button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        stopGraphics(108);\r\n                        setSolidcaption1('');\r\n\r\n                    }} ><FaStop /></button>\r\n                    <span> {solidcaption1} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Solid Caption 2: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 109);\r\n                        setSolidcaption2(canvaslist[currentPage]?.pageName);\r\n                    }\r\n                    }><FaPlay />  </button>  <button onClick={() => updateGraphics(window.editor.canvas, 109)}>Update</button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        stopGraphics(109);\r\n                        setSolidcaption2('');\r\n                    }} ><FaStop /></button>\r\n                    <span> {solidcaption2} </span>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Logo: </b>\r\n\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 215);\r\n                        setLogo(canvaslist[currentPage]?.pageName);\r\n                    }\r\n                    }><FaPlay />  </button>\r\n                    <button onClick={() => updateGraphics(window.editor.canvas, 215)}>Update</button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        stopGraphics(215);\r\n                        setLogo('');\r\n                    }} ><FaStop /></button>\r\n                    <span> {logo} </span>\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Location Band: </b>\r\n                    <button onClick={() => {\r\n                        startGraphics(window.editor.canvas, 210);\r\n                        setLocationBand(canvaslist[currentPage]?.pageName);\r\n                    }\r\n                    }><FaPlay />  </button>\r\n                    <button onClick={() => updateGraphics(window.editor.canvas, 210)}>Update</button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        stopGraphics(210);\r\n                        setLocationBand('');\r\n                    }} ><FaStop /></button>\r\n                    <span> {locationBand} </span>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> V Scroll: </b>  <button onClick={() => {\r\n                        startVerticalScroll(window.editor?.canvas);\r\n                        setVerticalScroll(canvaslist[currentPage]?.pageName)\r\n                    }}><FaPlay /> </button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=0\"`)}><FaPause /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-110 \"speed=${verticalSpeed}\"`)}> <GrResume /></button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-110`);\r\n                        setVerticalScroll('')\r\n                    }} ><FaStop /></button>\r\n                    Speed:<input style={{ width: '40px' }} onChange={e => onVerticalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n\r\n                    <button onClick={() => exportVerticalScrollAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {verticalScroll} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> H Scroll: </b>\r\n                    <button onClick={() => {\r\n                        startHorizontalScroll(window.editor?.canvas);\r\n                        setHorizontalScroll(canvaslist[currentPage]?.pageName);\r\n                    }}><FaPlay /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=0\"`)}> <FaPause /></button>\r\n                    <button onClick={() => endpoint(`call ${window.chNumber}-111 \"speed=${horizontalSpeed}\"`)}> <GrResume /></button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-111`);\r\n                        setHorizontalScroll('');\r\n                    }} ><FaStop /></button>\r\n                    Speed:<input style={{ width: '40px' }} onChange={e => onHorizontalSpeedChange(e)} type=\"number\" min='0' max='5' step='0.01' defaultValue='0.3' />\r\n                    <button onClick={() => exportHorizontalScrollAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <br /> <span> Left to Right:</span>  <input type=\"checkbox\" value={ltr} onChange={e => setLtr(val => !val)} />\r\n                    <span> {horizontalScroll} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Clock: </b>\r\n                    <button onClick={() => addClock(window.editor.canvas)}>Add to Preview</button>\r\n                    <button onClick={() => {\r\n                        startClock(window.editor.canvas);\r\n                        setClock(canvaslist[currentPage]?.pageName);\r\n                    }}><FaPlay /></button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-112`);\r\n                        setClock('');\r\n                    }} ><FaStop /></button>\r\n                    <button onClick={() => exportClockAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {clock} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Count Up Timer: </b>\r\n                    <button onClick={() => addUpTimer(window.editor.canvas)}>Add to Preview</button>\r\n                    <button onClick={() => {\r\n                        startUpTimer(window.editor.canvas);\r\n                        setUpTimer(canvaslist[currentPage]?.pageName);\r\n                    }}><FaPlay /></button>\r\n                    <button className='stopButton' onClick={() => {\r\n                        endpoint(`stop ${window.chNumber}-115`);\r\n                        setUpTimer('');\r\n                    }} ><FaStop /></button>\r\n                    <button onClick={() => exportUpTimerAsHTML(window.editor.canvas)}>To HTML</button>\r\n                    <span> {upTimer} </span>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Drawing Elements: </b>\r\n                    <button onClick={() => createRect(window.editor.canvas)}> <VscPrimitiveSquare /></button>\r\n                    <Tooltip title=\"MutliLine Text Box\"><button onClick={() => createTextBox(window.editor.canvas)}>TB</button></Tooltip>\r\n                    <Tooltip title=\"Single Line Text Box\"><button onClick={() => createIText(window.editor.canvas)}>IT</button></Tooltip>\r\n                    <Tooltip title=\"Single Line Text Box Not Editable\"><button onClick={() => createText(window.editor.canvas)}>T</button></Tooltip>\r\n                    <button onClick={() => createCircle(window.editor?.canvas)}>  <VscCircleFilled /></button>\r\n                    <button onClick={() => createTriangle(window.editor.canvas)}><VscTriangleUp /></button>\r\n                    <button onClick={() => createEllipse(window.editor.canvas)}>Ellipse</button>\r\n                    <button onClick={() => createLine(window.editor.canvas)}>Line</button>\r\n\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Opacity: </b><input className='inputRange' onChange={e => setOpacity1(window.editor.canvas, e)} type=\"range\" min='0' max='1' step='0.1' defaultValue='1' />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Font: </b>\r\n                    Name:  <select onChange={e => onFontChange(e)} value={currentFont}>\r\n                        {fontList.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n                    <br />  Size<input className='inputRange' onChange={e => onSizeChange(e)} type=\"range\" min='0' max='100' step='1' defaultValue='25' />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Free Drawing: </b>\r\n                    Type:  <select onChange={e => onDrawingModeChange(e.target.value, window.editor.canvas)} value={currentMode}>\r\n                        {modes.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n\r\n                    End:  <select onChange={e => onstrokeLineCapChange(e)} value={currentstrokeLineCap}>\r\n                        {strokeLineCaps.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Colors: </b>\r\n                    Fill <input type=\"color\" defaultValue='#ffffff' onChange={e => changeCurrentColor(e)} />\r\n                    BG <input type=\"color\" defaultValue='#40037c' onChange={e => changeBackGroundColor(e)} />\r\n                    Stroke<input type=\"color\" defaultValue='#ffffff' onChange={e => changeStrokeCurrentColor(e)} />\r\n                    <button onClick={() => swapFaceandStrokeColors(window.editor.canvas)}>Swap Face/Stroke Color</button>\r\n                    Stroke/Brush width:\r\n                    <input className='inputRange' onChange={e => onstrokeSizeChange(e)} type=\"range\" id='strokeSizeOSD' min='0' max='100' step='1' defaultValue='3' />\r\n                </div>\r\n                <div style={{ display: 'flex' }}>\r\n                    <div  >\r\n                        <table border='1'>\r\n                            <tbody>\r\n                                <tr><td> <b> Shadow: </b></td><td>color <input type=\"color\" defaultValue='#000000' onChange={e => changeShadowCurrentColor(e)} />   </td></tr>\r\n                                <tr><td>affectStroke</td><td><input type=\"checkbox\" onChange={(e) => affectStroke(e)} /></td></tr>\r\n                                <tr><td>Blur</td><td> <input className='inputRange' onChange={e => onBlurSizeChange(e)} type=\"range\" min='0' max='100' step='1' defaultValue='30' /> </td></tr>\r\n                                <tr><td>offsetX</td><td> <input className='inputRange' onChange={e => onoffsetXChange(e)} type=\"range\" min='-400' max='400' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td> offsetY</td><td><input className='inputRange' onChange={e => onoffsetYChange(e)} type=\"range\" min='-200' max='200' step='1' defaultValue='0' /></td></tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    <div  >\r\n\r\n                        <table border='1'>\r\n                            <tbody>\r\n                                <tr><td colSpan='2'> <b> Skew: </b></td></tr>\r\n                                <tr><td>SkewX:</td><td> <input className='inputRange' onChange={e => onSkewXSizeChange(e)} type=\"range\" id='skewX' min='-60' max='60' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td>SkewY:</td><td> <input className='inputRange' onChange={e => onSkewYSizeChange(e)} type=\"range\" id='skewY' min='-60' max='60' step='1' defaultValue='0' /></td></tr>\r\n                                <tr><td>RX:</td><td>  <input className='inputRange' onChange={e => onRxSizeChange(e)} type=\"range\" id='RX' min='-360' max='360' step='1' defaultValue='30' />   </td></tr>\r\n                                <tr><td> RY:</td><td><input className='inputRange' onChange={e => onRySizeChange(e)} type=\"range\" id='RY' min='-360' max='360' step='1' defaultValue='30' /></td></tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b>Zoom and Pan: </b>\r\n                    <button onClick={() => window.editor.canvas.setZoom(1)}>Reset Zoom</button>\r\n                    <button onClick={() => window.editor.canvas.setViewportTransform([window.editor.canvas.getZoom(), 0, 0, window.editor.canvas.getZoom(), 0, 0])}>Reset Pan</button>\r\n                    <button onClick={() => putat00(window.editor.canvas)}>Select All and Put at 0 0</button>\r\n\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b>Tools: </b>\r\n                    <button onClick={() => alignAllLeft()}><FaAlignLeft /></button>\r\n                    <button onClick={() => alignAllRight()}><FaAlignRight /></button>\r\n                    <button onClick={() => alignAllTop()}><AiOutlineVerticalAlignTop /> <AiOutlineVerticalAlignTop /> </button>\r\n                    <button onClick={() => alignAllButtom()}><AiOutlineVerticalAlignBottom /><AiOutlineVerticalAlignBottom /></button>\r\n                    <button onClick={() => deleteSelectedItem(window.editor.canvas)}><VscTrash /> Selected</button>\r\n                    <button onClick={() => deleteAll(window.editor.canvas)}><VscTrash /> All</button>\r\n                    <button onClick={() => lock(window.editor.canvas)}><VscLock /></button>\r\n                    <button onClick={() => unlockAll(window.editor.canvas)}><VscUnlock /> All</button>\r\n                    <button onClick={() => undo(window.editor.canvas)}><AiOutlineUndo /> Undo</button>\r\n                    <button onClick={() => redo(window.editor.canvas)}><AiOutlineRedo /> Redo</button>\r\n                    <button onClick={() => copy(window.editor.canvas)}> Copy</button>\r\n                    <button onClick={() => paste(window.editor.canvas)}> Paste</button>\r\n                    <button onClick={() => selectAll(window.editor.canvas)}> Select All</button>\r\n                    <button onClick={() => deSelectAll(window.editor.canvas)}> Deselect All</button>\r\n\r\n                    <button onClick={() => sendToBack(window.editor.canvas)}> Send To Back</button>\r\n                    <button onClick={() => bringToFront(window.editor.canvas)}> Bring To Front</button>\r\n\r\n                </div>\r\n\r\n\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from URL: </b>\r\n                    <input onChange={(e) => setOnlineImageUrl(e.target.value)} size=\"55\" type='text' defaultValue={onlineImageUrl}></input>\r\n                    <button onClick={() => addRoundedCornerImage(window.editor.canvas, onlineImageUrl)}>Add</button>\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Image from Local PC: </b>\r\n                    <input type=\"file\" accept=\"image/*\" onChange={e => Upload(e)} />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <b> Export Import: </b>\r\n                    <button onClick={() => exportHTML1(window.editor.canvas)}>To HTML</button>\r\n                    <button onClick={() => exportPng(window.editor.canvas)}>To PNG</button>\r\n                    <button onClick={() => exportSVG(window.editor.canvas)}>To SVG</button>\r\n                    <br /> <span>Import SVG</span> <input type='file' className='input-file' accept='.xml,.svg' onChange={e => importSVG(e.target.files[0])} />\r\n                </div>\r\n                <div className='drawingToolsRow' >\r\n                    <button onClick={() => setasClipPath(window.editor.canvas)}>Set as CipPath</button>\r\n                    <button onClick={() => cliptoPath(window.editor.canvas)}>Clip to Path</button>\r\n                </div>\r\n                <div style={{ display: 'none' }}>\r\n                    <input type='text' size=\"10\" onChange={(e) => setF0(e.target.value)} value={f0}></input>   <button onClick={() => changeText(id, f0)}>Update {id} value</button> <br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF1(e.target.value)} value={f1}></input>   <button onClick={() => changeText(id, f1)}>Update {id} value</button><br />\r\n                    <input type='text' size=\"10\" onChange={(e) => setF2(e.target.value)} value={f2}></input>   <button onClick={() => changeText(id, f2)}>Update {id} value</button><br />\r\n                </div>\r\n            </div>\r\n            <div style={{ width: 400, backgroundColor: '#ddf0db' }}>\r\n                <div>\r\n                    <div className='drawingToolsRow' >\r\n                        <b> Save: </b>\r\n                        <button onClick={() => drawingFileNew(window.editor.canvas)}>File New <FiFile /></button>\r\n                        <button onClick={() => drawingFileSave(window.editor.canvas)}>File Save <FaSave /></button><br />\r\n                    </div>\r\n                    <div className='drawingToolsRow' >\r\n                        <span>Open File:</span>  <input\r\n                            type='file'\r\n                            id='file'\r\n                            className='input-file'\r\n                            accept='.txt'\r\n                            onChange={e => handleFileChosen(e.target.files[0])}\r\n                        /><br />\r\n                    </div>\r\n                    <div className='drawingToolsRow' >\r\n                        <span>Add File:</span>  <input\r\n                            type='file'\r\n                            id='file'\r\n                            className='input-file'\r\n                            accept='.txt'\r\n                            onChange={e => handleFileChosen2(e.target.files[0])}\r\n                        /><br />\r\n                    </div>\r\n                    <div className='drawingToolsRow' >\r\n\r\n                        <b> Pages: </b>\r\n                        <button onClick={() => {\r\n                            var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                            var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                            if (retVal !== null) {\r\n                                deleteAll(window.editor?.canvas);\r\n                                setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n\r\n                                setCurentPage(canvaslist.length)\r\n                            }\r\n                        }}\r\n                        > Add Blank Page</button>\r\n\r\n                        <button onClick={() => {\r\n                            var ss = new Date().toLocaleTimeString('en-US', { year: \"numeric\", month: \"numeric\", day: \"numeric\", hour12: false, hour: \"numeric\", minute: \"numeric\", second: \"numeric\" });\r\n                            var retVal = prompt(\"Enter  page name to save : \", ss + \"_pageName\");\r\n                            if (retVal !== null) {\r\n                                setCanvaslist([...canvaslist, { 'pageName': retVal, 'pageValue': `${JSON.stringify((window.editor?.canvas.toJSON(['id'])))}` }]);\r\n                                setCurentPage(canvaslist.length)\r\n                            }\r\n                        }}\r\n\r\n                        ><FaSave /> in New Page</button>\r\n\r\n                        <button onClick={() => updatePage(window.editor?.canvas)}>Update Page</button>\r\n                    </div>\r\n                </div>\r\n                <div style={{ height: 800, width: 400, overflow: 'scroll', border: '1px solid black' }}>\r\n\r\n                    <DragDropContext onDragEnd={onDragEnd}>\r\n                        <Droppable droppableId=\"droppable-1\" type=\"PERSON\">\r\n                            {(provided, snapshot) => (\r\n                                <div\r\n                                    ref={provided.innerRef}\r\n                                    style={{ backgroundColor: snapshot.isDraggingOver ? 'yellow' : 'yellowgreen' }}\r\n                                    {...provided.droppableProps}\r\n                                >\r\n                                    <table border='1'>\r\n                                        <tbody>\r\n                                            {canvaslist.map((val, i) => {\r\n                                                return (\r\n                                                    <Draggable draggableId={\"draggable\" + i} key={val + i} index={i}>\r\n                                                        {(provided, snapshot) => (\r\n                                                            <tr\r\n                                                                ref={provided.innerRef}\r\n                                                                {...provided.draggableProps}\r\n                                                                style={{\r\n                                                                    ...provided.draggableProps.style,\r\n                                                                    backgroundColor: snapshot.isDragging ? 'red' : 'white',\r\n                                                                    boxShadow: snapshot.isDragging ? \"0 0 .4rem #666\" : \"none\",\r\n                                                                    // margin: '10px'\r\n                                                                }}\r\n                                                            >\r\n                                                                <td {...provided.dragHandleProps}><VscMove /></td><td style={{ minWidth: '300px', backgroundColor: currentPage === i ? 'green' : 'white', color: currentPage === i ? 'white' : 'black' }} onClick={(e) => {\r\n                                                                    recallPage(val.pageValue, window.editor.canvas, i);\r\n                                                                }} key1={i} key2={'vimlesh'} onDoubleClick={onDoubleClickPageName} suppressContentEditableWarning={true} contentEditable onMouseOut={updatePageName}>{val.pageName}</td><td><button key1={i} onClick={(e) => deletePage(e)}>  <VscTrash style={{ pointerEvents: 'none' }} /></button ></td>\r\n                                                            </tr>\r\n                                                        )\r\n                                                        }\r\n                                                    </Draggable>\r\n                                                )\r\n                                            })}\r\n                                            {provided.placeholder}\r\n                                        </tbody>\r\n                                    </table>\r\n\r\n                                </div>\r\n                            )}\r\n                        </Droppable>\r\n                    </DragDropContext>\r\n                </div>\r\n                Current Page:  {canvaslist[currentPage]?.pageName}\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default DrawingController\r\n","import useContextMenu from './useContextMenu'\r\nimport { setasClipPath, cliptoPath, gradientStroke, gradientFill, removeShadow, removeFill, removeStroke, createText, createRect, createCircle, createTriangle, deleteSelectedItem, deleteAll, bringToFront, sendToBack, undo, redo, lock, unlockAll, groupObjects, copy, paste, alignLeft, alignRight, alignCenter, textUnderline, textLineThrough, textItalic, txtBold, textNormal, removeBg } from './DrawingController'\r\nimport { VscPrimitiveSquare, VscCircleFilled, VscTriangleUp, VscEdit, VscTrash, VscLock, VscUnlock } from \"react-icons/vsc\";\r\nimport { AiOutlineRedo, AiOutlineUndo } from \"react-icons/ai\";\r\n\r\n\r\nconst ContextMenu = ({ editor }) => {\r\n  const { xPos, yPos, showMenu } = useContextMenu();\r\n  window.showMenu = showMenu;\r\n  return (<div>\r\n    {showMenu ? (<div className='rightClickMenu' style={{ position: 'absolute', left: xPos, top: yPos, color: 'white' }}>\r\n      <ul  >\r\n        <li onClick={() => deleteSelectedItem(editor.canvas)}>Delete Selected <VscTrash />\r\n          <ul>\r\n            <li onClick={() => deleteAll(editor.canvas)}>Delete All</li>\r\n          </ul>\r\n        </li>\r\n        <li onClick={() => bringToFront(editor.canvas)}>Bring To Front</li>\r\n        <li onClick={() => sendToBack(editor.canvas)}>Send To Back</li>\r\n\r\n        <li onClick={() => setasClipPath(editor.canvas)}>Set as ClipPath</li>\r\n        <li onClick={() => cliptoPath(editor.canvas)}>Clip to Path</li>\r\n\r\n        <li onClick={() => lock(editor.canvas)}>Lock <VscLock /></li>\r\n        <li onClick={() => unlockAll(editor.canvas)}>Unlock All <VscUnlock /></li>\r\n        <li onClick={() => groupObjects(editor.canvas, true)}>Group Selected</li>\r\n        <li onClick={() => groupObjects(editor.canvas, false)}>UnGroup Selected</li>\r\n        <li>Add<ul >\r\n          <li onClick={() => createText(editor.canvas)}>Text T</li>\r\n          <li onClick={() => createRect(editor.canvas)}>Rectangle <VscPrimitiveSquare /></li>\r\n          <li onClick={() => createCircle(editor.canvas)}>Circle <VscCircleFilled /></li>\r\n          <li onClick={() => createTriangle(editor.canvas)}>Triangle <VscTriangleUp /></li>\r\n\r\n        </ul></li>\r\n        <li>Text Align<ul >\r\n          <li onClick={() => alignLeft(editor.canvas)}>Left</li>\r\n          <li onClick={() => alignRight(editor.canvas)}>Right</li>\r\n          <li onClick={() => alignCenter(editor.canvas)}>Center</li>\r\n        </ul></li>\r\n        <li>Text Decoration<ul >\r\n          <li onClick={() => textUnderline(editor.canvas)}>Underline Toggle</li>\r\n          <li onClick={() => textLineThrough(editor.canvas)}>LineThrough Toggle</li>\r\n          <li onClick={() => textItalic(editor.canvas)}>Itallic</li>\r\n          <li onClick={() => txtBold(editor.canvas)}>Bold</li>\r\n          <li onClick={() => textNormal(editor.canvas)}>Normal</li>\r\n        </ul></li>\r\n        <li>Remove<ul >\r\n          <li onClick={() => removeFill(editor.canvas)}> Fill</li>\r\n          <li onClick={() => removeBg(editor.canvas)}> BG</li>\r\n          <li onClick={() => removeStroke(editor.canvas)}> Stroke</li>\r\n          <li onClick={() => removeShadow(editor.canvas)}> shadow</li>\r\n        </ul></li>\r\n\r\n        <li>Set Gradient<ul >\r\n          <li onClick={() => gradientFill(editor.canvas)}> Fill</li>\r\n          <li onClick={() => gradientStroke(editor.canvas)}> Stroke</li>\r\n        </ul></li>\r\n\r\n        <li onClick={() => redo(editor.canvas)}>Redo <AiOutlineRedo /></li>\r\n        <li onClick={() => undo(editor.canvas)}>Undo <AiOutlineUndo /></li>\r\n        <li onClick={() => copy()}>Copy</li>\r\n        <li onClick={() => paste()}>Paste</li>\r\n        <li>Drawing Mode<ul >\r\n          <li onClick={() => window.toggleModeDrawing(editor.canvas)}>Off<VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Pencil', editor.canvas)\r\n          }}>Pencil <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Spray', editor.canvas)\r\n          }}>Spray <VscEdit /></li>\r\n          <li onClick={() => {\r\n            editor.canvas.isDrawingMode = true;\r\n            window.onDrawingModeChange('Erase', editor.canvas)\r\n          }}>Erase <VscEdit /></li>\r\n        </ul></li>\r\n      </ul>\r\n    </div>) : ''}\r\n  </div>);\r\n};\r\n\r\nexport default ContextMenu","import { useSelector } from 'react-redux'\r\nimport { FabricJSCanvas, useFabricJSEditor } from \"fabricjs-react\";\r\nimport ContextMenu from './ContextMenu'\r\nimport {useEffect} from 'react';\r\nconst Drawing = ({ canvasOutput }) => {\r\n  const { editor, onReady } = useFabricJSEditor();\r\n  const state1 = useSelector(state => state.canvas1Reducer.aa)\r\n  const canvasFromJson = (canvas) => {\r\n    var state2 = state1.replace(new RegExp(String.fromCharCode(2), \"g\"), '\"').replace(new RegExp(String.fromCharCode(3), \"g\"), ' ').replace(new RegExp(String.fromCharCode(4), \"g\"), '/').replace(new RegExp(String.fromCharCode(5), \"g\"), '%')\r\n    const data = (JSON.parse(state2));\r\n    canvas.loadFromJSON(data);\r\n    canvas.requestRenderAll();\r\n  };\r\n  window.ReadToCasparcgfromStore = () => canvasFromJson(editor.canvas)\r\n  window.canvasFromJson = canvasFromJson\r\n  window.editor = editor;\r\n  function cancesetZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', null);\r\n    canvas.on('mouse:down', null);\r\n    canvas.on('mouse:move', null);\r\n    canvas.on('mouse:up', null);\r\n}\r\n\r\nfunction setZoomAndPan(canvas) {\r\n    canvas.on('mouse:wheel', function (opt) {\r\n        // window.editor.canvas.setBackgroundColor('rgba(255, 73, 64, 0.6)', window.editor.canvas.renderAll.bind(window.editor.canvas));\r\n\r\n        var delta = opt.e.deltaY;\r\n        var zoom = canvas.getZoom();\r\n        zoom *= 0.999 ** delta;\r\n        if (zoom > 20) zoom = 20;\r\n        if (zoom < 0.01) zoom = 0.01;\r\n        // canvas.setZoom(zoom);\r\n        canvas.zoomToPoint({ x: opt.e.offsetX, y: opt.e.offsetY }, zoom);\r\n        opt.e.preventDefault();\r\n        opt.e.stopPropagation();\r\n       \r\n    })\r\n\r\n    canvas.on('mouse:down', function (opt) {\r\n        var evt = opt.e;\r\n        if (evt.altKey === true) {\r\n            this.isDragging = true;\r\n            this.selection = false;\r\n            this.lastPosX = evt.clientX;\r\n            this.lastPosY = evt.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:move', function (opt) {\r\n        if (this.isDragging) {\r\n            var e = opt.e;\r\n            var vpt = this.viewportTransform;\r\n            vpt[4] += e.clientX - this.lastPosX;\r\n            vpt[5] += e.clientY - this.lastPosY;\r\n            this.requestRenderAll();\r\n            this.lastPosX = e.clientX;\r\n            this.lastPosY = e.clientY;\r\n        }\r\n    });\r\n    canvas.on('mouse:up', function (opt) {\r\n        // on mouse up we want to recalculate new interaction\r\n        // for all objects, so we call setViewportTransform\r\n        this.setViewportTransform(this.viewportTransform);\r\n        this.isDragging = false;\r\n        this.selection = true;\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\nuseEffect(() => {\r\n    setTimeout(() => {\r\n        setZoomAndPan(window.editor.canvas);\r\n    }, 2000);\r\n    return () => {\r\n        cancesetZoomAndPan(window.editor.canvas)\r\n    }\r\n}, [])\r\n\r\n  return (<div>\r\n    <FabricJSCanvas className={canvasOutput ? 'canvasOutput' : 'canvas'} onReady={onReady} />\r\n    <ContextMenu editor={editor} />\r\n  </div>);\r\n};\r\nexport default Drawing;\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nconst initialState = {\r\n    element1: []\r\n}\r\nconst reducer1 = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_ELEMENT': return {\r\n            ...state,\r\n            element1: [...state.element1, action.payload]\r\n        }\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateOneLiner = {\r\n    onelinerData: [{ id: 1, name: 'Vimlesh Kumar Tanti 1' }, { id: 2, name: 'Vimlesh Kumar Tanti 2' }, { id: 3, name: 'Vimlesh Kumar Tanti 3' }]\r\n}\r\nconst oneLinerReducer = (state = initialStateOneLiner, action) => {\r\n    switch (action.type) {\r\n        case 'UPDATE_ONELINER':\r\n            const updatedOneLinerData = state.onelinerData.map((val) => {\r\n                return val.id === parseInt(action.payload.id) ? { ...val, name: action.payload.name } : val;\r\n            });\r\n            return {\r\n                ...state,\r\n\r\n                onelinerData: [...updatedOneLinerData]\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStateStyle1 = {\r\n    style1: {\r\n        color: 'rgb(255, 255, 255)',\r\n        backgroundColor: 'rgb(80, 3, 124)'\r\n    }\r\n}\r\nconst style1Reducer = (state = initialStateStyle1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_STYLE1':\r\n            return {\r\n                ...state,\r\n\r\n                style1: { ...state.style1, ...action.payload }\r\n\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst initialStateCanvas1 = { aa:''}\r\n\r\n\r\nconst canvas1Reducer = (state = initialStateCanvas1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_CANVAS1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\n\r\nconst initialStatetextEditor1 = { aa: 'Vimlesh Kumar' }\r\n\r\nconst textEditor1Reducer = (state = initialStatetextEditor1, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE_TEXT1':\r\n            return {\r\n                ...state,\r\n                aa: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    reducer1,\r\n    oneLinerReducer,\r\n    style1Reducer,\r\n    canvas1Reducer,\r\n    textEditor1Reducer\r\n\r\n})\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, thunk)))\r\nexport default store","import React, { useState } from 'react'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { endpoint } from './common'\r\n\r\n\r\nexport const tools = [\"ADD 1 AUDIO\", \"ADD 1 BLUEFISH 1\", \"ADD 1 DECKLINK 1\", \"add 1 decklink 1 keyer_internal\", \"ADD 1 EMBEDDED_AUDIO\", \"ADD 1 FILE FILENAME.MP4 SEPARATE_KEY\", \"add 1 file xyz.mxf mono_streams\", \"ADD 1 IMAGE FILENAME\", \"ADD 1 NDI\", \"add 1 ndi name ch1\", \"add 1 ndi name ch1 allow_fields\", \"ADD 1 newtek_ivga\", \"ADD 1 SCREEN 0\", \"ADD 1 SCREEN 0 FULLSCREEN\", \"ADD 1 SCREEN 0 INTERACTIVE\", \"ADD 1 SCREEN 0 NON_INTERACTIVE\", \"ADD 1 SCREEN 0 WINDOWED\", \"ADD 1 SCREEN 1 name Preview\", \"ADD 1 SCREEN 1 NO_AUTO_DEINTERLACE\", \"Add 1 screen 2 key_only\", \"add 2 ndi name ch2\", \"ADD 2 SCREEN 0\", \"add 3 ndi name ch3\", \"add 4 ndi name ch4\", \"BYE\", \"call 1-1 framerate speed 0.3\", \"CALL 1-1 LOOP 0\", \"CALL 1-1 LOOP 1\", \"call 1-1 seek -30 rel\", \"call 1-1 seek 30 end\", \"call 1-1 seek 30 rel\", \"CHANNEL_GRID\", \"CLS\", \"DATA LIST\", \"DATA REMOVE my_data\", \"DATA RETRIEVE my_data\", 'DATA STORE my_data \"Some useful data\"', \"DIAG\", \"FLS\", \"GL GC\", \"GL INFO\", \"HELP\", \"HELP PLAY\", \"INFO\", \"INFO 1\", \"INFO 1-1\", \"INFO 1-1 B\", \"INFO 1-1 F\", \"INFO 1 DELAY\", \"INFO CONFIG\", \"INFO PATHS\", \"INFO QUEUES\", \"INFO SERVER\", \"INFO SYSTEM\", \"INFO THREADS\", \"KILL\", \"LOCK 1 ACQUIRE secret\", \"LOCK 1 CLEAR\", \"LOCK 1 RELEASE\", \"LOG LEVEL debug\", \"LOG LEVEL error\", \"LOG LEVEL fatal\", \"LOG LEVEL info\", \"LOG LEVEL trace\", \"LOG LEVEL warning\", \"MIXER 1-0 KEYER 1\", \"MIXER 1-1 CLEAR\", \"MIXER 1 CLEAR\", \"MIXER 1 STRAIGHT_ALPHA_OUTPUT 0\", \"MIXER 1 STRAIGHT_ALPHA_OUTPUT 1\", \"MIXER 5 GRID 2\", \"NDI LIST\", 'PLAY 1-1 \"ndi://DEVICE-NAME/Source+Name\"', 'PLAY 1-1 [NDI] \"DEVICE-NAME (Source Name)\"', \"PLAY 1-1 AMB STING wipe_mask 0 wipe_overlay\", \"PLAY 2-10 route://1-10 BACKGROUND\", \"PLAY 2-10 route://1-10 NEXT\", \"PRINT 1\", \"REMOVE 1 AUDIO\", \"REMOVE 1 BLUEFISH 1\", \"REMOVE 1 DECKLINK 1\", \"REMOVE 1 EMBEDDED_AUDIO\", \"REMOVE 1 FILE\", \"remove 1 ndi\", \"REMOVE 1 NDI\", \"REMOVE 1 newtek_ivga\", \"REMOVE 1 REPLAY\", \"REMOVE 1 SCREEN\", \"REMOVE 1 STREAM udp://localhost:5004\", \"remove 2 ndi\", \"REMOVE 2 SCREEN\", \"remove 3 ndi\", \"remove 4 ndi\", \"RESTART\", \"RESUME 1-1\", \"SET 1 CHANNEL_LAYOUT 8ch\", \"SET 1 MODE 1080i5000\", \"SET 1 MODE 1080i5994\", \"SET 1 MODE 1080i6000\", \"SET 1 MODE 1080p2398\", \"SET 1 MODE 1080p2400\", \"SET 1 MODE 1080p2500\", \"SET 1 MODE 1080p2997\", \"SET 1 MODE 1080p3000\", \"SET 1 MODE 1080p5000\", \"SET 1 MODE 1080p5994\", \"SET 1 MODE 1080p6000\", \"SET 1 MODE 1556p2398\", \"SET 1 MODE 1556p2400\", \"SET 1 MODE 1556p2500\", \"SET 1 MODE 2160p2398\", \"SET 1 MODE 2160p2400\", \"SET 1 MODE 2160p2500\", \"SET 1 MODE 2160p2997\", \"SET 1 MODE 2160p3000\", \"SET 1 MODE 576p2500\", \"SET 1 MODE 720p2398\", \"SET 1 MODE 720p2400\", \"SET 1 MODE 720p2500\", \"SET 1 MODE 720p2997\", \"SET 1 MODE 720p3000\", \"SET 1 MODE 720p5000\", \"SET 1 MODE 720p5994\", \"SET 1 MODE 720p6000\", \"SET 1 MODE dci1080p2398\", \"SET 1 MODE dci1080p2400\", \"SET 1 MODE dci1080p2500\", \"SET 1 MODE dci2160p2398\", \"SET 1 MODE dci2160p2400\", \"SET 1 MODE dci2160p2500\", \"SET 1 MODE NTSC\", \"SET 1 MODE PAL\", \"Swap 1-1 1-2\", \"THUMBNAIL GENERATE_ALL\", \"THUMBNAIL LIST\", \"TLS\", \"VERSION FLASH\", \"VERSION SERVER\", \"VERSION TEMPLATEH\"]\r\n\r\nconst CasparcgTools = () => {\r\n    const [textAreaContent, setTextAreaContent] = useState('play 1-1 amb loop')\r\n    const [currentTool, setCurrenttool] = useState('')\r\n\r\n    const sendAMCPCommand = () => {\r\n        let textArray = textAreaContent.split(/^/gm);\r\n        textArray.forEach(element => {\r\n            endpoint(`${element}`)\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p>AMCP Commands:</p>\r\n            <div style={{ display: 'flex' }}>\r\n                <div>\r\n                    <textarea rows=\"4\" cols=\"50\" onChange={e => setTextAreaContent(e.target.value)} defaultValue='play 1-1 amb loop' />\r\n                </div>\r\n                <div>\r\n                    <button style={{ height: 65, marginLeft: 10 }} onClick={sendAMCPCommand}>Send Command</button>\r\n                </div>\r\n            </div>\r\n            <select className=\"editableBox\" onChange={e => setCurrenttool(e.target.value)} value={currentTool}>\r\n                {tools.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n            </select>\r\n            <input className=\"timeTextBox\" onChange={e => setCurrenttool(e.target.value)} value={currentTool} />\r\n            <button style={{ marginLeft: '40px' }} onClick={() => endpoint(`${currentTool}`)}>Send Command</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CasparcgTools\r\n","import React, { useState } from 'react'\r\nimport { fabric } from \"fabric\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\nconst ColorGradient = () => {\r\n    const [color1, setColor1] = useState('red')\r\n    const [color2, setColor2] = useState('green')\r\n    const [direction, setDirection] = useState('to right')\r\n    const directions = ['to right', 'to bottom', 'to bottom right'];\r\n    const [coords1, setCoords1] = useState({ x1: 0, y1: 0, x2: 1, y2: 0 })\r\n\r\n    function setCoords(direction1) {\r\n        switch (direction1) {\r\n            case 'to right':\r\n                setCoords1({ x1: 0, y1: 0, x2: 1, y2: 0 });\r\n                break;\r\n            case 'to bottom':\r\n                setCoords1({ x1: 0, y1: 0, x2: 0, y2: 1 });\r\n                break;\r\n            case 'to bottom right':\r\n                setCoords1({ x1: 0, y1: 0, x2: 1, y2: 1 });\r\n                break;\r\n            default:\r\n            //nothing\r\n        }\r\n    }\r\n\r\n    const gradient2 = new fabric.Gradient({\r\n        type: 'linear',\r\n        gradientUnits: 'percentage',\r\n        coords: coords1,\r\n        colorStops: [\r\n            { offset: 0, color: color1 },\r\n            { offset: 1, color: color2 }\r\n        ]\r\n    });\r\n\r\n\r\n    const changeColor1 = e => {\r\n        setColor1(e.target.value)\r\n    }\r\n    const changeColor2 = e => {\r\n        setColor2(e.target.value)\r\n    }\r\n    const setGradient2Fill = canvas => {\r\n        canvas.getActiveObjects().forEach(element => { element.set('fill', gradient2) });\r\n        canvas.requestRenderAll();\r\n    }\r\n    const setGradient3Fill = canvas => {\r\n        canvas.getActiveObjects().forEach(element => {\r\n            element.set('fill', new fabric.Gradient({\r\n                type: 'radial',\r\n                gradientUnits: 'pixel',\r\n                coords: {\r\n                    x1: element.width / 2,\r\n                    y1: element.height / 2,\r\n                    r1: element.width / 8,\r\n                    x2: element.width / 2,\r\n                    y2: element.height / 2,\r\n                    r2: element.width / 2,\r\n\r\n                },\r\n                colorStops: [\r\n                    { offset: 0, color: color1 },\r\n                    { offset: 1, color: color2 }\r\n                ]\r\n            }))\r\n        });\r\n        canvas.requestRenderAll();\r\n    }\r\n\r\n    const setGradient2Stroke = canvas => {\r\n        canvas.getActiveObjects().forEach(element => { element.set('stroke', gradient2) });\r\n        canvas.requestRenderAll();\r\n    }\r\n    return (<>\r\n        <b>Color Gradient</b>\r\n        <div style={{ margin: 5, border: '2px solid blue', width: 295, height: 100, backgroundImage: `linear-gradient(${direction}, ${color1}, ${color2})` }} />\r\n        <div>\r\n            Color 1 <input type=\"color\" defaultValue='#ff0000' onChange={e => changeColor1(e)} />\r\n            Color 2 <input type=\"color\" defaultValue='#00ff00' onChange={e => changeColor2(e)} />\r\n        </div>\r\n        {directions.map((val, i) => {\r\n            return (<>\r\n                <div key={uuidv4()} style={{ margin: 5 }}>\r\n                    <input checked={direction === val}\r\n                        onChange={\r\n                            e => {\r\n                                setDirection(e.target.value);\r\n                                setCoords(e.target.value)\r\n                            }\r\n                        } type=\"radio\" value={val} id={val} />\r\n                    <label htmlFor={val}>{val}</label>\r\n                </div>\r\n            </>)\r\n        })}\r\n        <div style={{ margin: 5 }} >\r\n            <button on onClick={() => setGradient2Fill(window.editor.canvas)}>Set Gradient Fill</button>\r\n            <button on onClick={() => setGradient2Stroke(window.editor.canvas)}>Set Gradient Stroke</button>\r\n\r\n            <button on onClick={() => setGradient3Fill(window.editor.canvas)}>Set Radial Gradient Fill</button>\r\n\r\n\r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default ColorGradient\r\n","\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport socketIOClient from \"socket.io-client\";\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport Video from './Video';\r\nimport Drawing from './Drawing';\r\nimport { endpoint, address1 } from './common'\r\nimport axios from 'axios'\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport DrawingController, { addRoundedCornerImage } from './DrawingController';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport CasparcgTools from './CasparcgTools';\r\nimport ColorGradient from './ColorGradient';\r\n\r\nconst buildDate = '031021'\r\n\r\nconst App = (props) => {\r\n  const [mediaPath, setmediaPath] = useState();\r\n  // eslint-disable-next-line\r\n  const [remainingTime, setRemainingTime] = useState()\r\n  const [filename, setfilename] = useState('amb');\r\n  const [imageName, setImageName] = useState(`http://${window.location.host}${process.env.PUBLIC_URL}/img/pine-wood-500x500.jpg`)\r\n  const refPreviewContainer = useRef();\r\n  const [media, setMedia] = useState([]);\r\n  const chNumbers = [1, 2, 3, 4, 5, 6];\r\n\r\n  const [chNumber, setChNumber] = useState(1);\r\n  const [currentTab, setCurrentTab] = useState('Drawing');\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchText2, setSearchText2] = useState('');\r\n\r\n\r\n  const searchedMedia =\r\n    media.filter((value) => {\r\n      return (value.toLowerCase().search(searchText.toLowerCase()) > -1)\r\n    })\r\n\r\n  const searchedMedia2 =\r\n    media.filter((value) => {\r\n      return (value.toLowerCase().search(searchText2.toLowerCase()) > -1)\r\n    })\r\n\r\n  const animationMethods = [\r\n    'linear',\r\n    'easenone',\r\n    'easeinquad',\r\n    'easeoutquad',\r\n    'easeinoutquad',\r\n    'easeoutinquad',\r\n    'easeincubic',\r\n    'easeoutcubic',\r\n    'easeinoutcubic',\r\n    'easeoutincubic',\r\n    'easeinquart',\r\n    'easeoutquart',\r\n    'easeinoutquart',\r\n    'easeoutinquart',\r\n    'easeinquint',\r\n    'easeoutquint',\r\n    'easeinoutquint',\r\n    'easeoutinquint',\r\n    'easeinsine',\r\n    'easeoutsine',\r\n    'easeinoutsine',\r\n    'easeoutinsine',\r\n    'easeinexpo',\r\n    'easeoutexpo',\r\n    'easeinoutexpo',\r\n    'easeoutinexpo',\r\n    'easeincirc',\r\n    'easeoutcirc',\r\n    'easeinoutcirc',\r\n    'easeoutincirc',\r\n    \"easeinelastic\",\r\n    \"easeoutelastic\",\r\n    \"easeinoutelastic\",\r\n    \"easeoutinelastic\",\r\n    \"easeinback\",\r\n    \"easeoutback\",\r\n    \"easeinoutback\",\r\n    \"easeoutintback\",\r\n    \"easeoutbounce\",\r\n    \"easeinbounce\",\r\n    \"easeinoutbounce\",\r\n    \"easeoutinbounce\",\r\n  ]\r\n\r\n  const [animationMethod, setAnimationMethod] = useState('easeinsine');\r\n\r\n  useEffect(() => {\r\n    window.imageName = imageName;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [imageName])\r\n\r\n  useEffect(() => {\r\n    window.animationMethod = animationMethod;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [animationMethod])\r\n\r\n  useEffect(() => {\r\n    window.chNumber = chNumber;\r\n    document.title = `CH #${chNumber} RCC_${buildDate}`;\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [chNumber])\r\n\r\n  const connectHandler = () => {\r\n    if (connectbutton.current.style.backgroundColor === \"green\") {\r\n      axios.post(address1 + '/disconnect').then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n    else {\r\n      const data = { host: 'localhost', port: 5250 }\r\n      axios.post(address1 + '/connect', data).then((aa) => {\r\n        // console.log('success', aa)\r\n      }).catch((aa) => { console.log('Error', aa) });\r\n    }\r\n\r\n  }\r\n\r\n  const connectbutton = useRef();\r\n\r\n  const refreshMedia = () => {\r\n    axios.post(address1 + '/getmedia').then((aa) => {\r\n      setMedia(aa.data)\r\n    }).catch((aa) => { console.log('Error', aa) });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(':8080');\r\n    socket.on(\"FromAPI\", data => {\r\n      setRemainingTime(data);\r\n    });\r\n    socket.on(\"Fromccgsocket\", data => {\r\n      setmediaPath(data);\r\n    });\r\n    socket.on(\"connectionStatus\", data => {\r\n      if (data === 'true') {\r\n        connectbutton.current.style.backgroundColor = \"green\";\r\n      }\r\n      else {\r\n        connectbutton.current.style.backgroundColor = \"red\";\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    refreshMedia()\r\n    return () => {\r\n      // cleanup\r\n    }\r\n  }, [mediaPath])\r\n\r\n  const onTabChange = (index, prevIndex) => {\r\n    switch (index) {\r\n      case 0:\r\n        setCurrentTab('Drawing')\r\n        break;\r\n      case 1:\r\n        setCurrentTab('Video')\r\n        break;\r\n      default:\r\n      //nothing\r\n    }\r\n  }\r\n\r\n  const changeAnimationMethod = e => {\r\n    setAnimationMethod(e.target.value);\r\n  }\r\n  const changeChannelNumber = e => {\r\n    setChNumber(e.target.value);\r\n  }\r\n\r\n  return (<React.Fragment>\r\n\r\n    <div className='menu_bar'>\r\n      <button className='connectbutton' style={{}} ref={connectbutton} onClick={connectHandler}>Connect</button> <button className='StopChannelButton' style={{}} onClick={() => endpoint(`clear ${chNumber}`)}>Stop Channel</button>\r\n      <b> Animation Method: </b><select onChange={e => changeAnimationMethod(e)} value={animationMethod}>\r\n        {animationMethods.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <b>Channel Number:</b>\r\n      <select onChange={e => changeChannelNumber(e)} value={chNumber}>\r\n        {chNumbers.map((val) => { return <option key={uuidv4()} value={val}>{val}</option> })}\r\n      </select>\r\n      <button onClick={() => endpoint(`swap 1 2`)}>Swap Channels</button>\r\n\r\n      <span style={{ position: 'absolute', right: '10px' }}><b >All version of casparcg server</b></span>\r\n    </div>\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      border: '1px dashed blue',\r\n      height: '100vh',\r\n      flexWrap: 'nowrap'\r\n    }}>\r\n      <div style={{ width: '1035px' }} >\r\n        <div style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          border: '1px dashed blue',\r\n          height: '100vh',\r\n          flexWrap: 'nowrap'\r\n        }}>\r\n          <div>\r\n            <div ref={refPreviewContainer} id='preview-container' className='preview-container'>\r\n              <div style={{ display: (currentTab === 'Drawing') ? 'none' : 'block' }}> <Video video={address1 + '/media/amb.mp4'} /></div><div style={{ display: (currentTab === 'Drawing') ? 'block' : 'none' }}><Provider store={store}><Drawing /></Provider></div>\r\n            </div>\r\n            <div style={{ display: 'flex' }}>\r\n              <div style={{ backgroundColor: 'grey', border: '1px solid yellow', width: 750, height: 400 }}>\r\n                <h4>Put as below in casparcg.config file and drag screen consumer here</h4>\r\n                <h5>\r\n                  &lt;screen&gt;\r\n                  &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                  &lt;x&gt;0&lt;/x&gt;\r\n                  &lt;y&gt;680&lt;/y&gt;\r\n                  &lt;width&gt;680&lt;/width&gt;\r\n                  &lt;height&gt;325&lt;/height&gt;\r\n\r\n                  &lt;/screen&gt;\r\n                </h5>\r\n              </div>\r\n              <div >\r\n                <ColorGradient />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div style={{ width: '38vw', minWidth: '400px' }}>\r\n        <Tabs forceRenderTabPanel={true} onSelect={(index, prevIndex) => onTabChange(index, prevIndex)} >\r\n          <TabList>\r\n            <Tab>Graphics</Tab>\r\n            <Tab>Video</Tab>\r\n            <Tab>Casparcg Tools</Tab>\r\n            <Tab>Help</Tab>\r\n          </TabList>\r\n          <TabPanel>\r\n            <div style={{ border: '1px dashed blue', width: 900 }}>\r\n              <DrawingController />\r\n            </div>\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Video</h2>\r\n            <div> <input onChange={(e) => setfilename(e.target.value)} value={filename}></input>\r\n              <button className='palyButton' onClick={() => endpoint(`load ${chNumber}-1 \"${filename}\"`)}>Cue</button>\r\n              <button className='palyButton' onClick={() => endpoint(`play ${chNumber}-1 \"${filename}\" loop`)}>Play</button>\r\n              <button className='stopButton' onClick={() => endpoint(`pause ${chNumber}-1`)}>Pause</button>\r\n              <button className='stopButton' onClick={() => endpoint(`resume ${chNumber}-1`)}>Resume</button>\r\n              <button className='stopButton' onClick={() => endpoint(`stop ${chNumber}-1`)}>Stop</button>\r\n            </div>\r\n            <button onClick={refreshMedia}>Refresh Media</button>{searchedMedia.length} files<br />\r\n            <span>search:</span><input type='text' onChange={e => setSearchText(e.target.value)} />\r\n            <div style={{ maxHeight: '300px', maxWidth: '400px', overflow: 'scroll' }}>\r\n              <table border='1' >\r\n                <tbody>\r\n                  {searchedMedia.map((val, i) => {\r\n                    return <tr key={uuidv4()}><td onClick={(e) => {\r\n                      setfilename((e.target.innerText).split('.')[0]);\r\n                      var video = document.getElementById('video');\r\n                      var source = document.getElementsByTagName('source')[0];\r\n\r\n                      if ((`${address1}/media/${e.target.innerText}`).match(/\\.(jpeg|jpg|bmp|gif|png)$/) != null) {\r\n                        video.setAttribute(\"poster\", `${address1}/media/${e.target.innerText}`);\r\n                      }\r\n                      else {\r\n                        video.setAttribute(\"poster\", ``);\r\n                        source.setAttribute(\"src\", `${address1}/media/${e.target.innerText}`);\r\n                        video.load();\r\n                      }\r\n                    }\r\n                    }>{val}</td></tr>\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <h2>Casparcg Tools</h2>\r\n            <CasparcgTools />\r\n\r\n            <div>\r\n              <b>Select image from casparcg media folder: </b><br />\r\n              <button onClick={refreshMedia}>Refresh Media</button>{searchedMedia2.length} files<br />\r\n              <span>search:</span><input type='text' onChange={e => setSearchText2(e.target.value)} />\r\n\r\n              <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                <div style={{ maxHeight: '160px', maxWidth: '315px', overflow: 'scroll', border: '1px solid red' }}>\r\n                  <table border='1' >\r\n                    <tbody>\r\n                      {searchedMedia2.map((val, i) => {\r\n                        return <tr key={i}><td onClick={(e) => {\r\n                          setImageName((address1 + `/media/` + e.target.innerText));\r\n                        }}>{val}</td></tr>\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div style={{ border: '1px solid red', display: 'flex', alignContent: 'center', alignItems: 'center' }}>\r\n                  <div>\r\n                    <img src={imageName} alt='' width=\"200\" height=\"130\" style={{ border: '3px solid #555' }}></img>\r\n                  </div>\r\n                  <div>\r\n                    Selected Image/video <br />\r\n                    <button onClick={() => addRoundedCornerImage(window.editor.canvas, window.imageName)}>Add Image</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </TabPanel>\r\n\r\n          <TabPanel>\r\n            <h2>Help</h2>\r\n            <ol>\r\n              <li>It works with all version of Server</li>\r\n              <li> Put as below in casparcg.config file and drag screen consumer below Designer window\r\n                &lt;screen&gt;\r\n                &lt;always-on-top&gt;true&lt;/always-on-top&gt;\r\n                &lt;x&gt;0&lt;/x&gt;\r\n                &lt;y&gt;680&lt;/y&gt;\r\n                &lt;width&gt;690&lt;/width&gt;\r\n                &lt;height&gt;325&lt;/height&gt;\r\n\r\n                &lt;/screen&gt;\r\n              </li>\r\n\r\n              <li>Select Casparcg Screen Sizes from drop down</li>\r\n              <li>Add some text or rectangle by clicking on buttons and then click Show to Casparcg</li>\r\n\r\n              <li>There is right click menu also for drawing mode. </li>\r\n\r\n\r\n              <li><a href='https://github.com/vimlesh1975/ReactCasparClient' target='_blank' rel=\"noreferrer\">Github Page</a> </li>\r\n              <li><a href='https://vimlesh1975.github.io/ReactCasparClient/' target='_blank' rel=\"noreferrer\">Github Online Client</a> </li>\r\n\r\n              <li><a href='https://casparcgforum.org/t/react-caspar-client' target='_blank' rel=\"noreferrer\">Casparcg Forum Topic</a> </li>\r\n              <li><a href='https://bit.ly/3jRrhDL' target='_blank' rel=\"noreferrer\">Latest Build</a> </li>\r\n\r\n              <li>test</li>\r\n\r\n\r\n            </ol>\r\n            <h2>Not work</h2>\r\n            <ol>\r\n              <li>Erase will not work on Images </li>\r\n              <li>Erase will work on Images from local pc </li>\r\n              <li>Images from local pc will be slow </li>\r\n              <li>Emoji is not supported in server2.07 and 2.1 </li>\r\n\r\n\r\n            </ol>\r\n          </TabPanel>\r\n        </Tabs >\r\n      </div >\r\n\r\n    </div>\r\n\r\n  </React.Fragment >);\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport Drawing from './Drawing';\r\n\r\n\r\nwindow.store = store;\r\n\r\nReactDOM.render(\r\n\r\n  <Provider store={store}>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      {/* <Router > */}\r\n\r\n      <Switch>\r\n        <Route exact path='/' render={() => (<App />)} />\r\n\r\n        <Route exact path='/drawing' render={() => <Drawing canvasOutput={true} />} />\r\n      </Switch>\r\n    </Router>\r\n  </Provider>,\r\n\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}